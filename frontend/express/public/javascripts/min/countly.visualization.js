(function(h,a){function e(h,e){var f=a.createElement("canvas");f.setAttribute("width",h*k);f.setAttribute("height",e*k);4!=k&&f.setAttribute("style","width:"+h+"px;height:"+e+"px");return f}var f=h.fn.peity=function(e,k){a.createElement("canvas").getContext&&this.each(function(){h(this).change(function(){var a=h.extend({},k),K=this;h.each(a,function(e,f){h.isFunction(f)&&(a[e]=f.call(K))});var P=h(this).html();f.graphers[e].call(this,h.extend({},f.defaults[e],a));h(this).trigger("chart:changed",P)}).trigger("change")});
return this};f.graphers={};f.defaults={};f.add=function(h,e,a){f.graphers[h]=a;f.defaults[h]=e};var k=window.devicePixelRatio||1;f.add("pie",{colours:["#FFF4DD","#FF9900"],delimeter:"/",diameter:16},function(a){var f=h(this),k=f.text().split(a.delimeter),K=parseFloat(k[0]),P=parseFloat(k[1]),k=-Math.PI/2,K=K/P*Math.PI*2,P=e(a.diameter,a.diameter),J=P.getContext("2d"),z=P.width/2;J.beginPath();J.moveTo(z,z);J.arc(z,z,z,K+k,0==K?2*Math.PI:k,!1);J.fillStyle=a.colours[0];J.fill();J.beginPath();J.moveTo(z,
z);J.arc(z,z,z,k,K+k,!1);J.fillStyle=a.colours[1];J.fill();f.wrapInner(h("<span>").hide()).append(P)});f.add("line",{colour:"#c6d9fd",strokeColour:"#4d89f9",strokeWidth:1,delimeter:",",height:16,max:null,min:0,width:h(this).parent().outerWidth()-.1*h(this).parent().outerWidth(),useMinAsBase:!1,opaqueGradient:!1},function(a){var f,D,K;a.width=h(this).parent().outerWidth()-.1*h(this).parent().outerWidth();var P=h(this),J=e(a.width,a.height);f=P.text().split(a.delimeter);1==f.length&&f.push(f[0]);var z=
Math.max.apply(Math,f.concat([a.max]));D=Math.min.apply(Math,f.concat([a.min]));var A=J.getContext("2d"),t=J.getContext("2d").createLinearGradient(0,0,0,30);K=J.width;var u=J.height,W=K/(f.length-1),ca=u/(z-D),z=[],O;A.beginPath();A.moveTo(0,u+D*ca);var Y=0;if(a.useMinAsBase)for(Y=f.length?f[0]:0,O=0;O<f.length;O++)f[O]<Y&&(Y=f[O]);for(O=0;O<f.length;O++){var ba=O*W,ha=u-ca*(f[O]-D-Y);z.push({x:ba,y:ha});A.lineTo(ba,ha)}A.lineTo(K,u+D*ca);a.opaqueGradient?(f=a.colour,f=f.replace(/^\s*#|\s*$/g,""),
3==f.length&&(f=f.replace(/(.)/g,"$1$1")),r=parseInt(f.substr(0,2),16),g=parseInt(f.substr(2,2),16),b=parseInt(f.substr(4,2),16),f=r,D=g,K=b,t.addColorStop(.3,"rgba("+f+", "+D+", "+K+", 0.4)"),t.addColorStop(.7,"rgba("+f+", "+D+", "+K+", 0.2)"),t.addColorStop(1,"rgba("+f+", "+D+", "+K+", 0)")):(A.globalAlpha=.3,t.addColorStop(1,a.colour));A.fillStyle=t;A.fill();A.globalAlpha=1;if(a.strokeWidth){A.beginPath();A.moveTo(0,z[0].y);for(O=0;O<z.length;O++)A.lineTo(z[O].x,z[O].y);A.lineWidth=a.strokeWidth*
k;A.strokeStyle=a.strokeColour;A.stroke()}P.wrapInner(h("<span>").hide()).append(J)});f.add("bar",{colour:"#4D89F9",delimeter:",",height:16,max:null,min:0,width:120,maxBars:10,padding:10,borderBottom:2},function(a){a.width=120;var f=h(this),k=f.text().split(a.delimeter);if(k.length>a.maxBars){for(var K=Math.ceil(k.length/a.maxBars),P=0,J=0,z=[],A=0,t=0;t<k.length;t++)A+=parseInt(k[t]),P++,0==P%K&&(z[J]=A/K,J++,A=0);if(P!=k.length){for(t=P;t<k.length;t++)A+=k[t];z[J]=A/K}k=z}var t=Math.max.apply(Math,
k.concat([a.max])),K=Math.min.apply(Math,k.concat([a.min])),P=e(a.width,a.height),J=P.getContext("2d"),z=P.width-a.padding,A=P.height,u=A/(t-K),W=(z+2)/k.length;J.fillStyle=a.colour;for(t=0;t<k.length;t++)J.fillRect(t*W+Math.floor(a.padding/2),A-u*(k[t]-K)-a.borderBottom,W-2,u*k[t]);a.borderBottom&&J.fillRect(0,A-a.borderBottom,z+a.padding,a.borderBottom);f.wrapInner(h("<span>").hide()).append(P)})})(jQuery,document);(function(h){h.color={};h.color.make=function(a,f,k,n){var q={};q.r=a||0;q.g=f||0;q.b=k||0;q.a=null!=n?n:1;q.add=function(h,a){for(var e=0;e<h.length;++e)q[h.charAt(e)]+=a;return q.normalize()};q.scale=function(h,a){for(var e=0;e<h.length;++e)q[h.charAt(e)]*=a;return q.normalize()};q.toString=function(){return 1<=q.a?"rgb("+[q.r,q.g,q.b].join()+")":"rgba("+[q.r,q.g,q.b,q.a].join()+")"};q.normalize=function(){function h(a,e,f){return e<a?a:e>f?f:e}q.r=h(0,parseInt(q.r),255);q.g=h(0,parseInt(q.g),255);
q.b=h(0,parseInt(q.b),255);q.a=h(0,q.a,1);return q};q.clone=function(){return h.color.make(q.r,q.b,q.g,q.a)};return q.normalize()};h.color.extract=function(a,f){var k;do{k=a.css(f).toLowerCase();if(""!=k&&"transparent"!=k)break;a=a.parent()}while(!h.nodeName(a.get(0),"body"));"rgba(0, 0, 0, 0)"==k&&(k="transparent");return h.color.parse(k)};h.color.parse=function(e){var f,k=h.color.make;if(f=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))return k(parseInt(f[1],10),parseInt(f[2],
10),parseInt(f[3],10));if(f=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(e))return k(parseInt(f[1],10),parseInt(f[2],10),parseInt(f[3],10),parseFloat(f[4]));if(f=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))return k(2.55*parseFloat(f[1]),2.55*parseFloat(f[2]),2.55*parseFloat(f[3]));if(f=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(e))return k(2.55*
parseFloat(f[1]),2.55*parseFloat(f[2]),2.55*parseFloat(f[3]),parseFloat(f[4]));if(f=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))return k(parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16));if(f=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))return k(parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16));e=h.trim(e).toLowerCase();if("transparent"==e)return k(255,255,255,0);f=a[e]||[0,0,0];return k(f[0],f[1],f[2])};var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);
(function(h){function a(a,k,n,q){function D(B,h){h=[v].concat(h);for(var a=0;a<B.length;++a)B[a].apply(this,h)}function K(B){for(var a=[],e=0;e<B.length;++e){var f=h.extend(!0,{},H.series);null!=B[e].data?(f.data=B[e].data,delete B[e].data,h.extend(!0,f,B[e]),B[e].data=f.data):f.data=B[e];a.push(f)}Z=a;a=Z.length;e=[];f=[];for(B=0;B<Z.length;++B){var l=Z[B].color;null!=l&&(--a,"number"==typeof l?f.push(l):e.push(h.color.parse(Z[B].color)))}for(B=0;B<f.length;++B)a=Math.max(a,f[B]+1);e=[];for(B=f=
0;e.length<a;)l=H.colors.length==B?h.color.make(100,100,100):h.color.parse(H.colors[B]),l.scale("rgb",1+(1==f%2?-1:1)*Math.ceil(f/2)*.2),e.push(l),++B,B>=H.colors.length&&(B=0,++f);for(B=a=0;B<Z.length;++B){f=Z[B];null==f.color?(f.color=e[a].toString(),++a):"number"==typeof f.color&&(f.color=e[f.color].toString());if(null==f.lines.show){var U,l=!0;for(U in f)if(f[U]&&f[U].show){l=!1;break}l&&(f.lines.show=!0)}f.xaxis=A(ma,P(f,"x"));f.yaxis=A(na,P(f,"y"))}t()}function P(B,a){var h=B[a+"axis"];"object"==
typeof h&&(h=h.n);"number"!=typeof h&&(h=1);return h}function J(){return h.grep(ma.concat(na),function(B){return B})}function z(B){var a={},h,e;for(h=0;h<ma.length;++h)(e=ma[h])&&e.used&&(a["x"+e.n]=e.c2p(B.left));for(h=0;h<na.length;++h)(e=na[h])&&e.used&&(a["y"+e.n]=e.c2p(B.top));void 0!==a.x1&&(a.x=a.x1);void 0!==a.y1&&(a.y=a.y1);return a}function A(B,a){B[a-1]||(B[a-1]={n:a,direction:B==ma?"x":"y",options:h.extend(!0,{},B==ma?H.xaxis:H.yaxis)});return B[a-1]}function t(){function a(h,B,e){B<h.datamin&&
B!=-l&&(h.datamin=B);e>h.datamax&&e!=l&&(h.datamax=e)}var e=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,l=Number.MAX_VALUE,E,U,k,I,V,t,s,u,v,n;h.each(J(),function(a,h){h.datamin=e;h.datamax=f;h.used=!1});for(E=0;E<Z.length;++E)V=Z[E],V.datapoints={points:[]},D(R.processRawData,[V,V.data,V.datapoints]);for(E=0;E<Z.length;++E){V=Z[E];var A=V.data,q=V.datapoints.format;if(!q){q=[];q.push({x:!0,number:!0,required:!0});q.push({y:!0,number:!0,required:!0});if(V.bars.show||V.lines.show&&V.lines.fill)q.push({y:!0,
number:!0,required:!1,defaultValue:0}),V.bars.horizontal&&(delete q[q.length-1].y,q[q.length-1].x=!0);V.datapoints.format=q}if(null==V.datapoints.pointsize)for(V.datapoints.pointsize=q.length,s=V.datapoints.pointsize,t=V.datapoints.points,insertSteps=V.lines.show&&V.lines.steps,V.xaxis.used=V.yaxis.used=!0,U=k=0;U<A.length;++U,k+=s){n=A[U];var C=null==n;if(!C)for(I=0;I<s;++I){u=n[I];if(v=q[I])v.number&&null!=u&&(u=+u,isNaN(u)?u=null:Infinity==u?u=l:-Infinity==u&&(u=-l)),null==u&&(v.required&&(C=!0),
null!=v.defaultValue&&(u=v.defaultValue));t[k+I]=u}if(C)for(I=0;I<s;++I)u=t[k+I],null!=u&&(v=q[I],v.x&&a(V.xaxis,u,u),v.y&&a(V.yaxis,u,u)),t[k+I]=null;else if(insertSteps&&0<k&&null!=t[k-s]&&t[k-s]!=t[k]&&t[k-s+1]!=t[k+1]){for(I=0;I<s;++I)t[k+s+I]=t[k+I];t[k+1]=t[k-s+1];k+=s}}}for(E=0;E<Z.length;++E)V=Z[E],D(R.processDatapoints,[V,V.datapoints]);for(E=0;E<Z.length;++E){V=Z[E];t=V.datapoints.points;s=V.datapoints.pointsize;n=k=e;C=A=f;for(U=0;U<t.length;U+=s)if(null!=t[U])for(I=0;I<s;++I)u=t[U+I],
(v=q[I])&&u!=l&&u!=-l&&(v.x&&(u<k&&(k=u),u>A&&(A=u)),v.y&&(u<n&&(n=u),u>C&&(C=u)));V.bars.show&&(U="left"==V.bars.align?0:-V.bars.barWidth/2,V.bars.horizontal?(n+=U,C+=U+V.bars.barWidth):(k+=U,A+=U+V.bars.barWidth));a(V.xaxis,k,A);a(V.yaxis,n,C)}h.each(J(),function(a,h){h.datamin==e&&(h.datamin=null);h.datamax==f&&(h.datamax=null)})}function u(B,e){var M=document.createElement("canvas");M.className=e;M.width=l;M.height=s;B||h(M).css({position:"absolute",left:0,top:0});h(M).appendTo(a);M.getContext||
(M=window.G_vmlCanvasManager.initElement(M));M.getContext("2d").save();return M}function W(){l=a.width()+10;s=a.height();if(0>=l||0>=s)throw"Invalid dimensions for plot, width = "+l+", height = "+s;}function ca(a){a.width!=l&&(a.width=l);a.height!=s&&(a.height=s);a=a.getContext("2d");a.restore();a.save()}function O(a){function h(a){return a}var e,f,l=a.options.transform||h,k=a.options.inverseTransform;"x"==a.direction?(e=a.scale=C/Math.abs(l(a.max)-l(a.min)),f=Math.min(l(a.max),l(a.min))):(e=a.scale=
N/Math.abs(l(a.max)-l(a.min)),e=-e,f=Math.max(l(a.max),l(a.min)));a.p2c=l==h?function(a){return(a-f)*e}:function(a){return(l(a)-f)*e};a.c2p=k?function(a){return k(f+a/e)}:function(a){return f+a/e}}function Y(e){function l(k,E){return h('<div style="position:absolute;top:-10000px;'+E+'font-size:smaller"><div class="'+e.direction+"Axis "+e.direction+e.n+'Axis">'+k.join("")+"</div></div>").appendTo(a)}var M=e.options,k,E=e.ticks||[],U=[],t,I=M.labelWidth,M=M.labelHeight;if("x"==e.direction){if(null==
I&&(I=60),null==M){U=[];for(k=0;k<E.length;++k)(t=E[k].label)&&U.push('<div class="tickLabel" style="float:left;width:'+I+'px">'+t+"</div>");0<U.length&&(U.push('<div style="clear:left"></div>'),E=l(U,"width:10000px;"),M=E.height(),E.remove())}}else if(null==I||null==M){for(k=0;k<E.length;++k)(t=E[k].label)&&U.push('<div class="tickLabel">'+t+"</div>");0<U.length&&(E=l(U,""),null==I&&(I=E.children().width()),null==M&&(M=E.find("div.tickLabel").height()),E.remove())}null==I&&(I=0);null==M&&(M=0);e.labelWidth=
I;e.labelHeight=M}function ba(a){var e=a.labelWidth,f=a.labelHeight,k=a.options.position,E=a.options.tickLength,U=H.grid.axisMargin,t=H.grid.labelMargin,I="x"==a.direction?ma:na,u=h.grep(I,function(a){return a&&a.options.position==k&&a.reserveSpace});h.inArray(a,u)==u.length-1&&(U=0);null==E&&(E="full");I=h.grep(I,function(a){return a&&a.reserveSpace});(I=0==h.inArray(a,I))||"full"!=E||(E=5);isNaN(+E)||(t+=+E);"x"==a.direction?(f+=t,"bottom"==k?(S.bottom+=f+U,a.box={top:s-S.bottom,height:f}):(a.box=
{top:S.top+U,height:f},S.top+=f+U)):(e+=t,"left"==k?(a.box={left:S.left+U+25,width:e},S.left+=e+U-(e+25)):"right"==k?(a.box={left:l-e-15-S.right-U,width:e},S.left+=e+U-e):(S.right+=e+U,a.box={left:l-S.right,width:e}));a.position=k;a.tickLength=E;a.box.padding=t;a.innermost=I}function ha(){var a,e=J();h.each(e,function(a,h){h.show=h.options.show;null==h.show&&(h.show=h.used);h.reserveSpace=h.show||h.options.reserveSpace;var e=h.options,f=+(null!=e.min?e.min:h.datamin),B=+(null!=e.max?e.max:h.datamax),
l=B-f;if(0==l){if(l=0==B?1:.01,null==e.min&&(f-=l),null==e.max||null!=e.min)B+=l}else{var k=e.autoscaleMargin;null!=k&&(null==e.min&&(f-=l*k,0>f&&null!=h.datamin&&0<=h.datamin&&(f=0)),null==e.max&&(B+=l*k,0<B&&null!=h.datamax&&0>=h.datamax&&(B=0)))}h.min=f;h.max=B});allocatedAxes=h.grep(e,function(a){return a.reserveSpace});S.left=S.right=S.top=S.bottom=0;if(H.grid.show){h.each(allocatedAxes,function(a,e){da(e);var f=e.options.ticks,B=[];null==f||"number"==typeof f&&0<f?B=e.tickGenerator(e):f&&(B=
h.isFunction(f)?f({min:e.min,max:e.max}):f);var l;e.ticks=[];for(f=0;f<B.length;++f){var k=null,M=B[f];"object"==typeof M?(l=+M[0],1<M.length&&(k=M[1])):l=+M;null==k&&(k=e.tickFormatter(l,e));isNaN(l)||e.ticks.push({v:l,label:k})}B=e.ticks;e.options.autoscaleMargin&&0<B.length&&(null==e.options.min&&(e.min=Math.min(e.min,B[0].v)),null==e.options.max&&1<B.length&&(e.max=Math.max(e.max,B[B.length-1].v)));Y(e)});for(a=allocatedAxes.length-1;0<=a;--a)ba(allocatedAxes[a]);var f=H.grid.minBorderMargin;
if(null==f)for(a=f=0;a<Z.length;++a)f=Math.max(f,Z[a].points.radius+Z[a].points.lineWidth/2)-0;for(var k in S)S[k]+=H.grid.borderWidth,S[k]=Math.max(f,S[k])}C=l-S.left-S.right;N=s-S.bottom-S.top;h.each(e,function(a,e){O(e)});H.grid.show&&(h.each(allocatedAxes,function(a,e){"x"==e.direction?(e.box.left=S.left,e.box.width=C):(e.box.top=S.top,e.box.height=N)}),Sa());$a()}function da(a){var f=a.options,k;k="number"==typeof f.ticks&&0<f.ticks?f.ticks:.3*Math.sqrt("x"==a.direction?l:s);k=(a.max-a.min)/
k;var la,E,t,u;if("time"==f.mode){var I={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,year:525949.2*6E4};u=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];la=0;null!=f.minTickSize&&(la="number"==typeof f.tickSize?f.tickSize:f.minTickSize[0]*
I[f.minTickSize[1]]);for(E=0;E<u.length-1&&!(k<(u[E][0]*I[u[E][1]]+u[E+1][0]*I[u[E+1][1]])/2&&u[E][0]*I[u[E][1]]>=la);++E);la=u[E][0];t=u[E][1];"year"==t&&(E=Math.pow(10,Math.floor(Math.log(k/I.year)/Math.LN10)),u=k/I.year/E,la=(1.5>u?1:3>u?2:7.5>u?5:10)*E);a.tickSize=f.tickSize||[la,t];E=function(a){var h=[],f=a.tickSize[0],B=a.tickSize[1],l=new Date(a.min),k=f*I[B];"second"==B&&l.setUTCSeconds(e(l.getUTCSeconds(),f));"minute"==B&&l.setUTCMinutes(e(l.getUTCMinutes(),f));"hour"==B&&l.setUTCHours(e(l.getUTCHours(),
f));"month"==B&&l.setUTCMonth(e(l.getUTCMonth(),f));"year"==B&&l.setUTCFullYear(e(l.getUTCFullYear(),f));l.setUTCMilliseconds(0);k>=I.minute&&l.setUTCSeconds(0);k>=I.hour&&l.setUTCMinutes(0);k>=I.day&&l.setUTCHours(0);k>=4*I.day&&l.setUTCDate(1);k>=I.year&&l.setUTCMonth(0);var E=0,M=Number.NaN,t;do if(t=M,M=l.getTime(),h.push(M),"month"==B)if(1>f){l.setUTCDate(1);var u=l.getTime();l.setUTCMonth(l.getUTCMonth()+1);var la=l.getTime();l.setTime(M+E*I.hour+(la-u)*f);E=l.getUTCHours();l.setUTCHours(0)}else l.setUTCMonth(l.getUTCMonth()+
f);else"year"==B?l.setUTCFullYear(l.getUTCFullYear()+f):l.setTime(M+k);while(M<a.max&&M!=t);return h};la=function(a,e){var B=new Date(a);if(null!=f.timeformat)return h.plot.formatDate(B,f.timeformat,f.monthNames);var l=e.tickSize[0]*I[e.tickSize[1]],k=e.max-e.min,E=f.twelveHourClock?" %p":"";fmt=l<I.minute?"%h:%M:%S"+E:l<I.day?k<2*I.day?"%h:%M"+E:"%b %d %h:%M"+E:l<I.month?"%b %d":l<I.year?k<I.year?"%b":"%b %y":"%y";return h.plot.formatDate(B,fmt,f.monthNames)}}else{t=f.tickDecimals;var V=-Math.floor(Math.log(k)/
Math.LN10);null!=t&&V>t&&(V=t);E=Math.pow(10,-V);u=k/E;1.5>u?la=1:3>u?(la=2,2.25<u&&(null==t||V+1<=t)&&(la=2.5,++V)):la=7.5>u?5:10;la*=E;null!=f.minTickSize&&la<f.minTickSize&&(la=f.minTickSize);a.tickDecimals=Math.max(0,null!=t?t:V);a.tickSize=f.tickSize||la;E=function(a){var h=[],f=e(a.min,a.tickSize),B=0,l=Number.NaN,k;do k=l,l=f+B*a.tickSize,h.push(l),++B;while(l<a.max&&l!=k);return h};la=function(a,e){return a.toFixed(e.tickDecimals)}}if(null!=f.alignTicksWithAxis){var v=("x"==a.direction?ma:
na)[f.alignTicksWithAxis-1];v&&v.used&&v!=a&&(E=E(a),0<E.length&&(null==f.min&&(a.min=Math.min(a.min,E[0])),null==f.max&&1<E.length&&(a.max=Math.max(a.max,E[E.length-1]))),E=function(a){var e=[],h,f;for(f=0;f<v.ticks.length;++f)h=(v.ticks[f].v-v.min)/(v.max-v.min),h=a.min+h*(a.max-a.min),e.push(h);return e},"time"!=a.mode&&null==f.tickDecimals&&(k=Math.max(0,-Math.floor(Math.log(k)/Math.LN10)+1),u=E(a),1<u.length&&/\..*0$/.test((u[1]-u[0]).toFixed(k))||(a.tickDecimals=k)))}a.tickGenerator=E;h.isFunction(f.tickFormatter)?
a.tickFormatter=function(a,e){return""+f.tickFormatter(a,e)}:a.tickFormatter=la}function oa(){L.clearRect(0,0,l,s);var a=H.grid;a.show&&a.backgroundColor&&(L.save(),L.translate(S.left,S.top),L.fillStyle=Na(H.grid.backgroundColor,N,0,"rgba(255, 255, 255, 0)"),L.fillRect(0,0,C,N),L.restore());a.show&&!a.aboveData&&qa();for(var e=0;e<Z.length;++e){D(R.drawSeries,[L,Z[e]]);var h=Z[e];h.lines.show&&Oa(h);h.bars.show&&Ja(h);h.points.show&&ab(h)}D(R.draw,[L]);a.show&&a.aboveData&&qa()}function bb(a,e){var h,
f,l,k,t=J();for(i=0;i<t.length;++i)if(h=t[i],h.direction==e&&(k=e+h.n+"axis",a[k]||1!=h.n||(k=e+"axis"),a[k])){f=a[k].from;l=a[k].to;break}a[k]||(h="x"==e?ma[0]:na[0],f=a[e+"1"],l=a[e+"2"]);null!=f&&null!=l&&f>l&&(k=f,f=l,l=k);return{from:f,to:l,axis:h}}function qa(){var a;L.save();L.translate(S.left,S.top);var e=H.grid.markings;if(e){if(h.isFunction(e)){var f=v.getAxes();f.xmin=f.xaxis.min;f.xmax=f.xaxis.max;f.ymin=f.yaxis.min;f.ymax=f.yaxis.max;e=e(f)}for(a=0;a<e.length;++a){var f=e[a],l=bb(f,"x"),
k=bb(f,"y");null==l.from&&(l.from=l.axis.min);null==l.to&&(l.to=l.axis.max);null==k.from&&(k.from=k.axis.min);null==k.to&&(k.to=k.axis.max);l.to<l.axis.min||l.from>l.axis.max||k.to<k.axis.min||k.from>k.axis.max||(l.from=Math.max(l.from,l.axis.min),l.to=Math.min(l.to,l.axis.max),k.from=Math.max(k.from,k.axis.min),k.to=Math.min(k.to,k.axis.max),l.from==l.to&&k.from==k.to)||(l.from=l.axis.p2c(l.from),l.to=l.axis.p2c(l.to),k.from=k.axis.p2c(k.from),k.to=k.axis.p2c(k.to),l.from==l.to||k.from==k.to?(L.beginPath(),
L.strokeStyle=f.color||H.grid.markingsColor,L.lineWidth=f.lineWidth||H.grid.markingsLineWidth,L.moveTo(l.from,k.from),L.lineTo(l.to,k.to),L.stroke()):(L.fillStyle=f.color||H.grid.markingsColor,L.fillRect(l.from,k.to,l.to-l.from,k.from-k.to)))}}f=J();e=H.grid.borderWidth;for(l=0;l<f.length;++l){k=f[l];a=k.box;var t=k.tickLength,u,I,s,n;if(k.show&&0!=k.ticks.length){L.strokeStyle=k.options.tickColor||h.color.parse(k.options.color).scale("a",.22).toString();L.lineWidth=1;"x"==k.direction?(u=0,I="full"==
t?"top"==k.position?0:N:a.top-S.top+("top"==k.position?a.height:0)):(I=0,u="full"==t?"left"==k.position?0:C:a.left-S.left+("left"==k.position?a.width:0));k.innermost||(L.beginPath(),s=n=0,"x"==k.direction?s=C:n=N,1==L.lineWidth&&(u=Math.floor(u)+.5,I=Math.floor(I)+.5),L.moveTo(u,I),L.lineTo(u+s,I+n),L.stroke());L.beginPath();for(a=0;a<k.ticks.length;++a){var q=k.ticks[a].v;s=n=0;q<k.min||q>k.max||"full"==t&&0<e&&(q==k.min||q==k.max)||("x"==k.direction?(u=k.p2c(q),n="full"==t?-N:t,"top"==k.position&&
(n=-n)):(I=k.p2c(q),s="full"==t?-C:t,"left"==k.position&&(s=-s)),1==L.lineWidth&&("x"==k.direction?u=Math.floor(u)+.5:I=Math.floor(I)+.5),L.beginPath(),L.strokeStyle=k.options.tickColor||h.color.parse(k.options.color).scale("a",.22).toString(),L.moveTo(u,I),L.lineTo(u+s,I+n),L.stroke(),L.beginPath(),L.strokeStyle="#FFFFFF",L.moveTo(u,I+1),L.lineTo(u+s,I+n+1),L.stroke())}L.stroke()}}e&&(L.lineWidth=e,L.strokeStyle=H.grid.borderColor,L.strokeRect(-e/2,-e/2,C+e,N+e));L.restore()}function Sa(){a.find(".tickLabels").remove();
for(var e=['<div class="tickLabels" style="font-size:smaller;">'],h=J(),k=0;k<h.length;++k){var t=h[k],u=t.box;if(t.show){e.push('<div class="'+t.direction+"Axis "+t.direction+t.n+'Axis" style="color:'+t.options.color+'">');for(var v=0;v<t.ticks.length;++v){var n=t.ticks[v];if(!(!n.label||n.v<t.min||n.v>t.max)){var I={},q;"x"==t.direction?(q="center",I.left=Math.round(S.left+t.p2c(n.v)-t.labelWidth/2),"bottom"==t.position?I.top=u.top+u.padding:I.bottom=s-(u.top+u.height-u.padding)):(I.top=Math.round(S.top+
t.p2c(n.v)-t.labelHeight/2)-10,"left"==t.position?I.right=l-(u.left+u.width-u.padding):I.left=u.left+u.padding,q="left");I.width=t.labelWidth;q=["z-index:-10","position:absolute","text-align:"+q];for(var A in I)q.push(A+":"+I[A]+"px");e.push('<div class="tickLabel" style="'+q.join(";")+'">'+n.label+"</div>")}}e.push("</div>")}}e.push("</div>");a.append(e.join(""))}function Oa(a){function e(a,h,f,l,k){var B=a.points;a=a.pointsize;var t=null,u=null;L.beginPath();for(var M=a;M<B.length;M+=a){var s=B[M-
a],v=B[M-a+1],n=B[M],q=B[M+1];if(null!=s&&null!=n){if(v<=q&&v<k.min){if(q<k.min)continue;s=(k.min-v)/(q-v)*(n-s)+s;v=k.min}else if(q<=v&&q<k.min){if(v<k.min)continue;n=(k.min-v)/(q-v)*(n-s)+s;q=k.min}if(v>=q&&v>k.max){if(q>k.max)continue;s=(k.max-v)/(q-v)*(n-s)+s;v=k.max}else if(q>=v&&q>k.max){if(v>k.max)continue;n=(k.max-v)/(q-v)*(n-s)+s;q=k.max}if(s<=n&&s<l.min){if(n<l.min)continue;v=(l.min-s)/(n-s)*(q-v)+v;s=l.min}else if(n<=s&&n<l.min){if(s<l.min)continue;q=(l.min-s)/(n-s)*(q-v)+v;n=l.min}if(s>=
n&&s>l.max){if(n>l.max)continue;v=(l.max-s)/(n-s)*(q-v)+v;s=l.max}else if(n>=s&&n>l.max){if(s>l.max)continue;q=(l.max-s)/(n-s)*(q-v)+v;n=l.max}s==t&&v==u||L.moveTo(l.p2c(s)+h,k.p2c(v)+f);t=n;u=q;L.lineTo(l.p2c(n)+h,k.p2c(q)+f)}}L.stroke()}function h(a,e,f){var l=a.points;a=a.pointsize;for(var k=Math.min(Math.max(0,f.min),f.max),B=0,t=!1,u=1,s=0,v=0;!(0<a&&B>l.length+a);){var B=B+a,M=l[B-a],n=l[B-a+u],q=l[B],E=l[B+u];if(t){if(0<a&&null!=M&&null==q){v=B;a=-a;u=2;continue}if(0>a&&B==s+a){L.fill();t=
!1;a=-a;u=1;B=s=v+a;continue}}if(null!=M&&null!=q){if(M<=q&&M<e.min){if(q<e.min)continue;n=(e.min-M)/(q-M)*(E-n)+n;M=e.min}else if(q<=M&&q<e.min){if(M<e.min)continue;E=(e.min-M)/(q-M)*(E-n)+n;q=e.min}if(M>=q&&M>e.max){if(q>e.max)continue;n=(e.max-M)/(q-M)*(E-n)+n;M=e.max}else if(q>=M&&q>e.max){if(M>e.max)continue;E=(e.max-M)/(q-M)*(E-n)+n;q=e.max}t||(L.beginPath(),L.moveTo(e.p2c(M),f.p2c(k)),t=!0);if(n>=f.max&&E>=f.max)L.lineTo(e.p2c(M),f.p2c(f.max)),L.lineTo(e.p2c(q),f.p2c(f.max));else if(n<=f.min&&
E<=f.min)L.lineTo(e.p2c(M),f.p2c(f.min)),L.lineTo(e.p2c(q),f.p2c(f.min));else{var A=M,fb=q;n<=E&&n<f.min&&E>=f.min?(M=(f.min-n)/(E-n)*(q-M)+M,n=f.min):E<=n&&E<f.min&&n>=f.min&&(q=(f.min-n)/(E-n)*(q-M)+M,E=f.min);n>=E&&n>f.max&&E<=f.max?(M=(f.max-n)/(E-n)*(q-M)+M,n=f.max):E>=n&&E>f.max&&n<=f.max&&(q=(f.max-n)/(E-n)*(q-M)+M,E=f.max);M!=A&&L.lineTo(e.p2c(A),f.p2c(n));L.lineTo(e.p2c(M),f.p2c(n));L.lineTo(e.p2c(q),f.p2c(E));q!=fb&&(L.lineTo(e.p2c(q),f.p2c(E)),L.lineTo(e.p2c(fb),f.p2c(E)))}}}}L.save();
L.translate(S.left,S.top);L.lineJoin="round";var f=a.lines.lineWidth,l=a.shadowSize;if(0<f&&0<l){L.lineWidth=l;L.strokeStyle="rgba(0,0,0,0.1)";var k=Math.PI/18;e(a.datapoints,Math.sin(k)*(f/2+l/2),Math.cos(k)*(f/2+l/2),a.xaxis,a.yaxis);L.lineWidth=l/2;e(a.datapoints,Math.sin(k)*(f/2+l/4),Math.cos(k)*(f/2+l/4),a.xaxis,a.yaxis)}L.lineWidth=f;L.strokeStyle=a.color;if(l=Pa(a.lines,a.color,0,N))L.fillStyle=l,h(a.datapoints,a.xaxis,a.yaxis);0<f&&e(a.datapoints,0,0,a.xaxis,a.yaxis);L.restore()}function ab(a){function e(a,
f,h,l,k,B,t,u){var M=a.points;a=a.pointsize;for(var n=0;n<M.length;n+=a){var s=M[n],q=M[n+1];null==s||s<B.min||s>B.max||q<t.min||q>t.max||(L.beginPath(),s=B.p2c(s),q=t.p2c(q)+l,"circle"==u?L.arc(s,q,f,0,k?Math.PI:2*Math.PI,!1):u(L,s,q,f,k),L.closePath(),h&&(L.fillStyle=h,L.fill()),L.stroke())}}L.save();L.translate(S.left,S.top);var f=a.points.lineWidth,h=a.shadowSize,l=a.points.radius,k=a.points.symbol;0<f&&0<h&&(h/=2,L.lineWidth=h,L.strokeStyle="rgba(0,0,0,0.1)",e(a.datapoints,l,null,h+h/2,!0,a.xaxis,
a.yaxis,k),L.strokeStyle="rgba(0,0,0,0.2)",e(a.datapoints,l,null,h/2,!0,a.xaxis,a.yaxis,k));L.lineWidth=f;L.strokeStyle=a.color;e(a.datapoints,l,Pa(a.points,a.color),0,!1,a.xaxis,a.yaxis,k);L.restore()}function Ta(a,e,f,h,l,k,t,u,n,s,q,v){var A,C,N,R;q?(R=C=N=!0,A=!1,q=f,f=e+h,l=e+l,a<q&&(e=a,a=q,q=e,A=!0,C=!1)):(A=C=N=!0,R=!1,q=a+h,a+=l,l=f,f=e,f<l&&(e=f,f=l,l=e,R=!0,N=!1));a<u.min||q>u.max||f<n.min||l>n.max||(q<u.min&&(q=u.min,A=!1),a>u.max&&(a=u.max,C=!1),l<n.min&&(l=n.min,R=!1),f>n.max&&(f=n.max,
N=!1),q=u.p2c(q),l=n.p2c(l),a=u.p2c(a),f=n.p2c(f),t&&(s.beginPath(),s.moveTo(q,l),s.lineTo(q,f),s.lineTo(a,f),s.lineTo(a,l),s.fillStyle=t(l,f),s.fill()),0<v&&(A||C||N||R)&&(s.beginPath(),s.moveTo(q,l+k),A?s.lineTo(q,f+k):s.moveTo(q,f+k),N?s.lineTo(a,f+k):s.moveTo(a,f+k),C?s.lineTo(a,l+k):s.moveTo(a,l+k),R?s.lineTo(q,l+k):s.moveTo(q,l+k),s.stroke()))}function Ja(a){L.save();L.translate(S.left,S.top);L.lineWidth=a.bars.lineWidth;L.strokeStyle=a.color;var e="left"==a.bars.align?0:-a.bars.barWidth/2;
(function(e,f,h,l,k,t,u){var s=e.points;e=e.pointsize;for(var n=0;n<s.length;n+=e)null!=s[n]&&Ta(s[n],s[n+1],s[n+2],f,h,l,k,t,u,L,a.bars.horizontal,a.bars.lineWidth)})(a.datapoints,e,e+a.bars.barWidth,0,a.bars.fill?function(e,f){return Pa(a.bars,a.color,e,f)}:null,a.xaxis,a.yaxis);L.restore()}function Pa(a,e,f,l){var k=a.fill;if(!k)return null;if(a.fillColor)return Na(a.fillColor,f,l,e);a=h.color.parse(e);a.a="number"==typeof k?k:.4;a.normalize();return a.toString()}function $a(){a.find(".legend").remove();
if(H.legend.show){for(var e=[],l=!1,k=H.legend.labelFormatter,t,u,s=0;s<Z.length;++s)if(t=Z[s],u=t.label)0==s%H.legend.noColumns&&(l&&e.push("</tr>"),e.push("<tr>"),l=!0),k&&(u=k(u,t)),e.push('<td class="legendColorBox"><div style="border:1px solid '+H.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+t.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+u+"</td>");l&&e.push("</tr>");0!=e.length&&(l='<table style="font-size:smaller;color:'+
H.grid.color+'">'+e.join("")+"</table>",null!=H.legend.container?h(H.legend.container).html(l):(e="",k=H.legend.position,t=H.legend.margin,null==t[0]&&(t=[t,t]),"n"==k.charAt(0)?e+="top:"+(t[1]+S.top)+"px;":"s"==k.charAt(0)&&(e+="bottom:"+(t[1]+S.bottom)+"px;"),"e"==k.charAt(1)?e+="right:"+(t[0]+S.right)+"px;":"w"==k.charAt(1)&&(e+="left:"+(t[0]+S.left)+"px;"),l=h('<div class="legend">'+l.replace('style="','style="position:absolute;'+e+";")+"</div>").appendTo(a),0!=H.legend.backgroundOpacity&&(k=
H.legend.backgroundColor,null==k&&(k=(k=H.grid.backgroundColor)&&"string"==typeof k?h.color.parse(k):h.color.extract(l,"background-color"),k.a=1,k=k.toString()),t=l.children(),h('<div style="position:absolute;width:'+t.width()+"px;height:"+t.height()+"px;"+e+"background-color:"+k+';"> </div>').prependTo(l).css("opacity",H.legend.backgroundOpacity))))}}function Ca(a){H.grid.hoverable&&za("plothover",a,function(a){return 0!=a.hoverable})}function ya(a){H.grid.hoverable&&za("plothover",a,function(a){return!1})}
function Qa(a){za("plotclick",a,function(a){return 0!=a.clickable})}function za(e,h,l){var k=ja.offset(),t=h.pageX-k.left-S.left,u=h.pageY-k.top-S.top,s=z({left:t,top:u});s.pageX=h.pageX;s.pageY=h.pageY;h=H.grid.mouseActiveRadius;var n=h*h+1,q=null,v,A;for(v=Z.length-1;0<=v;--v)if(l(Z[v])){var C=Z[v],N=C.xaxis,R=C.yaxis,D=C.datapoints.points,sa=C.datapoints.pointsize,K=N.c2p(t),J=R.c2p(u),W=h/N.scale,L=h/R.scale;N.options.inverseTransform&&(W=Number.MAX_VALUE);R.options.inverseTransform&&(L=Number.MAX_VALUE);
if(C.lines.show||C.points.show)for(A=0;A<D.length;A+=sa){var oa=D[A],O=D[A+1];null==oa||oa-K>W||oa-K<-W||O-J>L||O-J<-L||(oa=Math.abs(N.p2c(oa)-t),O=Math.abs(R.p2c(O)-u),O=oa*oa+O*O,O<n&&(n=O,q=[v,A/sa]))}if(C.bars.show&&!q)for(N="left"==C.bars.align?0:-C.bars.barWidth/2,C=N+C.bars.barWidth,A=0;A<D.length;A+=sa)oa=D[A],O=D[A+1],R=D[A+2],null!=oa&&(Z[v].bars.horizontal?K<=Math.max(R,oa)&&K>=Math.min(R,oa)&&J>=O+N&&J<=O+C:K>=oa+N&&K<=oa+C&&J>=Math.min(R,O)&&J<=Math.max(R,O))&&(q=[v,A/sa])}q?(v=q[0],
A=q[1],sa=Z[v].datapoints.pointsize,l={datapoint:Z[v].datapoints.points.slice(A*sa,(A+1)*sa),dataIndex:A,series:Z[v],seriesIndex:v}):l=null;l&&(l.pageX=parseInt(l.series.xaxis.p2c(l.datapoint[0])+k.left+S.left),l.pageY=parseInt(l.series.yaxis.p2c(l.datapoint[1])+k.top+S.top));if(H.grid.autoHighlight){for(k=0;k<pa.length;++k)t=pa[k],t.auto!=e||l&&t.series==l.series&&t.point[0]==l.datapoint[0]&&t.point[1]==l.datapoint[1]||Ga(t.series,t.point);l&&Ka(l.series,l.datapoint,e)}a.trigger(e,[s,l])}function Da(){sa||
(sa=setTimeout(Ua,30))}function Ua(){sa=null;ka.save();ka.clearRect(0,0,l,s);ka.translate(S.left,S.top);var a,e;for(a=0;a<pa.length;++a)if(e=pa[a],e.series.bars.show)Ha(e.series,e.point);else{var f=e.series,k=e.point;e=k[0];var k=k[1],t=f.xaxis,u=f.yaxis;if(!(e<t.min||e>t.max||k<u.min||k>u.max)){var n=f.points.radius+f.points.lineWidth/2;ka.lineWidth=n;ka.strokeStyle=h.color.parse(f.color).scale("a",.5).toString();n*=1.5;e=t.p2c(e);k=u.p2c(k);ka.beginPath();"circle"==f.points.symbol?ka.arc(e,k,n,
0,2*Math.PI,!1):f.points.symbol(ka,e,k,n,!1);ka.closePath();ka.stroke()}}ka.restore();D(R.drawOverlay,[ka])}function Ka(a,e,f){"number"==typeof a&&(a=Z[a]);if("number"==typeof e){var h=a.datapoints.pointsize;e=a.datapoints.points.slice(h*e,h*(e+1))}h=Ea(a,e);-1==h?(pa.push({series:a,point:e,auto:f}),Da()):f||(pa[h].auto=!1)}function Ga(a,e){null==a&&null==e&&(pa=[],Da());"number"==typeof a&&(a=Z[a]);"number"==typeof e&&(e=a.data[e]);var f=Ea(a,e);-1!=f&&(pa.splice(f,1),Da())}function Ea(a,e){for(var f=
0;f<pa.length;++f){var h=pa[f];if(h.series==a&&h.point[0]==e[0]&&h.point[1]==e[1])return f}return-1}function Ha(a,e){ka.lineWidth=a.bars.lineWidth;ka.strokeStyle=h.color.parse(a.color).scale("a",.5).toString();var f=h.color.parse(a.color).scale("a",.5).toString(),l="left"==a.bars.align?0:-a.bars.barWidth/2;Ta(e[0],e[1],e[2]||0,l,l+a.bars.barWidth,0,function(){return f},a.xaxis,a.yaxis,ka,a.bars.horizontal,a.bars.lineWidth)}function Na(a,e,f,l){if("string"==typeof a)return a;e=L.createLinearGradient(0,
f,0,e);f=0;for(var k=a.colors.length;f<k;++f){var t=a.colors[f];if("string"!=typeof t){var u=h.color.parse(l);null!=t.brightness&&(u=u.scale("rgb",t.brightness));null!=t.opacity&&(u.a*=t.opacity);t=u.toString()}e.addColorStop(f/(k-1),t)}return e}var Z=[],H={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85},xaxis:{show:null,position:"bottom",
mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,
fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},hooks:{}},ta=null,Aa=null,ja=null,L=null,ka=null,ma=[],na=[],S={left:0,right:0,top:0,
bottom:0},l=0,s=0,C=0,N=0,R={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},v=this;v.setData=K;v.setupGrid=ha;v.draw=oa;v.getPlaceholder=function(){return a};v.getCanvas=function(){return ta};v.getPlotOffset=function(){return S};v.width=function(){return C};v.height=function(){return N};v.offset=function(){var a=ja.offset();a.left+=S.left;a.top+=S.top;return a};v.getData=function(){return Z};v.getAxes=function(){var a={};h.each(ma.concat(na),
function(e,f){f&&(a[f.direction+(1!=f.n?f.n:"")+"axis"]=f)});return a};v.getXAxes=function(){return ma};v.getYAxes=function(){return na};v.c2p=z;v.p2c=function(a){var e={},f,h,l;for(f=0;f<ma.length;++f)if((h=ma[f])&&h.used&&(l="x"+h.n,null==a[l]&&1==h.n&&(l="x"),null!=a[l])){e.left=h.p2c(a[l]);break}for(f=0;f<na.length;++f)if((h=na[f])&&h.used&&(l="y"+h.n,null==a[l]&&1==h.n&&(l="y"),null!=a[l])){e.top=h.p2c(a[l]);break}return e};v.getOptions=function(){return H};v.highlight=Ka;v.unhighlight=Ga;v.triggerRedrawOverlay=
Da;v.pointOffset=function(a){return{left:parseInt(ma[P(a,"x")-1].p2c(+a.x)+S.left),top:parseInt(na[P(a,"y")-1].p2c(+a.y)+S.top)}};v.shutdown=function(){sa&&clearTimeout(sa);ja.unbind("mousemove",Ca);ja.unbind("mouseleave",ya);ja.unbind("click",Qa);D(R.shutdown,[ja])};v.resize=function(){W();ca(ta);ca(Aa)};v.hooks=R;(function(){for(var a=0;a<q.length;++a){var e=q[a];e.init(v);e.options&&h.extend(!0,H,e.options)}})(v);(function(a){h.extend(!0,H,a);null==H.xaxis.color&&(H.xaxis.color=H.grid.color);null==
H.yaxis.color&&(H.yaxis.color=H.grid.color);null==H.xaxis.tickColor&&(H.xaxis.tickColor=H.grid.tickColor);null==H.yaxis.tickColor&&(H.yaxis.tickColor=H.grid.tickColor);null==H.grid.borderColor&&(H.grid.borderColor=H.grid.color);null==H.grid.tickColor&&(H.grid.tickColor=h.color.parse(H.grid.color).scale("a",.22).toString());for(a=0;a<Math.max(1,H.xaxes.length);++a)H.xaxes[a]=h.extend(!0,{},H.xaxis,H.xaxes[a]);for(a=0;a<Math.max(1,H.yaxes.length);++a)H.yaxes[a]=h.extend(!0,{},H.yaxis,H.yaxes[a]);H.xaxis.noTicks&&
null==H.xaxis.ticks&&(H.xaxis.ticks=H.xaxis.noTicks);H.yaxis.noTicks&&null==H.yaxis.ticks&&(H.yaxis.ticks=H.yaxis.noTicks);H.x2axis&&(H.xaxes[1]=h.extend(!0,{},H.xaxis,H.x2axis),H.xaxes[1].position="top");H.y2axis&&(H.yaxes[1]=h.extend(!0,{},H.yaxis,H.y2axis),H.yaxes[1].position="right");H.grid.coloredAreas&&(H.grid.markings=H.grid.coloredAreas);H.grid.coloredAreasColor&&(H.grid.markingsColor=H.grid.coloredAreasColor);H.lines&&h.extend(!0,H.series.lines,H.lines);H.points&&h.extend(!0,H.series.points,
H.points);H.bars&&h.extend(!0,H.series.bars,H.bars);null!=H.shadowSize&&(H.series.shadowSize=H.shadowSize);for(a=0;a<H.xaxes.length;++a)A(ma,a+1).options=H.xaxes[a];for(a=0;a<H.yaxes.length;++a)A(na,a+1).options=H.yaxes[a];for(var e in R)H.hooks[e]&&H.hooks[e].length&&(R[e]=R[e].concat(H.hooks[e]));D(R.processOptions,[H])})(n);(function(){var e;e=a.children("canvas.base");var k=a.children("canvas.overlay");0==e.length||0==k?(a.html(""),a.css({padding:0}),"static"==a.css("position")&&a.css("position",
"relative"),W(),ta=u(!0,"base"),Aa=u(!1,"overlay"),e=!1):(ta=e.get(0),Aa=k.get(0),e=!0);L=ta.getContext("2d");ka=Aa.getContext("2d");ja=h([Aa,ta]);e&&(a.data("plot").shutdown(),v.resize(),ka.clearRect(0,0,l,s),ja.unbind(),a.children().not([ta,Aa]).remove());a.data("plot",v)})();K(k);ha();oa();H.grid.hoverable&&(ja.mousemove(Ca),ja.mouseleave(ya));H.grid.clickable&&ja.click(Qa);D(R.bindEvents,[ja]);var pa=[],sa=null}function e(a,e){return e*Math.floor(a/e)}h.plot=function(e,k,n){return new a(h(e),
k,n,h.plot.plugins)};h.plot.version="0.7";h.plot.plugins=[];h.plot.formatDate=function(a,e,h){var q=function(a){a=""+a;return 1==a.length?"0"+a:a},D=[],K=!1,P=!1,J=a.getUTCHours(),z=12>J;null==h&&(h="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));-1!=e.search(/%p|%P/)&&(12<J?J-=12:0==J&&(J=12));for(var A=0;A<e.length;++A){var t=e.charAt(A);if(K){switch(t){case "h":t=""+J;break;case "H":t=q(J);break;case "M":t=q(a.getUTCMinutes());break;case "S":t=q(a.getUTCSeconds());break;case "d":t=
""+a.getUTCDate();break;case "m":t=""+(a.getUTCMonth()+1);break;case "y":t=""+a.getUTCFullYear();break;case "b":t=""+h[a.getUTCMonth()];break;case "p":t=z?"am":"pm";break;case "P":t=z?"AM":"PM";break;case "0":t="",P=!0}t&&P&&(t=q(t),P=!1);D.push(t);P||(K=!1)}else"%"==t?K=!0:D.push(t)}return D.join("")}})(jQuery);(function(h){h.plot.plugins.push({init:function(a){var e=[],f,k=!1,n,q,D;a.hooks.draw.push(function(a,P){if(!k){var J=a.getAxes().xaxis.options;if(void 0!==J.rotateTicks&&(n=parseInt(J.rotateTicks,10),!(n.toString()!=J.rotateTicks||0==n||180<=n))){q=n*Math.PI/180;D=90<n?Math.PI-q:Math.PI/2-q;(f=J.rotateTicksFont)||(f=h(".tickLabel").css("font"));f||(f="smaller sans-serif");var z,A=0,t=0,u=0,W=0,ca=a.getAxes().xaxis;e=a.getAxes().xaxis.ticks;J.ticks=[];for(var O=0;O<e.length;O++)z=h('<span class="rotated-tick">'+
e[O].label+"</div>"),a.getPlaceholder().append(z),e[O].height=z.outerHeight(!0),e[O].width=z.outerWidth(!0),z.remove(),e[O].height>t&&(t=e[O].height),e[O].width>A&&(A=e[O].width),z=e[O],90<n?(z=Math.round(a.getPlotOffset().left+ca.p2c(z.v))-Math.ceil(Math.cos(D)*z.height)-Math.ceil(Math.cos(D)*z.width),z<u&&(u=z)):(z=Math.round(a.getPlotOffset().left+ca.p2c(z.v))+Math.ceil(Math.cos(D)*z.height)+Math.ceil(Math.cos(D)*z.width),z>W&&(W=z));90<n?(ca=q-Math.PI/2,J.labelHeight=Math.ceil(Math.sin(ca)*A)+
Math.ceil(Math.sin(ca)*t)):(ca=Math.PI/2-q,J.labelHeight=Math.ceil(Math.sin(q)*A)+Math.ceil(Math.sin(ca)*t));0>u&&(a.getAxes().yaxis.options.labelWidth=-1*u);k=!0;a.setupGrid();a.draw()}}else if(0!=e.length)for(ca=a.getAxes().xaxis,J=ca.box,O=0;O<e.length;O++)z=e[O],z.label&&(P.save(),P.font=f,90>=n?(A=-Math.ceil(Math.cos(D)*z.height),t=Math.ceil(Math.sin(D)*z.height),P.translate(Math.round(a.getPlotOffset().left+ca.p2c(z.v))+A,J.top+J.padding+a.getOptions().grid.labelMargin+t),P.rotate(q)):(A=Math.ceil(Math.cos(D)*
z.height)-Math.ceil(Math.cos(D)*z.width),t=Math.ceil(Math.sin(D)*z.width)+Math.ceil(Math.sin(D)*z.height),P.translate(Math.round(a.getPlotOffset().left+ca.p2c(z.v)+A),J.top+J.padding+a.getOptions().grid.labelMargin+t),P.rotate(-D)),P.fillStyle="#999",P.fillText(z.label,0,0),P.restore())})},options:{},name:"tickRotor",version:"1.0"})})(jQuery);(function(h){var a={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,offset:{top:0,left:"auto"},stroke:{color:"#FFF",width:1},label:{show:"auto",formatter:function(a,f){return'<div style="font-size:x-small;text-align:center;padding:2px;color:'+f.color+';">'+a+"<br/>"+Math.round(f.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};h.plot.plugins.push({init:function(e){function f(e,
f,u,n){ha||(ha=!0,A=e.getCanvas(),t=h(A).parent(),a=e.getOptions(),e.setData(k(e.getData())))}function k(e){for(var f=0;f<e.length;++f)if("number"==typeof e[f].data)e[f].data=[[1,e[f].data]];else if("undefined"==typeof e[f].data||"undefined"==typeof e[f].data[0])"undefined"!=typeof e[f].data&&"undefined"!=typeof e[f].data.label&&(e[f].label=e[f].data.label),e[f].data=[[1,0]];for(var f=e,h=0;h<f.length;++h){var k=parseFloat(f[h].data[0][1]);k&&(O+=k)}for(var h=f=0,k=a.series.pie.combine.color,t=[],
u=0;u<e.length;++u)e[u].data[0][1]=parseFloat(e[u].data[0][1]),e[u].data[0][1]||(e[u].data[0][1]=0),e[u].data[0][1]/O<=a.series.pie.combine.threshold?(f+=e[u].data[0][1],h++,k||(k=e[u].color)):t.push({data:[[1,e[u].data[0][1]]],color:e[u].color,label:e[u].label,angle:2*e[u].data[0][1]*Math.PI/O,percent:e[u].data[0][1]/O*100});0<h&&t.push({data:[[1,f]],color:k,label:a.series.pie.combine.label,angle:2*f*Math.PI/O,percent:f/O*100});return t}function n(e,f){function k(){ctx.clearRect(0,0,A.width,A.height);
t.children().filter(".pieLabel, .pieLabelBackground").remove()}function n(){var e=1<a.series.pie.radius?a.series.pie.radius:u*a.series.pie.radius;if(!(e>=A.width/2-5||e*a.series.pie.tilt>=A.height/2-15||10>=e)){ctx.save();ctx.translate(5,15);ctx.globalAlpha=.02;ctx.fillStyle="#000";ctx.translate(W,ca);ctx.scale(1,a.series.pie.tilt);for(var f=1;10>=f;f++)ctx.beginPath(),ctx.arc(0,0,e,0,2*Math.PI,!1),ctx.fill(),e-=f;ctx.restore()}}function D(){function e(a,f,t){0>=a||(t?ctx.fillStyle=f:(ctx.strokeStyle=
f,ctx.lineJoin="round"),ctx.beginPath(),1E-9<Math.abs(a-2*Math.PI)?ctx.moveTo(0,0):h.browser.msie&&(a-=1E-4),ctx.arc(0,0,k,n,n+a,!1),ctx.closePath(),n+=a,t?ctx.fill():ctx.stroke())}function f(){for(var e=startAngle,k=1<a.series.pie.label.radius?a.series.pie.label.radius:u*a.series.pie.label.radius,n=0;n<J.length;++n){if(J[n].percent>=100*a.series.pie.label.threshold){var q=J[n],D=e,z=n;if(0!=q.data[0][1]){var K=a.legend.labelFormatter,O=void 0,P=a.series.pie.label.formatter,O=K?K(q.label,q):q.label;
P&&(O=P(O,q));K=(D+q.angle+D)/2;D=W+Math.round(Math.cos(K)*k);K=ca+Math.round(Math.sin(K)*k)*a.series.pie.tilt;t.append('<span class="pieLabel" id="pieLabel'+z+'" style="position:absolute;top:'+K+"px;left:"+D+'px;">'+O+"</span>");z=t.children("#pieLabel"+z);O=K-z.height()/2;K=D-z.width()/2;z.css("top",O);z.css("left",K);if(0<0-O||0<0-K||0>A.height-(O+z.height())||0>A.width-(K+z.width()))Y=!0;0!=a.series.pie.label.background.opacity&&(D=a.series.pie.label.background.color,null==D&&(D=q.color),q="top:"+
O+"px;left:"+K+"px;",h('<div class="pieLabelBackground" style="position:absolute;width:'+z.width()+"px;height:"+z.height()+"px;"+q+"background-color:"+D+';"> </div>').insertBefore(z).css("opacity",a.series.pie.label.background.opacity))}}e+=J[n].angle}}startAngle=Math.PI*a.series.pie.startAngle;var k=1<a.series.pie.radius?a.series.pie.radius:u*a.series.pie.radius;ctx.save();ctx.translate(W,ca);ctx.scale(1,a.series.pie.tilt);ctx.save();for(var n=startAngle,z=0;z<J.length;++z)J[z].startAngle=n,e(J[z].angle,
J[z].color,!0);ctx.restore();ctx.save();ctx.lineWidth=a.series.pie.stroke.width;n=startAngle;for(z=0;z<J.length;++z)e(J[z].angle,a.series.pie.stroke.color,!1);ctx.restore();q(ctx);a.series.pie.label.show&&f();ctx.restore()}if(t){ctx=f;ba=t.children().filter(".legend").children().width();u=Math.min(A.width,A.height/a.series.pie.tilt)/2;ca=A.height/2+a.series.pie.offset.top;W=A.width/2;W="auto"==a.series.pie.offset.left?a.legend.position.match("w")?W+ba/2:W-ba/2:W+a.series.pie.offset.left;W<u?W=u:W>
A.width-u&&(W=A.width-u);for(var J=e.getData(),z=0;Y&&10>z;)Y=!1,0<z&&(u*=.95),z+=1,k(),.8>=a.series.pie.tilt&&n(),D();10<=z&&(k(),t.prepend('<div class="error">Could not draw pie with labels contained inside canvas</div>'));e.setSeries&&e.insertLegend&&(e.setSeries(J),e.insertLegend())}}function q(e){0<a.series.pie.innerRadius&&(e.save(),innerRadius=1<a.series.pie.innerRadius?a.series.pie.innerRadius:u*a.series.pie.innerRadius,e.globalCompositeOperation="destination-out",e.beginPath(),e.fillStyle=
a.series.pie.stroke.color,e.arc(0,0,innerRadius,0,2*Math.PI,!1),e.fill(),e.closePath(),e.restore(),e.save(),e.beginPath(),e.strokeStyle=a.series.pie.stroke.color,e.arc(0,0,innerRadius,0,2*Math.PI,!1),e.stroke(),e.closePath(),e.restore())}function D(a){P("plothover",a)}function K(a){P("plotclick",a)}function P(f,h){var k=e.offset(),n=parseInt(h.pageX-k.left);a:{for(var k=parseInt(h.pageY-k.top),q=e.getData(),A=e.getOptions(),A=1<A.series.pie.radius?A.series.pie.radius:u*A.series.pie.radius,D=0;D<q.length;++D){var z=
q[D];if(z.pie.show){ctx.save();ctx.beginPath();ctx.moveTo(0,0);ctx.arc(0,0,A,z.startAngle,z.startAngle+z.angle,!1);ctx.closePath();x=n-W;y=k-ca;if(ctx.isPointInPath){if(ctx.isPointInPath(n-W,k-ca)){ctx.restore();n={datapoint:[z.percent,z.data],dataIndex:0,series:z,seriesIndex:D};break a}}else{p1X=A*Math.cos(z.startAngle);p1Y=A*Math.sin(z.startAngle);p2X=A*Math.cos(z.startAngle+z.angle/4);p2Y=A*Math.sin(z.startAngle+z.angle/4);p3X=A*Math.cos(z.startAngle+z.angle/2);p3Y=A*Math.sin(z.startAngle+z.angle/
2);p4X=A*Math.cos(z.startAngle+z.angle/1.5);p4Y=A*Math.sin(z.startAngle+z.angle/1.5);p5X=A*Math.cos(z.startAngle+z.angle);p5Y=A*Math.sin(z.startAngle+z.angle);arrPoly=[[0,0],[p1X,p1Y],[p2X,p2Y],[p3X,p3Y],[p4X,p4Y],[p5X,p5Y]];arrPoint=[x,y];for(var K=!1,O=-1,P=arrPoly.length,Y=P-1;++O<P;Y=O)(arrPoly[O][1]<=arrPoint[1]&&arrPoint[1]<arrPoly[Y][1]||arrPoly[Y][1]<=arrPoint[1]&&arrPoint[1]<arrPoly[O][1])&&arrPoint[0]<(arrPoly[Y][0]-arrPoly[O][0])*(arrPoint[1]-arrPoly[O][1])/(arrPoly[Y][1]-arrPoly[O][1])+
arrPoly[O][0]&&(K=!K);if(K){ctx.restore();n={datapoint:[z.percent,z.data],dataIndex:0,series:z,seriesIndex:D};break a}}ctx.restore()}}n=null}if(a.grid.autoHighlight)for(k=0;k<da.length;++k)q=da[k],q.auto!=f||n&&q.series==n.series||(q=q.series,null==q&&(da=[],e.triggerRedrawOverlay()),"number"==typeof q&&(q=series[q]),q=J(q),-1!=q&&(da.splice(q,1),e.triggerRedrawOverlay()));n&&(k=n.series,"number"==typeof k&&(k=series[k]),q=J(k),-1==q?(da.push({series:k,auto:f}),e.triggerRedrawOverlay()):f||(da[q].auto=
!1));t.trigger(f,[{pageX:h.pageX,pageY:h.pageY},n])}function J(a){for(var e=0;e<da.length;++e)if(da[e].series==a)return e;return-1}function z(a,e){var f=a.getOptions(),h=1<f.series.pie.radius?f.series.pie.radius:u*f.series.pie.radius;e.save();e.translate(W,ca);e.scale(1,f.series.pie.tilt);for(i=0;i<da.length;++i){var k=da[i].series;0>k.angle||(e.fillStyle="rgba(255, 255, 255, "+f.series.pie.highlight.opacity+")",e.beginPath(),1E-9<Math.abs(k.angle-2*Math.PI)&&e.moveTo(0,0),e.arc(0,0,h,k.startAngle,
k.startAngle+k.angle,!1),e.closePath(),e.fill())}q(e);e.restore()}var A=null,t=null,u=null,W=null,ca=null,O=0,Y=!0,ba=0,ha=!1,da=[];e.hooks.processOptions.push(function(a,e){e.series.pie.show&&(e.grid.show=!1,"auto"==e.series.pie.label.show&&(e.series.pie.label.show=e.legend.show?!1:!0),"auto"==e.series.pie.radius&&(e.series.pie.radius=e.series.pie.label.show?.75:1),1<e.series.pie.tilt&&(e.series.pie.tilt=1),0>e.series.pie.tilt&&(e.series.pie.tilt=0),a.hooks.processDatapoints.push(f),a.hooks.drawOverlay.push(z),
a.hooks.draw.push(n))});e.hooks.bindEvents.push(function(a,e){var f=a.getOptions();f.series.pie.show&&f.grid.hoverable&&e.unbind("mousemove").mousemove(D);f.series.pie.show&&f.grid.clickable&&e.unbind("click").click(K)})},options:a,name:"pie",version:"1.0"})})(jQuery);(function(h,a,e){function f(){q=a.setTimeout(function(){k.each(function(){var a=h(this),e=a.width(),f=a.height(),k=h.data(this,"resize-special-event");e===k.w&&f===k.h||a.trigger("resize",[k.w=e,k.h=f])});f()},n.delay)}var k=h([]),n=h.resize=h.extend(h.resize,{}),q;n.delay=250;n.throttleWindow=!0;h.event.special.resize={setup:function(){if(!n.throttleWindow&&this.setTimeout)return!1;var a=h(this);k=k.add(a);h.data(this,"resize-special-event",{w:a.width(),h:a.height()});1===k.length&&f()},teardown:function(){if(!n.throttleWindow&&
this.setTimeout)return!1;var a=h(this);k=k.not(a);a.removeData("resize-special-event");k.length||clearTimeout(q)},add:function(a){function f(a,n,q){var t=h(this),u=h.data(this,"resize-special-event");u.w=n!==e?n:t.width();u.h=q!==e?q:t.height();k.apply(this,arguments)}if(!n.throttleWindow&&this.setTimeout)return!1;var k;if(h.isFunction(a))return k=a,f;k=a.handler;a.handler=f}}})(jQuery,this);
(function(h){h.plot.plugins.push({init:function(a){function e(){var e=a.getPlaceholder();if(0!=e.width()&&0!=e.height()){a.resize();a.setupGrid();a.draw();var k=a.width();h("#dashboard-graph .graph-key-event-label").each(function(){var e=a.pointOffset({x:h(this).data("points")[0],y:h(this).data("points")[1]});15>=e.left&&(e.left=15);e.left>=k-15&&(e.left=k-15);h(this).css({left:e.left})})}}a.hooks.bindEvents.push(function(a,h){a.getPlaceholder().resize(e)});a.hooks.shutdown.push(function(a,h){a.getPlaceholder().unbind("resize",
e)})},options:{},name:"resize",version:"1.0"})})(jQuery);(function(h){h.plot.plugins.push({init:function(a){a.hooks.processDatapoints.push(function(a,f,h){if(null!=f.stack){var n;a=a.getData();for(var q=null,D=0;D<a.length&&f!=a[D];++D)a[D].stack==f.stack&&(q=a[D]);if(n=q){a=h.pointsize;q=h.points;D=n.datapoints.pointsize;n=n.datapoints.points;var K=[],P,J,z,A,t,u,W=f.lines.show;A=f.bars.horizontal;var ca=2<a&&(A?h.format[2].x:h.format[2].y);f=W&&f.lines.steps;z=!0;for(var O=A?1:0,Y=A?0:1,ba=0,ha=0,da;!(ba>=q.length);){da=K.length;if(null==q[ba]){for(m=
0;m<a;++m)K.push(q[ba+m]);ba+=a}else if(ha>=n.length){if(!W)for(m=0;m<a;++m)K.push(q[ba+m]);ba+=a}else if(null==n[ha]){for(m=0;m<a;++m)K.push(null);z=!0;ha+=D}else{P=q[ba+O];J=q[ba+Y];A=n[ha+O];t=n[ha+Y];u=0;if(P==A){for(m=0;m<a;++m)K.push(q[ba+m]);K[da+Y]+=t;u=t;ba+=a;ha+=D}else if(P>A){if(W&&0<ba&&null!=q[ba-a]){z=J+(q[ba-a+Y]-J)*(A-P)/(q[ba-a+O]-P);K.push(A);K.push(z+t);for(m=2;m<a;++m)K.push(q[ba+m]);u=t}ha+=D}else{if(z&&W){ba+=a;continue}for(m=0;m<a;++m)K.push(q[ba+m]);W&&0<ha&&null!=n[ha-D]&&
(u=t+(n[ha-D+Y]-t)*(P-A)/(n[ha-D+O]-A));K[da+Y]+=u;ba+=a}z=!1;da!=K.length&&ca&&(K[da+2]+=u)}if(f&&da!=K.length&&0<da&&null!=K[da]&&K[da]!=K[da-a]&&K[da+1]!=K[da-a+1]){for(m=0;m<a;++m)K[da+a+m]=K[da+m];K[da+1]=K[da-a+1]}}h.points=K}}})},options:{series:{stack:null}},name:"stack",version:"1.2"})})(jQuery);(function(){var h,a,e,f,k,n,q,D,K,P,J={}.hasOwnProperty,z=function(a,e){function f(){this.constructor=a}for(var h in e)J.call(e,h)&&(a[h]=e[h]);f.prototype=e.prototype;a.prototype=new f;a.__super__=e.prototype;return a};(function(){var a,e,f,h,k,n,q;k=["ms","moz","webkit","o"];n=0;for(q=k.length;n<q;n++){h=k[n];if(window.requestAnimationFrame)break;window.requestAnimationFrame=window[h+"RequestAnimationFrame"];window.cancelAnimationFrame=window[h+"CancelAnimationFrame"]||window[h+"CancelRequestAnimationFrame"]}a=
null;f=0;e={};if(!requestAnimationFrame)return window.requestAnimationFrame=function(a,e){var f,h,k,t;f=(new Date).getTime();t=Math.max(0,16-(f-k));h=window.setTimeout(function(){return a(f+t)},t);k=f+t;return h},window.cancelAnimationFrame=function(a){return clearTimeout(a)};if(!window.cancelAnimationFrame)return a=window.requestAnimationFrame,window.requestAnimationFrame=function(h,k){var n;n=++f;a(function(){if(!e[n])return h()},k);return n},window.cancelAnimationFrame=function(a){return e[a]=
!0}})();String.prototype.hashCode=function(){var a,e,f,h;e=0;if(0===this.length)return e;a=f=0;for(h=this.length;0<=h?f<h:f>h;a=0<=h?++f:--f)a=this.charCodeAt(a),e=(e<<5)-e+a,e&=e;return e};K=function(a){var e,f;e=Math.floor(a/3600);f=Math.floor((a-3600*e)/60);a=a-(3600*e+60*f)+"";for(f+="";2>f.length;)f="0"+f;for(;2>a.length;)a="0"+a;return(e?e+":":"")+f+":"+a};q=function(a){return n(a.toFixed(0))};P=function(a,e){var f,h;for(f in e)J.call(e,f)&&(h=e[f],a[f]=h);return a};D=function(a,e){var f,h,
k;h={};for(f in a)J.call(a,f)&&(k=a[f],h[f]=k);for(f in e)J.call(e,f)&&(k=e[f],h[f]=k);return h};n=function(a){var e,f;e=(a+"").split(".");a=e[0];f="";1<e.length&&(f="."+e[1]);for(e=/(\d+)(\d{3})/;e.test(a);)a=a.replace(e,"$1,$2");return a+f};e=function(){function a(e,f){null==e&&(e=!0);this.clear=null!=f?f:!0;e&&AnimationUpdater.add(this)}a.prototype.animationSpeed=32;a.prototype.update=function(a){null==a&&(a=!1);return a||this.displayedValue!==this.value?(this.ctx&&this.clear&&this.ctx.clearRect(0,
0,this.canvas.width,this.canvas.height),a=this.value-this.displayedValue,.001>=Math.abs(a/this.animationSpeed)?this.displayedValue=this.value:this.displayedValue+=a/this.animationSpeed,this.render(),!0):!1};return a}();h=function(a){function e(){return e.__super__.constructor.apply(this,arguments)}z(e,a);e.prototype.setTextField=function(a){return this.textField=a instanceof k?a:new k(a)};e.prototype.setOptions=function(a){null==a&&(a=null);this.options=D(this.options,a);this.textField&&(this.textField.el.style.fontSize=
a.fontSize+"px");return this};return e}(e);k=function(){function a(e){this.el=e}a.prototype.render=function(a){return this.el.innerHTML=q(a.displayedValue)};return a}();(function(a){function e(a,f){this.elem=a;this.text=null!=f?f:!1;this.value=1*this.elem.innerHTML;this.text&&(this.value=0)}z(e,a);e.prototype.displayedValue=0;e.prototype.value=0;e.prototype.setVal=function(a){return this.value=1*a};e.prototype.render=function(){var a;a=this.text?K(this.displayedValue.toFixed(0)):n(q(this.displayedValue));
return this.elem.innerHTML=a};return e})(e);f=function(a){function e(a){this.gauge=a;this.ctx=this.gauge.ctx;this.canvas=this.gauge.canvas;e.__super__.constructor.call(this,!1,!1);this.setOptions()}z(e,a);e.prototype.displayedValue=0;e.prototype.value=0;e.prototype.options={strokeWidth:.035,length:.1,color:"#000000"};e.prototype.setOptions=function(a){null==a&&(a=null);P(this.options,a);this.length=this.canvas.height*this.options.length;this.strokeWidth=this.canvas.height*this.options.strokeWidth;
this.maxValue=this.gauge.maxValue;return this.animationSpeed=this.gauge.animationSpeed};e.prototype.render=function(){var a,e,f,h,k,n,q,t;a=this.gauge.getAngle.call(this,this.displayedValue);e=this.canvas.width/2;f=.9*this.canvas.height;q=Math.round(e+this.length*Math.cos(a));t=Math.round(f+this.length*Math.sin(a));k=Math.round(e+this.strokeWidth*Math.cos(a-Math.PI/2));n=Math.round(f+this.strokeWidth*Math.sin(a-Math.PI/2));h=Math.round(e+this.strokeWidth*Math.cos(a+Math.PI/2));a=Math.round(f+this.strokeWidth*
Math.sin(a+Math.PI/2));this.ctx.fillStyle=this.options.color;this.ctx.beginPath();this.ctx.arc(e,f,this.strokeWidth,0,2*Math.PI,!0);this.ctx.fill();this.ctx.beginPath();this.ctx.moveTo(k,n);this.ctx.lineTo(q,t);this.ctx.lineTo(h,a);return this.ctx.fill()};return e}(e);(function(){function a(e){this.elem=e}a.prototype.updateValues=function(a){this.value=a[0];this.maxValue=a[1];this.avgValue=a[2];return this.render()};a.prototype.render=function(){var a,e;this.textField&&this.textField.text(q(this.value));
0===this.maxValue&&(this.maxValue=2*this.avgValue);e=this.value/this.maxValue*100;a=this.avgValue/this.maxValue*100;$(".bar-value",this.elem).css({width:e+"%"});return $(".typical-value",this.elem).css({width:a+"%"})};return a})();e=function(a){function e(a){this.canvas=a;e.__super__.constructor.call(this);this.ctx=this.canvas.getContext("2d");this.gp=[new f(this)];this.setOptions();this.render()}z(e,a);e.prototype.elem=null;e.prototype.value=[20];e.prototype.maxValue=80;e.prototype.displayedAngle=
0;e.prototype.displayedValue=0;e.prototype.lineWidth=40;e.prototype.paddingBottom=.1;e.prototype.options={colorStart:"#6fadcf",colorStop:void 0,strokeColor:"#e0e0e0",pointer:{length:.8,strokeWidth:.035},angle:.15,lineWidth:.44,fontSize:40};e.prototype.setOptions=function(a){var f,h,k;null==a&&(a=null);e.__super__.setOptions.call(this,a);this.lineWidth=this.canvas.height*(1-this.paddingBottom)*this.options.lineWidth;this.radius=this.canvas.height*(1-this.paddingBottom)-this.lineWidth;k=this.gp;f=0;
for(h=k.length;f<h;f++)a=k[f],a.setOptions(this.options.pointer);return this};e.prototype.set=function(a){var e,h,k,n;a instanceof Array||(a=[a]);if(a.length>this.gp.length)for(e=0,h=a.length-this.gp.length;0<=h?e<h:e>h;0<=h?++e:--e)this.gp.push(new f(this));k=e=0;for(n=a.length;k<n;k++)h=a[k],h>this.maxValue&&(this.maxValue=1.1*this.value),this.gp[e].value=h,this.gp[e++].setOptions({maxValue:this.maxValue,angle:this.options.angle});this.value=a[a.length-1];return AnimationUpdater.run()};e.prototype.getAngle=
function(a){return(1+this.options.angle)*Math.PI+a/this.maxValue*(1-2*this.options.angle)*Math.PI};e.prototype.render=function(){var a,e,f,h,k;h=this.canvas.width/2;f=this.canvas.height*(1-this.paddingBottom);a=this.getAngle(this.displayedValue);this.textField&&this.textField.render(this);this.ctx.lineCap="butt";void 0!==this.options.colorStop?(e=this.ctx.createRadialGradient(h,f,9,h,f,70),e.addColorStop(0,this.options.colorStart),e.addColorStop(1,this.options.colorStop)):e=this.options.colorStart;
this.ctx.strokeStyle=e;this.ctx.beginPath();this.ctx.arc(h,f,this.radius,(1+this.options.angle)*Math.PI,a,!1);this.ctx.lineWidth=this.lineWidth;this.ctx.stroke();this.ctx.strokeStyle=this.options.strokeColor;this.ctx.beginPath();this.ctx.arc(h,f,this.radius,a,(2-this.options.angle)*Math.PI,!1);this.ctx.stroke();h=this.gp;k=[];e=0;for(f=h.length;e<f;e++)a=h[e],k.push(a.update(!0));return k};return e}(h);h=function(a){function e(a){this.canvas=a;e.__super__.constructor.call(this);this.ctx=this.canvas.getContext("2d");
this.setOptions();this.render()}z(e,a);e.prototype.lineWidth=15;e.prototype.displayedValue=0;e.prototype.value=33;e.prototype.maxValue=80;e.prototype.options={lineWidth:.1,colorStart:"#6f6ea0",colorStop:"#c0c0db",strokeColor:"#eeeeee",shadowColor:"#d5d5d5",angle:.35};e.prototype.getAngle=function(a){return(1-this.options.angle)*Math.PI+a/this.maxValue*(2+this.options.angle-(1-this.options.angle))*Math.PI};e.prototype.setOptions=function(a){null==a&&(a=null);e.__super__.setOptions.call(this,a);this.lineWidth=
this.canvas.height*this.options.lineWidth;this.radius=this.canvas.height/2-this.lineWidth/2;return this};e.prototype.set=function(a){this.value=a;this.value>this.maxValue&&(this.maxValue=1.1*this.value);return AnimationUpdater.run()};e.prototype.render=function(){var a,e,f,h;a=this.getAngle(this.displayedValue);h=this.canvas.width/2;f=this.canvas.height/2;this.textField&&this.textField.render(this);e=this.ctx.createRadialGradient(h,f,39,h,f,70);e.addColorStop(0,this.options.colorStart);e.addColorStop(1,
this.options.colorStop);this.ctx.strokeStyle=this.options.strokeColor;this.ctx.beginPath();this.ctx.arc(h,f,this.radius,(1-this.options.angle)*Math.PI,(2+this.options.angle)*Math.PI,!1);this.ctx.lineWidth=this.lineWidth;this.ctx.lineCap="round";this.ctx.stroke();this.ctx.strokeStyle=e;this.ctx.beginPath();this.ctx.arc(h,f,this.radius,(1-this.options.angle)*Math.PI,a,!1);return this.ctx.stroke()};return e}(h);a=function(a){function e(){return e.__super__.constructor.apply(this,arguments)}z(e,a);e.prototype.strokeGradient=
function(a,e,f,h){a=this.ctx.createRadialGradient(a,e,f,a,e,h);a.addColorStop(0,this.options.shadowColor);a.addColorStop(.12,this.options._orgStrokeColor);a.addColorStop(.88,this.options._orgStrokeColor);a.addColorStop(1,this.options.shadowColor);return a};e.prototype.setOptions=function(a){var f,h,k;null==a&&(a=null);e.__super__.setOptions.call(this,a);k=this.canvas.width/2;a=this.canvas.height/2;f=this.radius-this.lineWidth/2;h=this.radius+this.lineWidth/2;this.options._orgStrokeColor=this.options.strokeColor;
this.options.strokeColor=this.strokeGradient(k,a,f,h);return this};return e}(h);window.AnimationUpdater={elements:[],animId:null,addAll:function(a){var e,f,h,k;k=[];f=0;for(h=a.length;f<h;f++)e=a[f],k.push(AnimationUpdater.elements.push(e));return k},add:function(a){return AnimationUpdater.elements.push(a)},run:function(){var a,e,f,h,k;a=!0;k=AnimationUpdater.elements;f=0;for(h=k.length;f<h;f++)e=k[f],e.update()&&(a=!1);return a?cancelAnimationFrame(AnimationUpdater.animId):AnimationUpdater.animId=
requestAnimationFrame(AnimationUpdater.run)}};window.Gauge=e;window.Donut=a;window.BaseDonut=h;window.TextRenderer=k}).call(this);(function(){function h(c){for(var p=-1,w=c.length,a=[];++p<w;)a.push(c[p]);return a}function a(){}function e(c){return c}function f(){return this}function k(){return!0}function n(c){return"function"==typeof c?c:function(){return c}}function q(c,p,w){return function(){var a=w.apply(p,arguments);return arguments.length?c:a}}function D(c){return null!=c&&!isNaN(c)}function K(c){return c.length}function P(c){return null==c}function J(){}function z(c){function p(){for(var p=w,a=-1,e=p.length,fa;++a<e;)(fa=
p[a].on)&&fa.apply(this,arguments);return c}var w=[],e=new a;return p.on=function(p,a){var f=e.get(p),F;return 2>arguments.length?f&&f.on:(f&&(f.on=null,w=w.slice(0,F=w.indexOf(f)).concat(w.slice(F+1)),e.remove(p)),a&&w.push(e.set(p,{on:a})),c)},p}function A(c,p){return p-(c?1+Math.floor(Math.log(c+Math.pow(10,1+Math.floor(Math.log(c)/Math.LN10)-p))/Math.LN10):1)}function t(c){return c+""}function u(c){for(var p=c.lastIndexOf("."),w=0<=p?c.substring(p):(p=c.length,""),a=[];0<p;)a.push(c.substring(p-=
3,p+3));return a.reverse().join(",")+w}function W(c){return function(p){return 0>=p?0:1<=p?1:c(p)}}function ca(c){return function(p){return 1-c(1-p)}}function O(c){return function(p){return.5*(.5>p?c(2*p):2-c(2-2*p))}}function Y(c){return c}function ba(c){return function(p){return Math.pow(p,c)}}function ha(c){return 1-Math.cos(c*Math.PI/2)}function da(c){return Math.pow(2,10*(c-1))}function oa(c){return 1-Math.sqrt(1-c*c)}function bb(c){return c<1/2.75?7.5625*c*c:c<2/2.75?7.5625*(c-=1.5/2.75)*c+
.75:c<2.5/2.75?7.5625*(c-=2.25/2.75)*c+.9375:7.5625*(c-=2.625/2.75)*c+.984375}function qa(){d3.event.stopPropagation();d3.event.preventDefault()}function Sa(){for(var c=d3.event,p;p=c.sourceEvent;)c=p;return c}function Oa(c){for(var p=new J,w=0,a=arguments.length;++w<a;)p[arguments[w]]=z(p);return p.of=function(w,a){return function(e){try{var fa=e.sourceEvent=d3.event;e.target=c;d3.event=e;p[e.type].apply(w,a)}finally{d3.event=fa}}},p}function ab(c){var p=[c.a,c.b],w=[c.c,c.d],a=Ta(p),e=p[0]*w[0]+
p[1]*w[1],Q;Q=-e;Q=(w[0]+=Q*p[0],w[1]+=Q*p[1],w);Q=Ta(Q)||0;p[0]*w[1]<w[0]*p[1]&&(p[0]*=-1,p[1]*=-1,a*=-1,e*=-1);this.rotate=(a?Math.atan2(p[1],p[0]):Math.atan2(-w[0],w[1]))*Dc;this.translate=[c.e,c.f];this.scale=[a,Q];this.skew=Q?Math.atan2(e,Q)*Dc:0}function Ta(c){var p=Math.sqrt(c[0]*c[0]+c[1]*c[1]);return p&&(c[0]/=p,c[1]/=p),p}function Ja(c){return"transform"==c?d3.interpolateTransform:d3.interpolate}function Pa(c,p){return p=p-(c=+c)?1/(p-c):0,function(w){return(w-c)*p}}function $a(c,p){return p=
p-(c=+c)?1/(p-c):0,function(w){return Math.max(0,Math.min(1,(w-c)*p))}}function Ca(){}function ya(c,p,w){return new Qa(c,p,w)}function Qa(c,p,w){this.r=c;this.g=p;this.b=w}function za(c){return 16>c?"0"+Math.max(0,c).toString(16):Math.min(255,c).toString(16)}function Da(c,p,w){var a=0,e=0,Q=0,f,h,G;if(f=/([a-z]+)\((.*)\)/i.exec(c))switch(h=f[2].split(","),f[1]){case "hsl":return w(parseFloat(h[0]),parseFloat(h[1])/100,parseFloat(h[2])/100);case "rgb":return p(Ea(h[0]),Ea(h[1]),Ea(h[2]))}return(G=
qb.get(c))?p(G.r,G.g,G.b):(null!=c&&"#"===c.charAt(0)&&(4===c.length?(a=c.charAt(1),a+=a,e=c.charAt(2),e+=e,Q=c.charAt(3),Q+=Q):7===c.length&&(a=c.substring(1,3),e=c.substring(3,5),Q=c.substring(5,7)),a=parseInt(a,16),e=parseInt(e,16),Q=parseInt(Q,16)),p(a,e,Q))}function Ua(c,p,w){var a=Math.min(c/=255,p/=255,w/=255),e=Math.max(c,p,w),Q=e-a,f,h,G=(e+a)/2;return Q?(h=.5>G?Q/(e+a):Q/(2-e-a),c==e?f=(p-w)/Q+(p<w?6:0):p==e?f=(w-c)/Q+2:f=(c-p)/Q+4,f*=60):h=f=0,Ha(f,h,G)}function Ka(c,p,w){c=Ga(c);p=Ga(p);
w=Ga(w);var a=S((.4124564*c+.3575761*p+.1804375*w)/Ec),e=S((.2126729*c+.7151522*p+.072175*w)/Fc);c=S((.0193339*c+.119192*p+.9503041*w)/Gc);return ja(116*e-16,500*(a-e),200*(e-c))}function Ga(c){return.04045>=(c/=255)?c/12.92:Math.pow((c+.055)/1.055,2.4)}function Ea(c){var p=parseFloat(c);return"%"===c.charAt(c.length-1)?Math.round(2.55*p):p}function Ha(c,p,w){return new Na(c,p,w)}function Na(c,p,w){this.h=c;this.s=p;this.l=w}function Z(c,p,w){function a(c){return 360<c?c-=360:0>c&&(c+=360),60>c?e+
(Q-e)*c/60:180>c?Q:240>c?e+(Q-e)*(240-c)/60:e}var e,Q;return c%=360,0>c&&(c+=360),p=0>p?0:1<p?1:p,w=0>w?0:1<w?1:w,Q=.5>=w?w*(1+p):w+p-w*p,e=2*w-Q,ya(Math.round(255*a(c+120)),Math.round(255*a(c)),Math.round(255*a(c-120)))}function H(c,p,w){return new ta(c,p,w)}function ta(c,p,w){this.h=c;this.c=p;this.l=w}function Aa(c,p,w){return ja(w,Math.cos(c*=Math.PI/180)*p,Math.sin(c)*p)}function ja(c,p,w){return new L(c,p,w)}function L(c,p,w){this.l=c;this.a=p;this.b=w}function ka(c,p,w){c=(c+16)/116;p=c+p/
500;w=c-w/200;return p=na(p)*Ec,c=na(c)*Fc,w=na(w)*Gc,ya(l(3.2404542*p-1.5371385*c-.4985314*w),l(-.969266*p+1.8760108*c+.041556*w),l(.0556434*p-.2040259*c+1.0572252*w))}function ma(c,p,w){return H(Math.atan2(w,p)/Math.PI*180,Math.sqrt(p*p+w*w),c)}function na(c){return.206893034<c?c*c*c:(c-4/29)/7.787037}function S(c){return.008856<c?Math.pow(c,1/3):7.787037*c+4/29}function l(c){return Math.round(255*(.00304>=c?12.92*c:1.055*Math.pow(c,1/2.4)-.055))}function s(c){return Qb(c,ga),c}function C(c){return function(){return rb(c,
this)}}function N(c){return function(){return Hc(c,this)}}function R(c,p){function w(){this.removeAttribute(c)}function a(){this.removeAttributeNS(c.space,c.local)}function e(){this.setAttribute(c,p)}function Q(){this.setAttributeNS(c.space,c.local,p)}function f(){var w=p.apply(this,arguments);null==w?this.removeAttribute(c):this.setAttribute(c,w)}function h(){var w=p.apply(this,arguments);null==w?this.removeAttributeNS(c.space,c.local):this.setAttributeNS(c.space,c.local,w)}return c=d3.ns.qualify(c),
null==p?c.local?a:w:"function"==typeof p?c.local?h:f:c.local?Q:e}function v(c){return new RegExp("(?:^|\\s+)"+d3.requote(c)+"(?:\\s+|$)","g")}function pa(c,p){function w(){for(var w=-1;++w<e;)c[w](this,p)}function a(){for(var w=-1,fa=p.apply(this,arguments);++w<e;)c[w](this,fa)}c=c.trim().split(/\s+/).map(sa);var e=c.length;return"function"==typeof p?a:w}function sa(c){var p=v(c);return function(w,a){if(e=w.classList)return a?e.add(c):e.remove(c);var e=w.className,Q=null!=e.baseVal,f=Q?e.baseVal:
e;a?(p.lastIndex=0,p.test(f)||(f=(f+" "+c).trim().replace(/\s+/g," "),Q?e.baseVal=f:w.className=f)):f&&(f=f.replace(p," ").trim().replace(/\s+/g," "),Q?e.baseVal=f:w.className=f)}}function B(c,p,w){function a(){this.style.removeProperty(c)}function e(){this.style.setProperty(c,p,w)}function Q(){var a=p.apply(this,arguments);null==a?this.style.removeProperty(c):this.style.setProperty(c,a,w)}return null==p?a:"function"==typeof p?Q:e}function fb(c,p){function w(){delete this[c]}function a(){this[c]=
p}function e(){var w=p.apply(this,arguments);null==w?delete this[c]:this[c]=w}return null==p?w:"function"==typeof p?e:a}function M(c){return function(){return Ic(this,c)}}function la(c){return arguments.length||(c=d3.ascending),function(p,w){return c(p&&p.__data__,w&&w.__data__)}}function E(c,p,w){function a(){var p=this[f];p&&(this.removeEventListener(c,p,p.$),delete this[f])}function e(){function X(c){var w=d3.event;d3.event=c;ia[0]=h.__data__;try{p.apply(h,ia)}finally{d3.event=w}}var h=this,ia=
arguments;a.call(this);this.addEventListener(c,this[f]=X,X.$=w);X._=p}var f="__on"+c,h=c.indexOf(".");return 0<h&&(c=c.substring(0,h)),p?e:a}function U(c,p){for(var w=0,a=c.length;w<a;w++)for(var e=c[w],f=0,h=e.length,F;f<h;f++)(F=e[f])&&p(F,f,w);return c}function zc(c){return Qb(c,Va),c}function I(c,p,w){Qb(c,xa);var e=new a,X=d3.dispatch("start","end"),f=sb;return c.id=p,c.time=w,c.tween=function(p,w){return 2>arguments.length?e.get(p):(null==w?e.remove(p):e.set(p,w),c)},c.ease=function(p){return arguments.length?
(f="function"==typeof p?p:d3.ease.apply(d3,arguments),c):f},c.each=function(p,w){return 2>arguments.length?V.call(c,p):(X.on(p,w),c)},d3.timer(function(a){return U(c,function(c,h,k){function l(a){return v.active>p?ua():(v.active=p,e.forEach(function(p,w){(w=w.call(c,t,h))&&n.push(w)}),X.start.call(c,t,h),T(a)||d3.timer(T,0,w),1)}function T(w){if(v.active!==p)return ua();w=(w-q)/s;for(var a=f(w),e=n.length;0<e;)n[--e].call(c,a);if(1<=w)return ua(),Wa=p,X.end.call(c,t,h),Wa=0,1}function ua(){return--v.count||
delete c.__transition__,1}var n=[],q=c.delay,s=c.duration,v=(c=c.node).__transition__||(c.__transition__={active:0,count:0}),t=c.__data__;++v.count;q<=a?l(a):d3.timer(l,q,w)})},0,w),c}function V(c){var p=Wa,w=sb,a=tb,e=ub;return Wa=this.id,sb=this.ease(),U(this,function(p,w,a){tb=p.delay;ub=p.duration;c.call(p=p.node,p.__data__,w,a)}),Wa=p,sb=w,tb=a,ub=e,this}function Td(c,p,w){return""!=w&&hb}function Ob(){for(var c,p=Date.now(),w=cb;w;)c=p-w.then,c>=w.delay&&(w.flush=w.callback(c)),w=w.next;c=Ac()-
p;24<c?(isFinite(c)&&(clearTimeout(vb),vb=setTimeout(Ob,c)),wb=0):(wb=1,Jc(Ob))}function Ac(){for(var c=null,p=cb,w=Infinity;p;)p.flush?(delete Rb[p.callback.id],p=c?c.next=p.next:cb=p.next):(w=Math.min(w,p.then+p.delay),p=(c=p).next);return w}function Bc(c,p){var w=c.ownerSVGElement||c;if(w.createSVGPoint){var a=w.createSVGPoint();if(0>Sb&&(window.scrollX||window.scrollY)){var w=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0),e=w[0][0].getScreenCTM();
Sb=!e.f&&!e.e;w.remove()}return Sb?(a.x=p.pageX,a.y=p.pageY):(a.x=p.clientX,a.y=p.clientY),a=a.matrixTransform(c.getScreenCTM().inverse()),[a.x,a.y]}w=c.getBoundingClientRect();return[p.clientX-w.left-c.clientLeft,p.clientY-w.top-c.clientTop]}function gb(c){var p=c[0];c=c[c.length-1];return p<c?[p,c]:[c,p]}function Ra(c){return c.rangeExtent?c.rangeExtent():gb(c.range())}function pb(c,p){var w=0,a=c.length-1,e=c[w],f=c[a],h;f<e&&(h=w,w=a,a=h,h=e,e=f,f=h);if(p=p(f-e))c[w]=p.floor(e),c[a]=p.ceil(f);
return c}function Ud(){return Math}function wc(c,p,w,a){function e(){var X=2<Math.min(c.length,p.length)?Wd:Xd,k=a?$a:Pa;return h=X(c,p,k,w),F=X(p,c,k,d3.interpolate),f}function f(c){return h(c)}var h,F;return f.invert=function(c){return F(c)},f.domain=function(p){return arguments.length?(c=p.map(Number),e()):c},f.range=function(c){return arguments.length?(p=c,e()):p},f.rangeRound=function(c){return f.range(c).interpolate(d3.interpolateRound)},f.clamp=function(c){return arguments.length?(a=c,e()):
a},f.interpolate=function(c){return arguments.length?(w=c,e()):w},f.ticks=function(p){return Pb(c,p)},f.tickFormat=function(p){return Tb(c,p)},f.nice=function(){return pb(c,yc),e()},f.copy=function(){return wc(c,p,w,a)},e()}function xc(c,p){return d3.rebind(c,p,"range","rangeRound","interpolate","clamp")}function yc(c){return c=Math.pow(10,Math.round(Math.log(c)/Math.LN10)-1),c&&{floor:function(p){return Math.floor(p/c)*c},ceil:function(p){return Math.ceil(p/c)*c}}}function Cc(c,p){var a=gb(c),e=
a[1]-a[0],f=Math.pow(10,Math.floor(Math.log(e/p)/Math.LN10)),e=p/e*f;return.15>=e?f*=10:.35>=e?f*=5:.75>=e&&(f*=2),a[0]=Math.ceil(a[0]/f)*f,a[1]=Math.floor(a[1]/f)*f+.5*f,a[2]=f,a}function Pb(c,p){return d3.range.apply(d3,Cc(c,p))}function Tb(c,p){return d3.format(",."+Math.max(0,-Math.floor(Math.log(Cc(c,p)[2])/Math.LN10+.01))+"f")}function Xd(c,p,a,e){var f=a(c[0],c[1]),Q=e(p[0],p[1]);return function(c){return Q(f(c))}}function Wd(c,p,a,e){var f=[],Q=[],h=0,F=Math.min(c.length,p.length)-1;for(c[F]<
c[0]&&(c=c.slice().reverse(),p=p.slice().reverse());++h<=F;)f.push(a(c[h-1],c[h])),Q.push(e(p[h-1],p[h]));return function(p){var a=d3.bisect(c,p,1,F)-1;return Q[a](f[a](p))}}function Kc(c,p){function a(w){return c(p(w))}var e=p.pow;return a.invert=function(p){return e(c.invert(p))},a.domain=function(f){return arguments.length?(p=0>f[0]?xb:Ub,e=p.pow,c.domain(f.map(p)),a):c.domain().map(e)},a.nice=function(){return c.domain(pb(c.domain(),Ud)),a},a.ticks=function(){var a=gb(c.domain()),w=[];if(a.every(isFinite)){var f=
Math.floor(a[0]),h=Math.ceil(a[1]),k=e(a[0]),a=e(a[1]);if(p===xb)for(w.push(e(f));f++<h;)for(var l=9;0<l;l--)w.push(e(f)*l);else{for(;f<h;f++)for(l=1;10>l;l++)w.push(e(f)*l);w.push(e(f))}for(f=0;w[f]<k;f++);for(h=w.length;w[h-1]>a;h--);w=w.slice(f,h)}return w},a.tickFormat=function(c,f){2>arguments.length&&(f=Yd);if(1>arguments.length)return f;var h=Math.max(.1,c/a.ticks().length),F=p===xb?(k=-1E-12,Math.floor):(k=1E-12,Math.ceil),k;return function(c){return c/e(F(p(c)+k))<=h?f(c):""}},a.copy=function(){return Kc(c.copy(),
p)},xc(a,c)}function Ub(c){return Math.log(0>c?0:c)/Math.LN10}function xb(c){return-Math.log(0<c?0:-c)/Math.LN10}function Lc(c,p){function a(p){return c(e(p))}var e=yb(p),f=yb(1/p);return a.invert=function(p){return f(c.invert(p))},a.domain=function(p){return arguments.length?(c.domain(p.map(e)),a):c.domain().map(f)},a.ticks=function(c){return Pb(a.domain(),c)},a.tickFormat=function(c){return Tb(a.domain(),c)},a.nice=function(){return a.domain(pb(a.domain(),yc))},a.exponent=function(c){if(!arguments.length)return p;
var h=a.domain();return e=yb(p=c),f=yb(1/p),a.domain(h)},a.copy=function(){return Lc(c.copy(),p)},xc(a,c)}function yb(c){return function(p){return 0>p?-Math.pow(-p,c):Math.pow(p,c)}}function Mc(c,p){function w(p){return Q[((f.get(p)||f.set(p,c.push(p)))-1)%Q.length]}function e(p,a){return d3.range(c.length).map(function(c){return p+a*c})}var f,Q,h;return w.domain=function(e){if(!arguments.length)return c;c=[];f=new a;for(var fa=-1,h=e.length,Q;++fa<h;)f.has(Q=e[fa])||f.set(Q,c.push(Q));return w[p.t].apply(w,
p.a)},w.range=function(c){return arguments.length?(Q=c,h=0,p={t:"range",a:arguments},w):Q},w.rangePoints=function(a,f){2>arguments.length&&(f=0);var X=a[0],k=a[1],l=(k-X)/(Math.max(1,c.length-1)+f);return Q=e(2>c.length?(X+k)/2:X+l*f/2,l),h=0,p={t:"rangePoints",a:arguments},w},w.rangeBands=function(a,f,X){2>arguments.length&&(f=0);3>arguments.length&&(X=f);var k=a[1]<a[0],l=a[k-0],ua=(a[1-k]-l)/(c.length-f+2*X);return Q=e(l+ua*X,ua),k&&Q.reverse(),h=ua*(1-f),p={t:"rangeBands",a:arguments},w},w.rangeRoundBands=
function(a,f,X){2>arguments.length&&(f=0);3>arguments.length&&(X=f);var k=a[1]<a[0],l=a[k-0],ua=a[1-k],n=Math.floor((ua-l)/(c.length-f+2*X));return Q=e(l+Math.round((ua-l-(c.length-f)*n)/2),n),k&&Q.reverse(),h=Math.round(n*(1-f)),p={t:"rangeRoundBands",a:arguments},w},w.rangeBand=function(){return h},w.rangeExtent=function(){return gb(p.a[0])},w.copy=function(){return Mc(c,p)},w.domain(c)}function Nc(c,p){function a(){var w=0,h=p.length;for(f=[];++w<h;)f[w-1]=d3.quantile(c,w/h);return e}function e(c){return isNaN(c=
+c)?NaN:p[d3.bisect(f,c)]}var f;return e.domain=function(p){return arguments.length?(c=p.filter(function(c){return!isNaN(c)}).sort(d3.ascending),a()):c},e.range=function(c){return arguments.length?(p=c,a()):p},e.quantiles=function(){return f},e.copy=function(){return Nc(c,p)},a()}function Oc(c,p,a){function e(p){return a[Math.max(0,Math.min(k,Math.floor(h*(p-c))))]}function f(){return h=a.length/(p-c),k=a.length-1,e}var h,k;return e.domain=function(a){return arguments.length?(c=+a[0],p=+a[a.length-
1],f()):[c,p]},e.range=function(c){return arguments.length?(a=c,f()):a},e.copy=function(){return Oc(c,p,a)},f()}function Pc(c,p){function a(w){return p[d3.bisect(c,w)]}return a.domain=function(p){return arguments.length?(c=p,a):c},a.range=function(c){return arguments.length?(p=c,a):p},a.copy=function(){return Pc(c,p)},a}function Qc(c){function p(c){return+c}return p.invert=p,p.domain=p.range=function(a){return arguments.length?(c=a.map(p),p):c},p.ticks=function(p){return Pb(c,p)},p.tickFormat=function(p){return Tb(c,
p)},p.copy=function(){return Qc(c)},p}function Zd(c){return c.innerRadius}function $d(c){return c.outerRadius}function Rc(c){return c.startAngle}function Sc(c){return c.endAngle}function Tc(c){function p(p){function k(){l.push("M",h(c(ia),F))}for(var l=[],ia=[],ua=-1,q=p.length,s,v=n(a),t=n(e);++ua<q;)f.call(this,s=p[ua],ua)?ia.push([+v.call(this,s,ua),+t.call(this,s,ua)]):ia.length&&(k(),ia=[]);return ia.length&&k(),l.length?l.join(""):null}var a=Vb,e=Uc,f=k,h=Ba,l=h.key,F=.7;return p.x=function(c){return arguments.length?
(a=c,p):a},p.y=function(c){return arguments.length?(e=c,p):e},p.defined=function(c){return arguments.length?(f=c,p):f},p.interpolate=function(c){return arguments.length?("function"==typeof c?l=h=c:l=(h=Wb.get(c)||Ba).key,p):l},p.tension=function(c){return arguments.length?(F=c,p):F},p}function Vb(c){return c[0]}function Uc(c){return c[1]}function Ba(c){return c.join("L")}function Xb(c){for(var p=0,a=c.length,e=c[0],f=[e[0],",",e[1]];++p<a;)f.push("V",(e=c[p])[1],"H",e[0]);return f.join("")}function Yb(c){for(var p=
0,a=c.length,e=c[0],f=[e[0],",",e[1]];++p<a;)f.push("H",(e=c[p])[0],"V",e[1]);return f.join("")}function zb(c,p){if(1>p.length||c.length!=p.length&&c.length!=p.length+2)return Ba(c);var a=c.length!=p.length,e="",f=c[0],h=c[1],k=p[0],l=k,G=1;a&&(e+="Q"+(h[0]-2*k[0]/3)+","+(h[1]-2*k[1]/3)+","+h[0]+","+h[1],f=c[1],G=2);if(1<p.length)for(l=p[1],h=c[G],G++,e+="C"+(f[0]+k[0])+","+(f[1]+k[1])+","+(h[0]-l[0])+","+(h[1]-l[1])+","+h[0]+","+h[1],f=2;f<p.length;f++,G++)h=c[G],l=p[f],e+="S"+(h[0]-l[0])+","+(h[1]-
l[1])+","+h[0]+","+h[1];a&&(a=c[G],e+="Q"+(h[0]+2*l[0]/3)+","+(h[1]+2*l[1]/3)+","+a[0]+","+a[1]);return e}function Zb(c,p){for(var a=[],e=(1-p)/2,f,h=c[0],k=c[1],l=1,G=c.length;++l<G;)f=h,h=k,k=c[l],a.push([e*(k[0]-f[0]),e*(k[1]-f[1])]);return a}function Vc(c){if(3>c.length)return Ba(c);var p=1,a=c.length,e=c[0],f=e[0],h=e[1],k=[f,f,f,(e=c[1])[0]],l=[h,h,h,e[1]],f=[f,",",h];for(ib(f,k,l);++p<a;)e=c[p],k.shift(),k.push(e[0]),l.shift(),l.push(e[1]),ib(f,k,l);for(p=-1;2>++p;)k.shift(),k.push(e[0]),l.shift(),
l.push(e[1]),ib(f,k,l);return f.join("")}function Ia(c,p){return c[0]*p[0]+c[1]*p[1]+c[2]*p[2]+c[3]*p[3]}function ib(c,p,a){c.push("C",Ia(Wc,p),",",Ia(Wc,a),",",Ia(Xc,p),",",Ia(Xc,a),",",Ia(db,p),",",Ia(db,a))}function $b(c,p){return(p[1]-c[1])/(p[0]-c[0])}function Yc(c){for(var p,a=-1,e=c.length,f,h;++a<e;)p=c[a],f=p[0],h=p[1]+Xa,p[0]=f*Math.cos(h),p[1]=f*Math.sin(h);return c}function Zc(c){function p(p){function k(){G.push("M",F(c(v),T),q,ea(c(s.reverse()),T),"Z")}for(var G=[],s=[],v=[],t=-1,Vd=
p.length,C,B=n(a),u=n(f),N=a===e?function(){return M}:n(e),I=f===h?function(){return R}:n(h),M,R;++t<Vd;)l.call(this,C=p[t],t)?(s.push([M=+B.call(this,C,t),R=+u.call(this,C,t)]),v.push([+N.call(this,C,t),+I.call(this,C,t)])):s.length&&(k(),s=[],v=[]);return s.length&&k(),G.length?G.join(""):null}var a=Vb,e=Vb,f=0,h=Uc,l=k,F=Ba,G=F.key,ea=F,q="L",T=.7;return p.x=function(c){return arguments.length?(a=e=c,p):e},p.x0=function(c){return arguments.length?(a=c,p):a},p.x1=function(c){return arguments.length?
(e=c,p):e},p.y=function(c){return arguments.length?(f=h=c,p):h},p.y0=function(c){return arguments.length?(f=c,p):f},p.y1=function(c){return arguments.length?(h=c,p):h},p.defined=function(c){return arguments.length?(l=c,p):l},p.interpolate=function(c){return arguments.length?("function"==typeof c?G=F=c:G=(F=Wb.get(c)||Ba).key,ea=F.reverse||F,q=F.closed?"M":"L",p):G},p.tension=function(c){return arguments.length?(T=c,p):T},p}function $c(c){return c.source}function ad(c){return c.target}function ae(c){return c.radius}
function bd(c){return[c.x,c.y]}function be(c){return function(){var p=c.apply(this,arguments),a=p[0],p=p[1]+Xa;return[a*Math.cos(p),a*Math.sin(p)]}}function ce(){return 64}function de(){return"circle"}function cd(c){c=Math.sqrt(c/Math.PI);return"M0,"+c+"A"+c+","+c+" 0 1,1 0,"+-c+"A"+c+","+c+" 0 1,1 0,"+c+"Z"}function dd(c,p){c.attr("transform",function(c){return"translate("+p(c)+",0)"})}function ed(c,p){c.attr("transform",function(c){return"translate(0,"+p(c)+")"})}function ee(c,p,a){e=[];if(a&&1<
p.length){c=gb(c.domain());for(var e,f=-1,h=p.length,k=(p[1]-p[0])/++a,l,G;++f<h;)for(l=a;0<--l;)(G=+p[f]-l*k)>=c[0]&&e.push(G);--f;for(l=0;++l<a&&(G=+p[f]+l*k)<c[1];)e.push(G)}return e}function fe(){jb||(jb=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var c=d3.event,p;try{jb.scrollTop=1E3,jb.dispatchEvent(c),p=1E3-jb.scrollTop}catch(a){p=c.wheelDelta||
5*-c.detail}return p}function ge(c){var p=c.source;c=c.target;var a;var e=c;if(p===e)a=p;else{a=fd(p);for(var e=fd(e),f=a.pop(),h=e.pop(),k=null;f===h;)k=f,f=a.pop(),h=e.pop();a=k}for(e=[p];p!==a;)p=p.parent,e.push(p);for(p=e.length;c!==a;)e.splice(p,0,c),c=c.parent;return e}function fd(c){for(var p=[],a=c.parent;null!=a;)p.push(c),c=a,a=a.parent;return p.push(c),p}function he(c){c.fixed|=2}function ie(c){c.fixed&=1}function je(c){c.fixed|=4}function ke(c){c.fixed&=3}function gd(c,p,a){var e=0,f=
0;c.charge=0;if(!c.leaf)for(var h=c.nodes,k=h.length,l=-1,G;++l<k;)G=h[l],null!=G&&(gd(G,p,a),c.charge+=G.charge,e+=G.charge*G.cx,f+=G.charge*G.cy);c.point&&(c.leaf||(c.point.x+=Math.random()-.5,c.point.y+=Math.random()-.5),p*=a[c.point.index],c.charge+=c.pointCharge=p,e+=p*c.point.x,f+=p*c.point.y);c.cx=e/c.charge;c.cy=f/c.charge}function le(c){return 20}function me(c){return 1}function ne(c){return c.x}function oe(c){return c.y}function pe(c,p,a){c.y0=p;c.y=a}function ac(c){return d3.range(c.length)}
function bc(c){var p=-1;c=c[0].length;for(var a=[];++p<c;)a[p]=0;return a}function qe(c){for(var p=1,a=0,e=c[0][1],f,h=c.length;p<h;++p)(f=c[p][1])>e&&(a=p,e=f);return a}function re(c){return c.reduce(se,0)}function se(c,p){return c+p[1]}function te(c,p){return hd(c,Math.ceil(Math.log(p.length)/Math.LN2+1))}function hd(c,p){for(var a=-1,e=+c[0],f=(c[1]-e)/p,h=[];++a<=p;)h[a]=f*a+e;return h}function ue(c){return[d3.min(c),d3.max(c)]}function kb(c,p){return d3.rebind(c,p,"sort","children","value"),
c.links=ve,c.nodes=function(p){return cc=!0,(c.nodes=c)(p)},c}function we(c){return c.children}function xe(c){return c.value}function ye(c,p){return p.value-c.value}function ve(c){return d3.merge(c.map(function(c){return(c.children||[]).map(function(a){return{source:c,target:a}})}))}function ze(c,p){return c.value-p.value}function dc(c,p){var a=c._pack_next;c._pack_next=p;p._pack_prev=c;p._pack_next=a;a._pack_prev=p}function id(c,p){c._pack_next=p;p._pack_prev=c}function jd(c,p){var a=p.x-c.x,e=p.y-
c.y,f=c.r+p.r;return.001<f*f-a*a-e*e}function kd(c){function p(c){e=Math.min(c.x-c.r,e);f=Math.max(c.x+c.r,f);h=Math.min(c.y-c.r,h);k=Math.max(c.y+c.r,k)}if((a=c.children)&&(s=a.length)){var a,e=Infinity,f=-Infinity,h=Infinity,k=-Infinity,l,G,ea,n,T,q,s;a.forEach(Ae);l=a[0];l.x=-l.r;l.y=0;p(l);if(1<s&&(G=a[1],G.x=G.r,G.y=0,p(G),2<s))for(ea=a[2],ld(l,G,ea),p(ea),dc(l,ea),l._pack_prev=ea,dc(ea,G),G=l._pack_next,n=3;n<s;n++){ld(l,G,ea=a[n]);var v=0,t=1,C=1;for(T=G._pack_next;T!==G;T=T._pack_next,t++)if(jd(T,
ea)){v=1;break}if(1==v)for(q=l._pack_prev;q!==T._pack_prev&&!jd(q,ea);q=q._pack_prev,C++);v?(t<C||t==C&&G.r<l.r?id(l,G=T):id(l=q,G),n--):(dc(l,ea),G=ea,p(ea))}l=(e+f)/2;G=(h+k)/2;for(n=T=0;n<s;n++)ea=a[n],ea.x-=l,ea.y-=G,T=Math.max(T,ea.r+Math.sqrt(ea.x*ea.x+ea.y*ea.y));c.r=T;a.forEach(Be)}}function Ae(c){c._pack_next=c._pack_prev=c}function Be(c){delete c._pack_next;delete c._pack_prev}function md(c,p,a,e){var f=c.children;c.x=p+=e*c.x;c.y=a+=e*c.y;c.r*=e;if(f){c=-1;for(var h=f.length;++c<h;)md(f[c],
p,a,e)}}function ld(c,p,a){var e=c.r+a.r,f=p.x-c.x,h=p.y-c.y;if(e&&(f||h)){var k=p.r+a.r,l=f*f+h*h,k=k*k,e=e*e;p=.5+(e-k)/(2*l);k=Math.sqrt(Math.max(0,2*k*(e+l)-(e-=l)*e-k*k))/(2*l);a.x=c.x+p*f+k*h;a.y=c.y+p*h-k*f}else a.x=c.x+e,a.y=c.y}function Ce(c){return 1+d3.max(c,function(c){return c.y})}function De(c){return c.reduce(function(c,a){return c+a.x},0)/c.length}function nd(c){var p=c.children;return p&&p.length?nd(p[0]):c}function od(c){var p=c.children,a;return p&&(a=p.length)?od(p[a-1]):c}function pd(c,
p){return c.parent==p.parent?1:2}function ec(c){var p=c.children;return p&&p.length?p[0]:c._tree.thread}function fc(c){var p=c.children,a;return p&&(a=p.length)?p[a-1]:c._tree.thread}function Ab(c,p){var a=c.children;if(a&&(f=a.length))for(var e,f,h=-1;++h<f;)0<p(e=Ab(a[h],p),c)&&(c=e);return c}function Ee(c,p){return c.x-p.x}function Fe(c,p){return p.x-c.x}function Ge(c,p){return c.depth-p.depth}function La(c,p){function a(c,e){var f=c.children;if(f&&(ea=f.length))for(var h,k=null,l=-1,ea;++l<ea;)h=
f[l],a(h,k),k=h;p(c,e)}a(c,null)}function gc(c){return{x:c.x,y:c.y,dx:c.dx,dy:c.dy}}function qd(c,p){var a=c.x+p[3],e=c.y+p[0],f=c.dx-p[1]-p[3],h=c.dy-p[0]-p[2];return 0>f&&(a+=f/2,f=0),0>h&&(e+=h/2,h=0),{x:a,y:e,dx:f,dy:h}}function rd(c,p){function a(c,e){d3.text(c,p,function(c){e(c&&a.parse(c))})}function e(p){return p.map(f).join(c)}function f(c){return k.test(c)?'"'+c.replace(/\"/g,'""')+'"':c}var h=new RegExp("\r\n|["+c+"\r\n]","g"),k=new RegExp('["'+c+"\n]"),l=c.charCodeAt(0);return a.parse=
function(c){var p;return a.parseRows(c,function(c,a){if(a){for(var e={},w=-1,f=p.length;++w<f;)e[p[w]]=c[w];return e}return p=c,null})},a.parseRows=function(c,p){function a(){if(h.lastIndex>=c.length)return w;if(X)return X=!1,e;var p=h.lastIndex;if(34===c.charCodeAt(p)){for(var f=p;f++<c.length;)if(34===c.charCodeAt(f)){if(34!==c.charCodeAt(f+1))break;f++}h.lastIndex=f+2;var k=c.charCodeAt(f+1);return 13===k?(X=!0,10===c.charCodeAt(f+2)&&h.lastIndex++):10===k&&(X=!0),c.substring(p+1,f).replace(/""/g,
'"')}return(f=h.exec(c))?(X=f[0].charCodeAt(0)!==l,c.substring(p,f.index)):(h.lastIndex=c.length,c.substring(p))}var e={},w={},f=[],fa=0,k,X;for(h.lastIndex=0;(k=a())!==w;){for(var ia=[];k!==e&&k!==w;)ia.push(k),k=a();p&&!(ia=p(ia,fa++))||f.push(ia)}return f},a.format=function(c){return c.map(e).join("\n")},a}function Bb(c,p){return function(a){return a&&c.hasOwnProperty(a.type)?c[a.type](a):p}}function hc(c){return"m0,"+c+"a"+c+","+c+" 0 1,1 0,"+-2*c+"a"+c+","+c+" 0 1,1 0,"+2*c+"z"}function Cb(c,
p){sd.hasOwnProperty(c.type)&&sd[c.type](c,p)}function td(c,p){for(var a=c.coordinates,e=0,f=a.length;e<f;e++)p.apply(null,a[e])}function He(c){return c.source}function Ie(c){return c.target}function ud(){function c(c){var p=Math.sin(c*=s)*v,a=Math.sin(s-c)*v;c=a*h+p*T;var e=a*k+p*q,p=a*f+p*n;return[Math.atan2(e,c)/aa,Math.atan2(p,Math.sqrt(c*c+e*e))/aa]}var p,a,e,f,h,k,l,G,ea,n,T,q,s,v;return c.distance=function(){return null==s&&(v=1/Math.sin(s=Math.acos(Math.max(-1,Math.min(1,f*n+e*ea*Math.cos(l-
p)))))),s},c.source=function(l){var F=Math.cos(p=l[0]*aa),G=Math.sin(p);return e=Math.cos(a=l[1]*aa),f=Math.sin(a),h=e*F,k=e*G,s=null,c},c.target=function(p){var a=Math.cos(l=p[0]*aa),e=Math.sin(l);return ea=Math.cos(G=p[1]*aa),n=Math.sin(G),T=ea*a,q=ea*e,s=null,c},c}function vd(c,p){var a=ud().source(c).target(p);return a.distance(),a}function Je(c,p,a,e){var f,h,k,l,G,ea,n;return f=e[c],h=f[0],k=f[1],f=e[p],l=f[0],G=f[1],f=e[a],ea=f[0],n=f[1],0<(n-k)*(l-h)-(G-k)*(ea-h)}function ic(c,p,a){return(a[0]-
p[0])*(c[1]-p[1])<(a[1]-p[1])*(c[0]-p[0])}function wd(c,p,a,e){var f=c[0],h=a[0];c=c[1];var k=a[1];a=p[0]-f;var l=e[0]-h;p=p[1]-c;e=e[1]-k;h=(l*(c-k)-e*(f-h))/(e*a-l*p);return[f+h*a,c+h*p]}function xd(c,a){var e=c.map(function(c,a){return{index:a,x:c[0],y:c[1]}}).sort(function(c,a){return c.y<a.y?-1:c.y>a.y?1:c.x<a.x?-1:c.x>a.x?1:0}),f=null,h={list:[],leftEnd:null,rightEnd:null,init:function(){h.leftEnd=h.createHalfEdge(null,"l");h.rightEnd=h.createHalfEdge(null,"l");h.leftEnd.r=h.rightEnd;h.rightEnd.l=
h.leftEnd;h.list.unshift(h.leftEnd,h.rightEnd)},createHalfEdge:function(c,a){return{edge:c,side:a,vertex:null,l:null,r:null}},insert:function(c,a){a.l=c;a.r=c.r;c.r.l=a;c.r=a},leftBound:function(c){var a=h.leftEnd;do a=a.r;while(a!=h.rightEnd&&k.rightOf(a,c));return a=a.l,a},del:function(c){c.l.r=c.r;c.r.l=c.l;c.edge=null},right:function(c){return c.r},left:function(c){return c.l},leftRegion:function(c){return null==c.edge?f:c.edge.region[c.side]},rightRegion:function(c){return null==c.edge?f:c.edge.region[jc[c.side]]}},
k={bisect:function(c,a){var p={region:{l:c,r:a},ep:{l:null,r:null}},e=a.x-c.x,f=a.y-c.y;return p.c=c.x*e+c.y*f+.5*(e*e+f*f),(0<e?e:-e)>(0<f?f:-f)?(p.a=1,p.b=f/e,p.c/=e):(p.b=1,p.a=e/f,p.c/=f),p},intersect:function(c,a){var p=c.edge,e=a.edge;if(!p||!e||p.region.r==e.region.r)return null;var f=p.a*e.b-p.b*e.a;if(1E-10>Math.abs(f))return null;var w=(p.c*e.b-e.c*p.b)/f,f=(e.c*p.a-p.c*e.a)/f,h=p.region.r,k=e.region.r,l,fa;h.y<k.y||h.y==k.y&&h.x<k.x?(l=c,fa=p):(l=a,fa=e);return(p=w>=fa.region.r.x)&&"l"===
l.side||!p&&"r"===l.side?null:{x:w,y:f}},rightOf:function(c,a){var p=c.edge,e=p.region.r,f=a.x>e.x;if(f&&"l"===c.side)return 1;if(!f&&"r"===c.side)return 0;if(1===p.a){var w=a.y-e.y,h=a.x-e.x,k=0,l=0;!f&&0>p.b||f&&0<=p.b?l=k=w>=p.b*h:(l=a.x+a.y*p.b>p.c,0>p.b&&(l=!l),l||(k=1));k||(e=e.x-p.region.l.x,l=p.b*(h*h-w*w)<e*w*(1+2*h/e+p.b*p.b),0>p.b&&(l=!l))}else h=p.c-p.a*a.x,p=a.y-h,w=a.x-e.x,e=h-e.y,l=p*p>w*w+e*e;return"l"===c.side?l:!l},endPoint:function(c,e,f){c.ep[e]=f;c.ep[jc[e]]&&a(c)},distance:function(c,
a){var p=c.x-a.x,e=c.y-a.y;return Math.sqrt(p*p+e*e)}},l={list:[],insert:function(c,a,p){c.vertex=a;c.ystar=a.y+p;p=0;for(var e=l.list,f=e.length;p<f;p++){var w=e[p];if(!(c.ystar>w.ystar||c.ystar==w.ystar&&a.x>w.vertex.x))break}e.splice(p,0,c)},del:function(c){for(var a=0,p=l.list,e=p.length;a<e&&p[a]!=c;++a);p.splice(a,1)},empty:function(){return 0===l.list.length},nextEvent:function(c){for(var a=0,p=l.list,e=p.length;a<e;++a)if(p[a]==c)return p[a+1];return null},min:function(){var c=l.list[0];return{x:c.vertex.x,
y:c.ystar}},extractMin:function(){return l.list.shift()}};h.init();for(var f=e.shift(),F=e.shift(),G,n,q,T,s,ra,v,t,C,B;;)if(l.empty()||(G=l.min()),F&&(l.empty()||F.y<G.y||F.y==G.y&&F.x<G.x))n=h.leftBound(F),q=h.right(n),v=h.rightRegion(n),B=k.bisect(v,F),ra=h.createHalfEdge(B,"l"),h.insert(n,ra),(C=k.intersect(n,ra))&&(l.del(n),l.insert(n,C,k.distance(C,F))),n=ra,ra=h.createHalfEdge(B,"r"),h.insert(n,ra),(C=k.intersect(ra,q))&&l.insert(ra,C,k.distance(C,F)),F=e.shift();else{if(l.empty())break;n=
l.extractMin();T=h.left(n);q=h.right(n);s=h.right(q);v=h.leftRegion(n);ra=h.rightRegion(q);C=n.vertex;k.endPoint(n.edge,n.side,C);k.endPoint(q.edge,q.side,C);h.del(n);l.del(q);h.del(q);n="l";v.y>ra.y&&(t=v,v=ra,ra=t,n="r");B=k.bisect(v,ra);ra=h.createHalfEdge(B,n);h.insert(T,ra);k.endPoint(B,jc[n],C);(C=k.intersect(T,ra))&&(l.del(T),l.insert(T,C,k.distance(C,v)));(C=k.intersect(ra,s))&&l.insert(ra,C,k.distance(C,v))}for(n=h.right(h.leftEnd);n!=h.rightEnd;n=h.right(n))a(n.edge)}function lb(c,a,e,f,
h,k){if(!c(a,e,f,h,k)){var l=.5*(e+h),F=.5*(f+k);a=a.nodes;a[0]&&lb(c,a[0],e,f,l,F);a[1]&&lb(c,a[1],l,f,h,F);a[2]&&lb(c,a[2],e,F,l,k);a[3]&&lb(c,a[3],l,F,h,k)}}function Ke(c){return{x:c[0],y:c[1]}}function Ya(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function yd(c){return c.substring(0,3)}function Db(c,a,e,f){for(var h,k=0,l=a.length,F=e.length;k<l;){if(f>=F)return-1;h=a.charCodeAt(k++);if(37==h){if(h=Le[a.charAt(k++)],!h||0>(f=h(c,e,f)))return-1}else if(h!=
e.charCodeAt(f++))return-1}return f}function Eb(c){return new RegExp("^(?:"+c.map(d3.requote).join("|")+")","i")}function zd(c){for(var p=new a,e=-1,f=c.length;++e<f;)p.set(c[e].toLowerCase(),e);return p}function Ad(c,a,e){va.lastIndex=0;return(a=va.exec(a.substring(e,e+2)))?(c.d=+a[0],e+a[0].length):-1}function Bd(c,a,e){va.lastIndex=0;return(a=va.exec(a.substring(e,e+2)))?(c.H=+a[0],e+a[0].length):-1}function kc(c){return c.toISOString()}function Za(c,a,e){function f(a){var p=c(a),e=k(p,1);return a-
p<e-a?p:e}function h(e){return a(e=c(new wa(e-1)),1),e}function k(c,e){return a(c=new wa(+c),e),c}function l(c,f,k){c=h(c);var fa=[];if(1<k)for(;c<f;)e(c)%k||fa.push(new Date(+c)),a(c,1);else for(;c<f;)fa.push(new Date(+c)),a(c,1);return fa}c.floor=c;c.round=f;c.ceil=h;c.offset=k;c.range=l;var F=c.utc=Fb(c);return F.floor=F,F.round=Fb(f),F.ceil=Fb(h),F.offset=Fb(k),F.range=function(c,a,p){try{wa=Ya;var e=new Ya;return e._=c,l(e,a,p)}finally{wa=Date}},c}function Fb(c){return function(a,e){try{wa=Ya;
var f=new Ya;return f._=a,c(f,e)._}finally{wa=Date}}}function lc(c,a,e){function f(a){return c(a)}return f.invert=function(a){return mc(c.invert(a))},f.domain=function(a){return arguments.length?(c.domain(a),f):c.domain().map(mc)},f.nice=function(c){return f.domain(pb(f.domain(),function(){return c}))},f.ticks=function(e,w){var h,k=f.domain();h=k[0];k=k[k.length-1];h=h<k?[h,k]:[k,h];if("function"!=typeof e){var k=(h[1]-h[0])/e,l=d3.bisect(Gb,k);if(l==Gb.length)return a.year(h,e);if(!l)return c.ticks(e).map(mc);
Math.log(k/Gb[l-1])<Math.log(Gb[l]/k)&&--l;e=a[l];w=e[1];e=e[0].range}return e(h[0],new Date(+h[1]+1),w)},f.tickFormat=function(){return e},f.copy=function(){return lc(c.copy(),a,e)},d3.rebind(f,c,"range","rangeRound","interpolate","clamp")}function mc(c){return new Date(c)}function Cd(c){return function(a){for(var e=c.length-1,f=c[e];!f[1](a);)f=c[--e];return f[0](a)}}function nc(c){var a=new Date(c,0,1);return a.setFullYear(c),a}function Me(c){var a=c.getFullYear(),e=nc(a),f=nc(a+1);return a+(c-
e)/(f-e)}function oc(c){var a=new Date(Date.UTC(c,0,1));return a.setUTCFullYear(c),a}function Ne(c){var a=c.getUTCFullYear(),e=oc(a),f=oc(a+1);return a+(c-e)/(f-e)}Date.now||(Date.now=function(){return+new Date});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(vf){var Dd=CSSStyleDeclaration.prototype,Oe=Dd.setProperty;Dd.setProperty=function(c,a,e){Oe.call(this,c,a+"",e)}}d3={version:"2.10.3"};var mb=function(c){return Array.prototype.slice.call(c)};try{mb(document.documentElement.childNodes)[0].nodeType}catch(wf){mb=
h}var Qb=[].__proto__?function(c,a){c.__proto__=a}:function(c,a){for(var e in a)c[e]=a[e]};d3.map=function(c){var p=new a,e;for(e in c)p.set(e,c[e]);return p};(function(c,a){try{for(var e in a)Object.defineProperty(c.prototype,e,{value:a[e],enumerable:!1})}catch(f){c.prototype=a}})(a,{has:function(c){return nb+c in this},get:function(c){return this[nb+c]},set:function(c,a){return this[nb+c]=a},remove:function(c){return c=nb+c,c in this&&delete this[c]},keys:function(){var c=[];return this.forEach(function(a){c.push(a)}),
c},values:function(){var c=[];return this.forEach(function(a,e){c.push(e)}),c},entries:function(){var c=[];return this.forEach(function(a,e){c.push({key:a,value:e})}),c},forEach:function(c){for(var a in this)a.charCodeAt(0)===Pe&&c.call(this,a.substring(1),this[a])}});var nb="\x00",Pe=nb.charCodeAt(0);d3.functor=n;d3.rebind=function(c,a){for(var e=1,f=arguments.length,h;++e<f;)c[h=arguments[e]]=q(c,a,a[h]);return c};d3.ascending=function(c,a){return c<a?-1:c>a?1:c>=a?0:NaN};d3.descending=function(c,
a){return a<c?-1:a>c?1:a>=c?0:NaN};d3.mean=function(c,a){var e=c.length,f,h=0,k=-1,l=0;if(1===arguments.length)for(;++k<e;)D(f=c[k])&&(h+=(f-h)/++l);else for(;++k<e;)D(f=a.call(c,c[k],k))&&(h+=(f-h)/++l);return l?h:void 0};d3.median=function(c,a){return 1<arguments.length&&(c=c.map(a)),c=c.filter(D),c.length?d3.quantile(c.sort(d3.ascending),.5):void 0};d3.min=function(c,a){var e=-1,f=c.length,h,k;if(1===arguments.length){for(;++e<f&&(null==(h=c[e])||h!=h);)h=void 0;for(;++e<f;)null!=(k=c[e])&&h>k&&
(h=k)}else{for(;++e<f&&(null==(h=a.call(c,c[e],e))||h!=h);)h=void 0;for(;++e<f;)null!=(k=a.call(c,c[e],e))&&h>k&&(h=k)}return h};d3.max=function(c,a){var e=-1,f=c.length,h,k;if(1===arguments.length){for(;++e<f&&(null==(h=c[e])||h!=h);)h=void 0;for(;++e<f;)null!=(k=c[e])&&k>h&&(h=k)}else{for(;++e<f&&(null==(h=a.call(c,c[e],e))||h!=h);)h=void 0;for(;++e<f;)null!=(k=a.call(c,c[e],e))&&k>h&&(h=k)}return h};d3.extent=function(c,a){var e=-1,f=c.length,h,k,l;if(1===arguments.length){for(;++e<f&&(null==(h=
l=c[e])||h!=h);)h=l=void 0;for(;++e<f;)null!=(k=c[e])&&(h>k&&(h=k),l<k&&(l=k))}else{for(;++e<f&&(null==(h=l=a.call(c,c[e],e))||h!=h);)h=void 0;for(;++e<f;)null!=(k=a.call(c,c[e],e))&&(h>k&&(h=k),l<k&&(l=k))}return[h,l]};d3.random={normal:function(c,a){var e=arguments.length;return 2>e&&(a=1),1>e&&(c=0),function(){var e,f;do e=2*Math.random()-1,f=2*Math.random()-1,f=e*e+f*f;while(!f||1<f);return c+a*e*Math.sqrt(-2*Math.log(f)/f)}},logNormal:function(c,a){var e=arguments.length;2>e&&(a=1);1>e&&(c=0);
var f=d3.random.normal();return function(){return Math.exp(c+a*f())}},irwinHall:function(c){return function(){for(var a=0,e=0;e<c;e++)a+=Math.random();return a/c}}};d3.sum=function(c,a){var e=0,f=c.length,h,k=-1;if(1===arguments.length)for(;++k<f;)isNaN(h=+c[k])||(e+=h);else for(;++k<f;)isNaN(h=+a.call(c,c[k],k))||(e+=h);return e};d3.quantile=function(c,a){var e=(c.length-1)*a+1,f=Math.floor(e),h=c[f-1];return(e-=f)?h+e*(c[f]-h):h};d3.transpose=function(c){return d3.zip.apply(d3,c)};d3.zip=function(){if(!(h=
arguments.length))return[];for(var c=-1,a=d3.min(arguments,K),e=Array(a);++c<a;)for(var f=-1,h,k=e[c]=Array(h);++f<h;)k[f]=arguments[f][c];return e};d3.bisector=function(c){return{left:function(a,e,f,h){3>arguments.length&&(f=0);for(4>arguments.length&&(h=a.length);f<h;){var k=f+h>>>1;c.call(a,a[k],k)<e?f=k+1:h=k}return f},right:function(a,e,f,h){3>arguments.length&&(f=0);for(4>arguments.length&&(h=a.length);f<h;){var k=f+h>>>1;e<c.call(a,a[k],k)?h=k:f=k+1}return f}}};var Ed=d3.bisector(function(c){return c});
d3.bisectLeft=Ed.left;d3.bisect=d3.bisectRight=Ed.right;d3.first=function(c,a){var e=0,f=c.length,h=c[0],k;for(1===arguments.length&&(a=d3.ascending);++e<f;)0<a.call(c,h,k=c[e])&&(h=k);return h};d3.last=function(c,a){var e=0,f=c.length,h=c[0],k;for(1===arguments.length&&(a=d3.ascending);++e<f;)0>=a.call(c,h,k=c[e])&&(h=k);return h};d3.nest=function(){function c(e,p){if(p>=h.length)return ia?ia.call(f,e):l?e.sort(l):e;for(var k=-1,X=e.length,n=h[p++],q,s,v=new a,t,C={};++k<X;)(t=v.get(q=n(s=e[k])))?
t.push(s):v.set(q,[s]);return v.forEach(function(a,e){C[a]=c(e,p)}),C}function e(c,a){if(a>=h.length)return c;var f=[],w=k[a++],l;for(l in c)f.push({key:l,values:e(c[l],a)});return w&&f.sort(function(c,a){return w(c.key,a.key)}),f}var f={},h=[],k=[],l,ia;return f.map=function(a){return c(a,0)},f.entries=function(a){return e(c(a,0),0)},f.key=function(c){return h.push(c),f},f.sortKeys=function(c){return k[h.length-1]=c,f},f.sortValues=function(c){return l=c,f},f.rollup=function(c){return ia=c,f},f};
d3.keys=function(c){var a=[],e;for(e in c)a.push(e);return a};d3.values=function(c){var a=[],e;for(e in c)a.push(c[e]);return a};d3.entries=function(c){var a=[],e;for(e in c)a.push({key:e,value:c[e]});return a};d3.permute=function(c,a){for(var e=[],f=-1,h=a.length;++f<h;)e[f]=c[a[f]];return e};d3.merge=function(c){return Array.prototype.concat.apply([],c)};d3.split=function(c,a){var e=[],f=[],h,k=-1,l=c.length;for(2>arguments.length&&(a=P);++k<l;)a.call(f,h=c[k],k)?f=[]:(f.length||e.push(f),f.push(h));
return e};d3.range=function(c,a,e){3>arguments.length&&(e=1,2>arguments.length&&(a=c,c=0));if(Infinity===(a-c)/e)throw Error("infinite range");var f=[],h;h=Math.abs(e);for(var k=1;h*k%1;)k*=10;h=k;var k=-1,l;c*=h;a*=h;e*=h;if(0>e)for(;(l=c+e*++k)>a;)f.push(l/h);else for(;(l=c+e*++k)<a;)f.push(l/h);return f};d3.requote=function(c){return c.replace(Qe,"\\$&")};var Qe=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(c,a){return a?Math.round(c*(a=Math.pow(10,a)))/a:Math.round(c)};d3.xhr=function(c,
a,e){var f=new XMLHttpRequest;3>arguments.length?(e=a,a=null):a&&f.overrideMimeType&&f.overrideMimeType(a);f.open("GET",c,!0);a&&f.setRequestHeader("Accept",a);f.onreadystatechange=function(){if(4===f.readyState){var c=f.status;e(!c&&f.response||200<=c&&300>c||304===c?f:null)}};f.send(null)};d3.text=function(c,a,e){3>arguments.length&&(e=a,a=null);d3.xhr(c,a,function(c){e(c&&c.responseText)})};d3.json=function(c,a){d3.text(c,"application/json",function(c){a(c?JSON.parse(c):null)})};d3.html=function(c,
a){d3.text(c,"text/html",function(c){if(null!=c){var e=document.createRange();e.selectNode(document.body);c=e.createContextualFragment(c)}a(c)})};d3.xml=function(c,a,e){3>arguments.length&&(e=a,a=null);d3.xhr(c,a,function(c){e(c&&c.responseXML)})};var pc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:pc,qualify:function(c){var a=c.indexOf(":"),
e=c;return 0<=a&&(e=c.substring(0,a),c=c.substring(a+1)),pc.hasOwnProperty(e)?{space:pc[e],local:c}:c}};d3.dispatch=function(){for(var c=new J,a=-1,e=arguments.length;++a<e;)c[arguments[a]]=z(c);return c};J.prototype.on=function(c,a){var e=c.indexOf("."),f="";return 0<e&&(f=c.substring(e+1),c=c.substring(0,e)),2>arguments.length?this[c].on(f):this[c].on(f,a)};d3.format=function(c){c=Re.exec(c);var a=c[1]||" ",e=c[3]||"",f=c[5],h=+c[6],k=c[7],l=c[8],F=c[9],G=1,n="",q=!1;l&&(l=+l.substring(1));f&&(a=
"0",k&&(h-=Math.floor((h-1)/4)));switch(F){case "n":k=!0;F="g";break;case "%":G=100;n="%";F="f";break;case "p":G=100;n="%";F="r";break;case "d":q=!0;l=0;break;case "s":G=-1,F="r"}return"r"==F&&!l&&(F="g"),F=Se.get(F)||t,function(c){if(q&&c%1)return"";var s=0>c&&(c=-c)?"-":e;if(0>G){var v=d3.formatPrefix(c,l);c=v.scale(c);n=v.symbol}else c*=G;c=F(c,l);f?(v=c.length+s.length,v<h&&(c=Array(h-v+1).join(a)+c),k&&(c=u(c)),c=s+c):(k&&(c=u(c)),c=s+c,v=c.length,v<h&&(c=Array(h-v+1).join(a)+c));return c+n}};
var Re=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,Se=d3.map({g:function(c,a){return c.toPrecision(a)},e:function(c,a){return c.toExponential(a)},f:function(c,a){return c.toFixed(a)},r:function(c,a){return d3.round(c,a=A(c,a)).toFixed(Math.max(0,Math.min(20,a)))}}),Te="y z a f p n \u03bc m  k M G T P E Z Y".split(" ").map(function(c,a){var e=Math.pow(10,3*Math.abs(8-a));return{scale:8<a?function(c){return c/e}:function(c){return c*e},symbol:c}});d3.formatPrefix=function(c,
a){var e=0;return c&&(0>c&&(c*=-1),a&&(c=d3.round(c,A(c,a))),e=1+Math.floor(1E-12+Math.log(c)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((0>=e?e+1:e-1)/3)))),Te[8+e/3]};var Ue=ba(2),Ve=ba(3),Fd=function(){return Y},We=d3.map({linear:Fd,poly:ba,quad:function(){return Ue},cubic:function(){return Ve},sin:function(){return ha},exp:function(){return da},circle:function(){return oa},elastic:function(c,a){var e;return 2>arguments.length&&(a=.45),1>arguments.length?(c=1,e=a/4):e=a/(2*Math.PI)*Math.asin(1/
c),function(f){return 1+c*Math.pow(2,10*-f)*Math.sin(2*(f-e)*Math.PI/a)}},back:function(c){return c||(c=1.70158),function(a){return a*a*((c+1)*a-c)}},bounce:function(){return bb}}),Xe=d3.map({"in":Y,out:ca,"in-out":O,"out-in":function(c){return O(ca(c))}});d3.ease=function(c){var a=c.indexOf("-"),e=0<=a?c.substring(0,a):c,a=0<=a?c.substring(a+1):"in";return e=We.get(e)||Fd,a=Xe.get(a)||Y,W(a(e.apply(null,Array.prototype.slice.call(arguments,1))))};d3.event=null;d3.transform=function(c){var a=document.createElementNS(d3.ns.prefix.svg,
"g");return(d3.transform=function(c){a.setAttribute("transform",c);c=a.transform.baseVal.consolidate();return new ab(c?c.matrix:Ye)})(c)};ab.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Dc=180/Math.PI,Ye={a:1,b:0,c:0,d:1,e:0,f:0};d3.interpolate=function(c,a){for(var e=d3.interpolators.length,f;0<=--e&&!(f=d3.interpolators[e](c,a)););return f};d3.interpolateNumber=function(c,a){return a-=c,function(e){return c+
a*e}};d3.interpolateRound=function(c,a){return a-=c,function(e){return Math.round(c+a*e)}};d3.interpolateString=function(c,a){var e,f,h=0,k=[],l=[],F,G;for(f=Hb.lastIndex=0;e=Hb.exec(a);++f)e.index&&k.push(a.substring(h,e.index)),l.push({i:k.length,x:e[0]}),k.push(null),h=Hb.lastIndex;h<a.length&&k.push(a.substring(h));f=0;for(F=l.length;(e=Hb.exec(c))&&f<F;++f)if(G=l[f],G.x==e[0]){if(G.i)if(null==k[G.i+1])for(k[G.i-1]+=G.x,k.splice(G.i,1),e=f+1;e<F;++e)l[e].i--;else for(k[G.i-1]+=G.x+k[G.i+1],k.splice(G.i,
2),e=f+1;e<F;++e)l[e].i-=2;else if(null==k[G.i+1])k[G.i]=G.x;else for(k[G.i]=G.x+k[G.i+1],k.splice(G.i+1,1),e=f+1;e<F;++e)l[e].i--;l.splice(f,1);F--;f--}else G.x=d3.interpolateNumber(parseFloat(e[0]),parseFloat(G.x));for(;f<F;)G=l.pop(),null==k[G.i+1]?k[G.i]=G.x:(k[G.i]=G.x+k[G.i+1],k.splice(G.i+1,1)),F--;return 1===k.length?null==k[0]?l[0].x:function(){return a}:function(c){for(f=0;f<F;++f)k[(G=l[f]).i]=G.x(c);return k.join("")}};d3.interpolateTransform=function(c,a){var e=[],f=[],h,k=d3.transform(c),
l=d3.transform(a),F=k.translate,G=l.translate,n=k.rotate,q=l.rotate,T=k.skew,s=l.skew,k=k.scale,l=l.scale;return F[0]!=G[0]||F[1]!=G[1]?(e.push("translate(",null,",",null,")"),f.push({i:1,x:d3.interpolateNumber(F[0],G[0])},{i:3,x:d3.interpolateNumber(F[1],G[1])})):G[0]||G[1]?e.push("translate("+G+")"):e.push(""),n!=q?(180<n-q?q+=360:180<q-n&&(n+=360),f.push({i:e.push(e.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(n,q)})):q&&e.push(e.pop()+"rotate("+q+")"),T!=s?f.push({i:e.push(e.pop()+"skewX(",
null,")")-2,x:d3.interpolateNumber(T,s)}):s&&e.push(e.pop()+"skewX("+s+")"),k[0]!=l[0]||k[1]!=l[1]?(h=e.push(e.pop()+"scale(",null,",",null,")"),f.push({i:h-4,x:d3.interpolateNumber(k[0],l[0])},{i:h-2,x:d3.interpolateNumber(k[1],l[1])})):(1!=l[0]||1!=l[1])&&e.push(e.pop()+"scale("+l+")"),h=f.length,function(c){for(var a=-1,p;++a<h;)e[(p=f[a]).i]=p.x(c);return e.join("")}};d3.interpolateRgb=function(c,a){c=d3.rgb(c);a=d3.rgb(a);var e=c.r,f=c.g,h=c.b,k=a.r-e,l=a.g-f,F=a.b-h;return function(c){return"#"+
za(Math.round(e+k*c))+za(Math.round(f+l*c))+za(Math.round(h+F*c))}};d3.interpolateHsl=function(c,a){c=d3.hsl(c);a=d3.hsl(a);var e=c.h,f=c.s,h=c.l,k=a.h-e,l=a.s-f,F=a.l-h;return 180<k?k-=360:-180>k&&(k+=360),function(c){return Z(e+k*c,f+l*c,h+F*c)+""}};d3.interpolateLab=function(c,a){c=d3.lab(c);a=d3.lab(a);var e=c.l,f=c.a,h=c.b,k=a.l-e,l=a.a-f,F=a.b-h;return function(c){return ka(e+k*c,f+l*c,h+F*c)+""}};d3.interpolateHcl=function(c,a){c=d3.hcl(c);a=d3.hcl(a);var e=c.h,f=c.c,h=c.l,k=a.h-e,l=a.c-f,
F=a.l-h;return 180<k?k-=360:-180>k&&(k+=360),function(c){return Aa(e+k*c,f+l*c,h+F*c)+""}};d3.interpolateArray=function(c,a){var e=[],f=[],h=c.length,k=a.length,l=Math.min(c.length,a.length),F;for(F=0;F<l;++F)e.push(d3.interpolate(c[F],a[F]));for(;F<h;++F)f[F]=c[F];for(;F<k;++F)f[F]=a[F];return function(c){for(F=0;F<l;++F)f[F]=e[F](c);return f}};d3.interpolateObject=function(c,a){var e={},f={},h;for(h in c)h in a?e[h]=Ja(h)(c[h],a[h]):f[h]=c[h];for(h in a)h in c||(f[h]=a[h]);return function(c){for(h in e)f[h]=
e[h](c);return f}};var Hb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(c,a){return a instanceof Array&&d3.interpolateArray(c,a)},function(c,a){return("string"==typeof c||"string"==typeof a)&&d3.interpolateString(c+"",a+"")},function(c,a){return("string"==typeof a?qb.has(a)||/^(#|rgb\(|hsl\()/.test(a):a instanceof Ca)&&d3.interpolateRgb(c,a)},function(c,a){return!isNaN(c=+c)&&!isNaN(a=+a)&&d3.interpolateNumber(c,a)}];Ca.prototype.toString=function(){return this.rgb()+
""};d3.rgb=function(c,a,e){return 1===arguments.length?c instanceof Qa?ya(c.r,c.g,c.b):Da(""+c,ya,Z):ya(~~c,~~a,~~e)};var Ib=Qa.prototype=new Ca;Ib.brighter=function(c){c=Math.pow(.7,arguments.length?c:1);var a=this.r,e=this.g,f=this.b;return a||e||f?(a&&30>a&&(a=30),e&&30>e&&(e=30),f&&30>f&&(f=30),ya(Math.min(255,Math.floor(a/c)),Math.min(255,Math.floor(e/c)),Math.min(255,Math.floor(f/c)))):ya(30,30,30)};Ib.darker=function(c){return c=Math.pow(.7,arguments.length?c:1),ya(Math.floor(c*this.r),Math.floor(c*
this.g),Math.floor(c*this.b))};Ib.hsl=function(){return Ua(this.r,this.g,this.b)};Ib.toString=function(){return"#"+za(this.r)+za(this.g)+za(this.b)};var qb=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",
cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",
dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",
lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",
mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",
powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",
yellow:"#ffff00",yellowgreen:"#9acd32"});qb.forEach(function(c,a){qb.set(c,Da(a,ya,Z))});d3.hsl=function(c,a,e){return 1===arguments.length?c instanceof Na?Ha(c.h,c.s,c.l):Da(""+c,Ua,Ha):Ha(+c,+a,+e)};var qc=Na.prototype=new Ca;qc.brighter=function(c){return c=Math.pow(.7,arguments.length?c:1),Ha(this.h,this.s,this.l/c)};qc.darker=function(c){return c=Math.pow(.7,arguments.length?c:1),Ha(this.h,this.s,c*this.l)};qc.rgb=function(){return Z(this.h,this.s,this.l)};d3.hcl=function(c,a,e){return 1===arguments.length?
c instanceof ta?H(c.h,c.c,c.l):c instanceof L?ma(c.l,c.a,c.b):ma((c=Ka((c=d3.rgb(c)).r,c.g,c.b)).l,c.a,c.b):H(+c,+a,+e)};var rc=ta.prototype=new Ca;rc.brighter=function(c){return H(this.h,this.c,Math.min(100,this.l+Jb*(arguments.length?c:1)))};rc.darker=function(c){return H(this.h,this.c,Math.max(0,this.l-Jb*(arguments.length?c:1)))};rc.rgb=function(){return Aa(this.h,this.c,this.l).rgb()};d3.lab=function(c,a,e){return 1===arguments.length?c instanceof L?ja(c.l,c.a,c.b):c instanceof ta?Aa(c.l,c.c,
c.h):Ka((c=d3.rgb(c)).r,c.g,c.b):ja(+c,+a,+e)};var Jb=18,Ec=.95047,Fc=1,Gc=1.08883,sc=L.prototype=new Ca;sc.brighter=function(c){return ja(Math.min(100,this.l+Jb*(arguments.length?c:1)),this.a,this.b)};sc.darker=function(c){return ja(Math.max(0,this.l-Jb*(arguments.length?c:1)),this.a,this.b)};sc.rgb=function(){return ka(this.l,this.a,this.b)};var rb=function(c,a){return a.querySelector(c)},Hc=function(c,a){return a.querySelectorAll(c)},eb=document.documentElement,Ze=eb.matchesSelector||eb.webkitMatchesSelector||
eb.mozMatchesSelector||eb.msMatchesSelector||eb.oMatchesSelector,Ic=function(c,a){return Ze.call(c,a)};"function"==typeof Sizzle&&(rb=function(c,a){return Sizzle(c,a)[0]||null},Hc=function(c,a){return Sizzle.uniqueSort(Sizzle(c,a))},Ic=Sizzle.matchesSelector);var ga=[];d3.selection=function(){return ob};d3.selection.prototype=ga;ga.select=function(c){var a=[],e,f,h,k;"function"!=typeof c&&(c=C(c));for(var l=-1,F=this.length;++l<F;){a.push(e=[]);e.parentNode=(h=this[l]).parentNode;for(var G=-1,n=h.length;++G<
n;)(k=h[G])?(e.push(f=c.call(k,k.__data__,G)),f&&"__data__"in k&&(f.__data__=k.__data__)):e.push(null)}return s(a)};ga.selectAll=function(c){var a=[],e,f;"function"!=typeof c&&(c=N(c));for(var h=-1,k=this.length;++h<k;)for(var l=this[h],F=-1,G=l.length;++F<G;)if(f=l[F])a.push(e=mb(c.call(f,f.__data__,F))),e.parentNode=f;return s(a)};ga.attr=function(c,a){if(2>arguments.length){if("string"==typeof c){var e=this.node();return c=d3.ns.qualify(c),c.local?e.getAttributeNS(c.space,c.local):e.getAttribute(c)}for(a in c)this.each(R(a,
c[a]));return this}return this.each(R(c,a))};ga.classed=function(c,a){if(2>arguments.length){if("string"==typeof c){var e=this.node(),f=(c=c.trim().split(/^|\s+/g)).length,h=-1;if(a=e.classList)for(;++h<f;){if(!a.contains(c[h]))return!1}else for(a=e.className,null!=a.baseVal&&(a=a.baseVal);++h<f;)if(!v(c[h]).test(a))return!1;return!0}for(a in c)this.each(pa(a,c[a]));return this}return this.each(pa(c,a))};ga.style=function(c,a,e){var f=arguments.length;if(3>f){if("string"!=typeof c){2>f&&(a="");for(e in c)this.each(B(e,
c[e],a));return this}if(2>f)return window.getComputedStyle(this.node(),null).getPropertyValue(c);e=""}return this.each(B(c,a,e))};ga.property=function(c,a){if(2>arguments.length){if("string"==typeof c)return this.node()[c];for(a in c)this.each(fb(a,c[a]));return this}return this.each(fb(c,a))};ga.text=function(c){return 1>arguments.length?this.node().textContent:this.each("function"==typeof c?function(){var a=c.apply(this,arguments);this.textContent=null==a?"":a}:null==c?function(){this.textContent=
""}:function(){this.textContent=c})};ga.html=function(c){return 1>arguments.length?this.node().innerHTML:this.each("function"==typeof c?function(){var a=c.apply(this,arguments);this.innerHTML=null==a?"":a}:null==c?function(){this.innerHTML=""}:function(){this.innerHTML=c})};ga.append=function(c){function a(){return this.appendChild(document.createElementNS(this.namespaceURI,c))}function e(){return this.appendChild(document.createElementNS(c.space,c.local))}return c=d3.ns.qualify(c),this.select(c.local?
e:a)};ga.insert=function(c,a){function e(){return this.insertBefore(document.createElementNS(this.namespaceURI,c),rb(a,this))}function f(){return this.insertBefore(document.createElementNS(c.space,c.local),rb(a,this))}return c=d3.ns.qualify(c),this.select(c.local?f:e)};ga.remove=function(){return this.each(function(){var c=this.parentNode;c&&c.removeChild(this)})};ga.data=function(c,e){function f(c,h){var k,l=c.length,w=h.length,Q=Math.min(l,w),fa=Math.max(l,w),n=[],ia=[],X=[],s,v;if(e){var Q=new a,
fa=[],t;v=h.length;for(k=-1;++k<l;)t=e.call(s=c[k],s.__data__,k),Q.has(t)?X[v++]=s:Q.set(t,s),fa.push(t);for(k=-1;++k<w;)t=e.call(h,v=h[k],k),Q.has(t)?(n[k]=s=Q.get(t),s.__data__=v,ia[k]=X[k]=null):(ia[k]={__data__:v},n[k]=X[k]=null),Q.remove(t);for(k=-1;++k<l;)Q.has(fa[k])&&(X[k]=c[k])}else{for(k=-1;++k<Q;)s=c[k],v=h[k],s?(s.__data__=v,n[k]=s,ia[k]=X[k]=null):(ia[k]={__data__:v},n[k]=X[k]=null);for(;k<w;++k)ia[k]={__data__:h[k]},n[k]=X[k]=null;for(;k<fa;++k)X[k]=c[k],ia[k]=n[k]=null}ia.update=n;
ia.parentNode=n.parentNode=X.parentNode=c.parentNode;F.push(ia);G.push(n);q.push(X)}var h=-1,k=this.length,l,n;if(!arguments.length){for(c=Array(k=(l=this[0]).length);++h<k;)if(n=l[h])c[h]=n.__data__;return c}var F=zc([]),G=s([]),q=s([]);if("function"==typeof c)for(;++h<k;)f(l=this[h],c.call(l,l.parentNode.__data__,h));else for(;++h<k;)f(l=this[h],c);return G.enter=function(){return F},G.exit=function(){return q},G};ga.datum=ga.map=function(c){return 1>arguments.length?this.property("__data__"):this.property("__data__",
c)};ga.filter=function(c){var a=[],e,f,h;"function"!=typeof c&&(c=M(c));for(var k=0,l=this.length;k<l;k++){a.push(e=[]);e.parentNode=(f=this[k]).parentNode;for(var F=0,G=f.length;F<G;F++)(h=f[F])&&c.call(h,h.__data__,F)&&e.push(h)}return s(a)};ga.order=function(){for(var c=-1,a=this.length;++c<a;)for(var e=this[c],f=e.length-1,h=e[f],k;0<=--f;)if(k=e[f])h&&h!==k.nextSibling&&h.parentNode.insertBefore(k,h),h=k;return this};ga.sort=function(c){c=la.apply(this,arguments);for(var a=-1,e=this.length;++a<
e;)this[a].sort(c);return this.order()};ga.on=function(c,a,e){var f=arguments.length;if(3>f){if("string"!=typeof c){2>f&&(a=!1);for(e in c)this.each(E(e,c[e],a));return this}if(2>f)return(f=this.node()["__on"+c])&&f._;e=!1}return this.each(E(c,a,e))};ga.each=function(c){return U(this,function(a,e,f){c.call(a,a.__data__,e,f)})};ga.call=function(c){return c.apply(this,(arguments[0]=this,arguments)),this};ga.empty=function(){return!this.node()};ga.node=function(c){c=0;for(var a=this.length;c<a;c++)for(var e=
this[c],f=0,h=e.length;f<h;f++){var k=e[f];if(k)return k}return null};ga.transition=function(){for(var c=[],a,e,f=-1,h=this.length;++f<h;){c.push(a=[]);for(var k=this[f],l=-1,F=k.length;++l<F;)a.push((e=k[l])?{node:e,delay:tb,duration:ub}:null)}return I(c,Wa||++$e,Date.now())};var ob=s([[document]]);ob[0].parentNode=eb;d3.select=function(c){return"string"==typeof c?ob.select(c):s([[c]])};d3.selectAll=function(c){return"string"==typeof c?ob.selectAll(c):s([mb(c)])};var Va=[];d3.selection.enter=zc;
d3.selection.enter.prototype=Va;Va.append=ga.append;Va.insert=ga.insert;Va.empty=ga.empty;Va.node=ga.node;Va.select=function(c){for(var a=[],e,f,h,k,l,F=-1,G=this.length;++F<G;){h=(k=this[F]).update;a.push(e=[]);e.parentNode=k.parentNode;for(var n=-1,q=k.length;++n<q;)(l=k[n])?(e.push(h[n]=f=c.call(k.parentNode,l.__data__,n)),f.__data__=l.__data__):e.push(null)}return s(a)};var xa=[],$e=0,Wa=0,tb=0,ub=250,sb=d3.ease("cubic-in-out");xa.call=ga.call;d3.transition=function(c){return arguments.length?
Wa?c.transition():c:ob.transition()};d3.transition.prototype=xa;xa.select=function(c){var a=[],e,f,h;"function"!=typeof c&&(c=C(c));for(var k=-1,l=this.length;++k<l;){a.push(e=[]);for(var F=this[k],G=-1,n=F.length;++G<n;)(h=F[G])&&(f=c.call(h.node,h.node.__data__,G))?("__data__"in h.node&&(f.__data__=h.node.__data__),e.push({node:f,delay:h.delay,duration:h.duration})):e.push(null)}return I(a,this.id,this.time).ease(this.ease())};xa.selectAll=function(c){var a=[],e,f,h;"function"!=typeof c&&(c=N(c));
for(var k=-1,l=this.length;++k<l;)for(var F=this[k],G=-1,n=F.length;++G<n;)if(h=F[G]){f=c.call(h.node,h.node.__data__,G);a.push(e=[]);for(var q=-1,s=f.length;++q<s;)e.push({node:f[q],delay:h.delay,duration:h.duration})}return I(a,this.id,this.time).ease(this.ease())};xa.filter=function(c){var a=[],e,f,h;"function"!=typeof c&&(c=M(c));for(var k=0,l=this.length;k<l;k++){a.push(e=[]);f=this[k];for(var F=0,G=f.length;F<G;F++)(h=f[F])&&c.call(h.node,h.node.__data__,F)&&e.push(h)}return I(a,this.id,this.time).ease(this.ease())};
xa.attr=function(c,a){if(2>arguments.length){for(a in c)this.attrTween(a,d3.tween(c[a],Ja(a)));return this}return this.attrTween(c,d3.tween(a,Ja(c)))};xa.attrTween=function(c,a){function e(c,f){var k=a.call(this,c,f,this.getAttribute(h));return k===hb?(this.removeAttribute(h),null):k&&function(c){this.setAttribute(h,k(c))}}function f(c,e){var k=a.call(this,c,e,this.getAttributeNS(h.space,h.local));return k===hb?(this.removeAttributeNS(h.space,h.local),null):k&&function(c){this.setAttributeNS(h.space,
h.local,k(c))}}var h=d3.ns.qualify(c);return this.tween("attr."+c,h.local?f:e)};xa.style=function(c,a,e){var f=arguments.length;if(3>f){if("string"!=typeof c){2>f&&(a="");for(e in c)this.styleTween(e,d3.tween(c[e],Ja(e)),a);return this}e=""}return this.styleTween(c,d3.tween(a,Ja(c)),e)};xa.styleTween=function(c,a,e){return 3>arguments.length&&(e=""),this.tween("style."+c,function(f,h){var k=a.call(this,f,h,window.getComputedStyle(this,null).getPropertyValue(c));return k===hb?(this.style.removeProperty(c),
null):k&&function(a){this.style.setProperty(c,k(a),e)}})};xa.text=function(c){return this.tween("text",function(a,e){this.textContent="function"==typeof c?c.call(this,a,e):c})};xa.remove=function(){return this.each("end.transition",function(){var c;!this.__transition__&&(c=this.parentNode)&&c.removeChild(this)})};xa.delay=function(c){return U(this,"function"==typeof c?function(a,e,f){a.delay=c.call(a=a.node,a.__data__,e,f)|0}:(c|=0,function(a){a.delay=c}))};xa.duration=function(c){return U(this,"function"==
typeof c?function(a,e,f){a.duration=Math.max(1,c.call(a=a.node,a.__data__,e,f)|0)}:(c=Math.max(1,c|0),function(a){a.duration=c}))};xa.transition=function(){return this.select(f)};d3.tween=function(c,a){function e(f,h,k){f=c.call(this,f,h);return null==f?""!=k&&hb:k!=f&&a(k,f+"")}function f(e,h,k){return k!=c&&a(k,c)}return"function"==typeof c?e:null==c?Td:(c+="",f)};var hb={},af=0,Rb={},cb=null,wb,vb;d3.timer=function(c,a,e){if(3>arguments.length){if(2>arguments.length)a=0;else if(!isFinite(a))return;
e=Date.now()}var f=Rb[c.id];f&&f.callback===c?(f.then=e,f.delay=a):Rb[c.id=++af]=cb={callback:c,then:e,delay:a,next:cb};wb||(vb=clearTimeout(vb),wb=1,Jc(Ob))};d3.timer.flush=function(){for(var c,a=Date.now(),e=cb;e;)c=a-e.then,e.delay||(e.flush=e.callback(c)),e=e.next;Ac()};var Jc=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c){setTimeout(c,17)};d3.mouse=function(c){return Bc(c,
Sa())};var Sb=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(c,a){return 2>arguments.length&&(a=Sa().touches),a?mb(a).map(function(a){var e=Bc(c,a);return e.identifier=a.identifier,e}):[]};d3.scale={};d3.scale.linear=function(){return wc([0,1],[0,1],d3.interpolate,!1)};d3.scale.log=function(){return Kc(d3.scale.linear(),Ub)};var Yd=d3.format(".0e");Ub.pow=function(c){return Math.pow(10,c)};xb.pow=function(c){return-Math.pow(10,-c)};d3.scale.pow=function(){return Lc(d3.scale.linear(),
1)};d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)};d3.scale.ordinal=function(){return Mc([],{t:"range",a:[[]]})};d3.scale.category10=function(){return d3.scale.ordinal().range(bf)};d3.scale.category20=function(){return d3.scale.ordinal().range(cf)};d3.scale.category20b=function(){return d3.scale.ordinal().range(df)};d3.scale.category20c=function(){return d3.scale.ordinal().range(ef)};var bf="#1f77b4 #ff7f0e #2ca02c #d62728 #9467bd #8c564b #e377c2 #7f7f7f #bcbd22 #17becf".split(" "),
cf="#1f77b4 #aec7e8 #ff7f0e #ffbb78 #2ca02c #98df8a #d62728 #ff9896 #9467bd #c5b0d5 #8c564b #c49c94 #e377c2 #f7b6d2 #7f7f7f #c7c7c7 #bcbd22 #dbdb8d #17becf #9edae5".split(" "),df="#393b79 #5254a3 #6b6ecf #9c9ede #637939 #8ca252 #b5cf6b #cedb9c #8c6d31 #bd9e39 #e7ba52 #e7cb94 #843c39 #ad494a #d6616b #e7969c #7b4173 #a55194 #ce6dbd #de9ed6".split(" "),ef="#3182bd #6baed6 #9ecae1 #c6dbef #e6550d #fd8d3c #fdae6b #fdd0a2 #31a354 #74c476 #a1d99b #c7e9c0 #756bb1 #9e9ac8 #bcbddc #dadaeb #636363 #969696 #bdbdbd #d9d9d9".split(" ");
d3.scale.quantile=function(){return Nc([],[])};d3.scale.quantize=function(){return Oc(0,1,[0,1])};d3.scale.threshold=function(){return Pc([.5],[0,1])};d3.scale.identity=function(){return Qc([0,1])};d3.svg={};d3.svg.arc=function(){function c(){var c=a.apply(this,arguments),k=e.apply(this,arguments),l=f.apply(this,arguments)+Xa,n=h.apply(this,arguments)+Xa,q=(n<l&&(q=l,l=n,n=q),n-l),s=q<Math.PI?"0":"1",T=Math.cos(l),l=Math.sin(l),v=Math.cos(n),n=Math.sin(n);return q>=ff?c?"M0,"+k+"A"+k+","+k+" 0 1,1 0,"+
-k+"A"+k+","+k+" 0 1,1 0,"+k+"M0,"+c+"A"+c+","+c+" 0 1,0 0,"+-c+"A"+c+","+c+" 0 1,0 0,"+c+"Z":"M0,"+k+"A"+k+","+k+" 0 1,1 0,"+-k+"A"+k+","+k+" 0 1,1 0,"+k+"Z":c?"M"+k*T+","+k*l+"A"+k+","+k+" 0 "+s+",1 "+k*v+","+k*n+"L"+c*v+","+c*n+"A"+c+","+c+" 0 "+s+",0 "+c*T+","+c*l+"Z":"M"+k*T+","+k*l+"A"+k+","+k+" 0 "+s+",1 "+k*v+","+k*n+"L0,0Z"}var a=Zd,e=$d,f=Rc,h=Sc;return c.innerRadius=function(e){return arguments.length?(a=n(e),c):a},c.outerRadius=function(a){return arguments.length?(e=n(a),c):e},c.startAngle=
function(a){return arguments.length?(f=n(a),c):f},c.endAngle=function(a){return arguments.length?(h=n(a),c):h},c.centroid=function(){var c=(a.apply(this,arguments)+e.apply(this,arguments))/2,k=(f.apply(this,arguments)+h.apply(this,arguments))/2+Xa;return[Math.cos(k)*c,Math.sin(k)*c]},c};var Xa=-Math.PI/2,ff=2*Math.PI-1E-6;d3.svg.line=function(){return Tc(e)};var Wb=d3.map({linear:Ba,"linear-closed":function(c){return Ba(c)+"Z"},"step-before":Xb,"step-after":Yb,basis:Vc,"basis-open":function(c){if(4>
c.length)return Ba(c);for(var a=[],e=-1,f=c.length,h,k=[0],l=[0];3>++e;)h=c[e],k.push(h[0]),l.push(h[1]);a.push(Ia(db,k)+","+Ia(db,l));for(--e;++e<f;)h=c[e],k.shift(),k.push(h[0]),l.shift(),l.push(h[1]),ib(a,k,l);return a.join("")},"basis-closed":function(c){for(var a,e=-1,f=c.length,h=f+4,k,l=[],F=[];4>++e;)k=c[e%f],l.push(k[0]),F.push(k[1]);a=[Ia(db,l),",",Ia(db,F)];for(--e;++e<h;)k=c[e%f],l.shift(),l.push(k[0]),F.shift(),F.push(k[1]),ib(a,l,F);return a.join("")},bundle:function(c,a){var e=c.length-
1;if(e)for(var f=c[0][0],h=c[0][1],k=c[e][0]-f,l=c[e][1]-h,F=-1,n,q;++F<=e;)n=c[F],q=F/e,n[0]=a*n[0]+(1-a)*(f+q*k),n[1]=a*n[1]+(1-a)*(h+q*l);return Vc(c)},cardinal:function(c,a,e){return 3>c.length?Ba(c):c[0]+zb(c,Zb(c,a))},"cardinal-open":function(c,a){return 4>c.length?Ba(c):c[1]+zb(c.slice(1,c.length-1),Zb(c,a))},"cardinal-closed":function(c,a){return 3>c.length?Ba(c):c[0]+zb((c.push(c[0]),c),Zb([c[c.length-2]].concat(c,[c[1]]),a))},monotone:function(c){if(3>c.length)c=Ba(c);else{var a=c[0],e=
[],f,h,k,l,F;f=0;F=c.length-1;for(var n=[],q=c[1],s=n[0]=$b(c[0],q);++f<F;)n[f]=(s+(s=$b(q,q=c[f+1])))/2;F=(n[f]=s,n);n=-1;for(q=c.length-1;++n<q;)f=$b(c[n],c[n+1]),1E-6>Math.abs(f)?F[n]=F[n+1]=0:(h=F[n]/f,k=F[n+1]/f,l=h*h+k*k,9<l&&(l=3*f/Math.sqrt(l),F[n]=l*h,F[n+1]=l*k));for(n=-1;++n<=q;)l=(c[Math.min(q,n+1)][0]-c[Math.max(0,n-1)][0])/(6*(1+F[n]*F[n])),e.push([l||0,F[n]*l||0]);c=a+zb(c,e)}return c}});Wb.forEach(function(c,a){a.key=c;a.closed=/-closed$/.test(c)});var Wc=[0,2/3,1/3,0],Xc=[0,1/3,2/
3,0],db=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var c=Tc(Yc);return c.radius=c.x,delete c.x,c.angle=c.y,delete c.y,c};Xb.reverse=Yb;Yb.reverse=Xb;d3.svg.area=function(){return Zc(e)};d3.svg.area.radial=function(){var c=Zc(Yc);return c.radius=c.x,delete c.x,c.innerRadius=c.x0,delete c.x0,c.outerRadius=c.x1,delete c.x1,c.angle=c.y,delete c.y,c.startAngle=c.y0,delete c.y0,c.endAngle=c.y1,delete c.y1,c};d3.svg.chord=function(){function c(c,k){var l=a(this,f,c,k),n=a(this,h,c,k);return"M"+l.p0+e(l.r,
l.p1,l.a1-l.a0)+(l.a0==n.a0&&l.a1==n.a1?"Q 0,0 "+l.p0:"Q 0,0 "+n.p0+e(n.r,n.p1,n.a1-n.a0)+("Q 0,0 "+l.p0))+"Z"}function a(c,e,f,h){var p=e.call(c,f,h);e=k.call(c,p,h);f=l.call(c,p,h)+Xa;c=F.call(c,p,h)+Xa;return{r:e,a0:f,a1:c,p0:[e*Math.cos(f),e*Math.sin(f)],p1:[e*Math.cos(c),e*Math.sin(c)]}}function e(c,a,f){return"A"+c+","+c+" 0 "+ +(f>Math.PI)+",1 "+a}var f=$c,h=ad,k=ae,l=Rc,F=Sc;return c.radius=function(a){return arguments.length?(k=n(a),c):k},c.source=function(a){return arguments.length?(f=n(a),
c):f},c.target=function(a){return arguments.length?(h=n(a),c):h},c.startAngle=function(a){return arguments.length?(l=n(a),c):l},c.endAngle=function(a){return arguments.length?(F=n(a),c):F},c};d3.svg.diagonal=function(){function c(c,h){var k=a.call(this,c,h),l=e.call(this,c,h),n=(k.y+l.y)/2,k=[k,{x:k.x,y:n},{x:l.x,y:n},l];return k=k.map(f),"M"+k[0]+"C"+k[1]+" "+k[2]+" "+k[3]}var a=$c,e=ad,f=bd;return c.source=function(e){return arguments.length?(a=n(e),c):a},c.target=function(a){return arguments.length?
(e=n(a),c):e},c.projection=function(a){return arguments.length?(f=a,c):f},c};d3.svg.diagonal.radial=function(){var c=d3.svg.diagonal(),a=bd,e=c.projection;return c.projection=function(c){return arguments.length?e(be(a=c)):a},c};d3.svg.mouse=d3.mouse;d3.svg.touches=d3.touches;d3.svg.symbol=function(){function c(c,f){return(Gd.get(a.call(this,c,f))||cd)(e.call(this,c,f))}var a=de,e=ce;return c.type=function(e){return arguments.length?(a=n(e),c):a},c.size=function(a){return arguments.length?(e=n(a),
c):e},c};var Gd=d3.map({circle:cd,cross:function(c){c=Math.sqrt(c/5)/2;return"M"+-3*c+","+-c+"H"+-c+"V"+-3*c+"H"+c+"V"+-c+"H"+3*c+"V"+c+"H"+c+"V"+3*c+"H"+-c+"V"+c+"H"+-3*c+"Z"},diamond:function(c){c=Math.sqrt(c/(2*Hd));var a=c*Hd;return"M0,"+-c+"L"+a+",0 0,"+c+" "+-a+",0Z"},square:function(c){c=Math.sqrt(c)/2;return"M"+-c+","+-c+"L"+c+","+-c+" "+c+","+c+" "+-c+","+c+"Z"},"triangle-down":function(c){c=Math.sqrt(c/Kb);var a=c*Kb/2;return"M0,"+a+"L"+c+","+-a+" "+-c+","+-a+"Z"},"triangle-up":function(c){c=
Math.sqrt(c/Kb);var a=c*Kb/2;return"M0,"+-a+"L"+c+","+a+" "+-c+","+a+"Z"}});d3.svg.symbolTypes=Gd.keys();var Kb=Math.sqrt(3),Hd=Math.tan(30*Math.PI/180);d3.svg.axis=function(){function c(c){c.each(function(){var c=d3.select(this),T=null==q?a.ticks?a.ticks.apply(a,n):a.domain():q,t=null==s?a.tickFormat?a.tickFormat.apply(a,n):String:s,C=ee(a,T,v),B=c.selectAll(".minor").data(C,String),C=B.enter().insert("line","g").attr("class","tick minor").style("opacity",1E-6),u=d3.transition(B.exit()).style("opacity",
1E-6).remove(),B=d3.transition(B).style("opacity",1),N=c.selectAll("g").data(T,String),T=N.enter().insert("g","path").style("opacity",1E-6),I=d3.transition(N.exit()).style("opacity",1E-6).remove(),M=d3.transition(N).style("opacity",1),R,z=Ra(a),c=c.selectAll(".domain").data([0]);c.enter().append("path").attr("class","domain");var c=d3.transition(c),A=a.copy(),E=this.__chart__||A;this.__chart__=A;T.append("line").attr("class","tick");T.append("text");var D=T.select("line"),pa=M.select("line"),t=N.select("text").text(t),
N=T.select("text"),U=M.select("text");switch(e){case "bottom":R=dd;C.attr("y2",h);B.attr("x2",0).attr("y2",h);D.attr("y2",f);N.attr("y",Math.max(f,0)+l);pa.attr("x2",0).attr("y2",f);U.attr("x",0).attr("y",Math.max(f,0)+l);t.attr("dy",".71em").attr("text-anchor","middle");c.attr("d","M"+z[0]+","+k+"V0H"+z[1]+"V"+k);break;case "top":R=dd;C.attr("y2",-h);B.attr("x2",0).attr("y2",-h);D.attr("y2",-f);N.attr("y",-(Math.max(f,0)+l));pa.attr("x2",0).attr("y2",-f);U.attr("x",0).attr("y",-(Math.max(f,0)+l));
t.attr("dy","0em").attr("text-anchor","middle");c.attr("d","M"+z[0]+","+-k+"V0H"+z[1]+"V"+-k);break;case "left":R=ed;C.attr("x2",-h);B.attr("x2",-h).attr("y2",0);D.attr("x2",-f);N.attr("x",-(Math.max(f,0)+l));pa.attr("x2",-f).attr("y2",0);U.attr("x",-(Math.max(f,0)+l)).attr("y",0);t.attr("dy",".32em").attr("text-anchor","end");c.attr("d","M"+-k+","+z[0]+"H0V"+z[1]+"H"+-k);break;case "right":R=ed,C.attr("x2",h),B.attr("x2",h).attr("y2",0),D.attr("x2",f),N.attr("x",Math.max(f,0)+l),pa.attr("x2",f).attr("y2",
0),U.attr("x",Math.max(f,0)+l).attr("y",0),t.attr("dy",".32em").attr("text-anchor","start"),c.attr("d","M"+k+","+z[0]+"H0V"+z[1]+"H"+k)}if(a.ticks)T.call(R,E),M.call(R,A),I.call(R,A),C.call(R,E),B.call(R,A),u.call(R,A);else{var sa=A.rangeBand()/2,C=function(c){return A(c)+sa};T.call(R,C);M.call(R,C)}})}var a=d3.scale.linear(),e="bottom",f=6,h=6,k=6,l=3,n=[10],q=null,s,v=0;return c.scale=function(e){return arguments.length?(a=e,c):a},c.orient=function(a){return arguments.length?(e=a,c):e},c.ticks=
function(){return arguments.length?(n=arguments,c):n},c.tickValues=function(a){return arguments.length?(q=a,c):q},c.tickFormat=function(a){return arguments.length?(s=a,c):s},c.tickSize=function(a,e,p){if(!arguments.length)return f;var l=arguments.length-1;return f=+a,h=1<l?+e:f,k=0<l?+arguments[l]:f,c},c.tickPadding=function(a){return arguments.length?(l=+a,c):l},c.tickSubdivide=function(a){return arguments.length?(v=+a,c):v},c};d3.svg.brush=function(){function c(k){k.each(function(){var k=d3.select(this),
s=k.selectAll(".background").data([0]),v=k.selectAll(".extent").data([0]),T=k.selectAll(".resize").data(q,String),Q;k.style("pointer-events","all").on("mousedown.brush",h).on("touchstart.brush",h);s.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");v.enter().append("rect").attr("class","extent").style("cursor","move");T.enter().append("g").attr("class",function(c){return"resize "+c}).style("cursor",function(c){return gf[c]}).append("rect").attr("x",
function(c){return/[ew]$/.test(c)?-3:null}).attr("y",function(c){return/^[ns]/.test(c)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");T.style("display",c.empty()?"none":null);T.exit().remove();l&&(Q=Ra(l),s.attr("x",Q[0]).attr("width",Q[1]-Q[0]),e(k));n&&(Q=Ra(n),s.attr("y",Q[0]).attr("height",Q[1]-Q[0]),f(k));a(k)})}function a(c){c.selectAll(".resize").attr("transform",function(c){return"translate("+s[+/e$/.test(c)][0]+","+s[+/^s/.test(c)][1]+")"})}function e(c){c.select(".extent").attr("x",
s[0][0]);c.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1][0]-s[0][0])}function f(c){c.select(".extent").attr("y",s[0][1]);c.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1][1]-s[0][1])}function h(){function q(){var c=d3.event.changedTouches;return c?d3.touches(C,c)[0]:d3.mouse(C)}function G(){var c=q(),h=!1;D&&(c[0]+=D[0],c[1]+=D[1]);z||(d3.event.altKey?(A||(A=[(s[0][0]+s[1][0])/2,(s[0][1]+s[1][1])/2]),E[0]=s[+(c[0]<A[0])][0],E[1]=s[+(c[1]<A[1])][1]):A=null);M&&X(c,l,0)&&(e(u),h=!0);
I&&X(c,n,1)&&(f(u),h=!0);h&&(a(u),N({type:"brush",mode:z?"move":"resize"}))}function X(c,a,e){var f=Ra(a);a=f[0];var f=f[1],h=E[e],k=s[1][e]-s[0][e],p;z&&(a-=h,f-=k+h);c=Math.max(a,Math.min(f,c[e]));z?p=(c+=h)+k:(A&&(h=Math.max(a,Math.min(f,2*A[e]-c))),h<c?(p=c,c=h):p=h);if(s[0][e]!==c||s[1][e]!==p)return v=null,s[0][e]=c,s[1][e]=p,!0}function t(){G();u.style("pointer-events","all").selectAll(".resize").style("display",c.empty()?"none":null);d3.select("body").style("cursor",null);pa.on("mousemove.brush",
null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);N({type:"brushend"});qa()}var C=this,B=d3.select(d3.event.target),N=k.of(C,arguments),u=d3.select(C),R=B.datum(),M=!/^(n|s)$/.test(R)&&l,I=!/^(e|w)$/.test(R)&&n,z=B.classed("extent"),A,E=q(),D,pa=d3.select(window).on("mousemove.brush",G).on("mouseup.brush",t).on("touchmove.brush",G).on("touchend.brush",t).on("keydown.brush",function(){32==d3.event.keyCode&&(z||(A=null,
E[0]-=s[1][0],E[1]-=s[1][1],z=2),qa())}).on("keyup.brush",function(){32==d3.event.keyCode&&2==z&&(E[0]+=s[1][0],E[1]+=s[1][1],z=0,qa())});if(z)E[0]=s[0][0]-E[0],E[1]=s[0][1]-E[1];else if(R){var U=+/w$/.test(R),R=+/^n/.test(R);D=[s[1-U][0]-E[0],s[1-R][1]-E[1]];E[0]=s[U][0];E[1]=s[R][1]}else d3.event.altKey&&(A=E.slice());u.style("pointer-events","none").selectAll(".resize").style("display",null);d3.select("body").style("cursor",B.style("cursor"));N({type:"brushstart"});G();qa()}var k=Oa(c,"brushstart",
"brush","brushend"),l=null,n=null,q=tc[0],s=[[0,0],[0,0]],v;return c.x=function(a){return arguments.length?(l=a,q=tc[!l<<1|!n],c):l},c.y=function(a){return arguments.length?(n=a,q=tc[!l<<1|!n],c):n},c.extent=function(a){var e,f,h,k,p;return arguments.length?(v=[[0,0],[0,0]],l&&(e=a[0],f=a[1],n&&(e=e[0],f=f[0]),v[0][0]=e,v[1][0]=f,l.invert&&(e=l(e),f=l(f)),f<e&&(p=e,e=f,f=p),s[0][0]=e|0,s[1][0]=f|0),n&&(h=a[0],k=a[1],l&&(h=h[1],k=k[1]),v[0][1]=h,v[1][1]=k,n.invert&&(h=n(h),k=n(k)),k<h&&(p=h,h=k,k=
p),s[0][1]=h|0,s[1][1]=k|0),c):(a=v||s,l&&(e=a[0][0],f=a[1][0],v||(e=s[0][0],f=s[1][0],l.invert&&(e=l.invert(e),f=l.invert(f)),f<e&&(p=e,e=f,f=p))),n&&(h=a[0][1],k=a[1][1],v||(h=s[0][1],k=s[1][1],n.invert&&(h=n.invert(h),k=n.invert(k)),k<h&&(p=h,h=k,k=p))),l&&n?[[e,h],[f,k]]:l?[e,f]:n&&[h,k])},c.clear=function(){return v=null,s[0][0]=s[0][1]=s[1][0]=s[1][1]=0,c},c.empty=function(){return l&&s[0][0]===s[1][0]||n&&s[0][1]===s[1][1]},d3.rebind(c,k,"on")};var gf={n:"ns-resize",e:"ew-resize",s:"ns-resize",
w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},tc=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]];d3.behavior={};d3.behavior.drag=function(){function c(){this.on("mousedown.drag",a).on("touchstart.drag",a)}function a(){function c(){var a=p.parentNode;return s?d3.touches(a).filter(function(c){return c.identifier===s})[0]:d3.mouse(a)}function h(){l({type:"dragend"});t&&(qa(),d3.event.target===n&&C.on("click.drag",k,!0));C.on(s?"touchmove.drag-"+s:"mousemove.drag",
null).on(s?"touchend.drag-"+s:"mouseup.drag",null)}function k(){qa();C.on("click.drag",null)}var p=this,l=e.of(p,arguments),n=d3.event.target,s=d3.event.touches&&d3.event.changedTouches[0].identifier,q,v=c(),t=0,C=d3.select(window).on(s?"touchmove.drag-"+s:"mousemove.drag",function(){if(!p.parentNode)return h();var a=c(),e=a[0]-v[0],f=a[1]-v[1];t=t|e|f;v=a;qa();l({type:"drag",x:a[0]+q[0],y:a[1]+q[1],dx:e,dy:f})}).on(s?"touchend.drag-"+s:"mouseup.drag",h,!0);f?(q=f.apply(p,arguments),q=[q.x-v[0],q.y-
v[1]]):q=[0,0];s||qa();l({type:"dragstart"})}var e=Oa(c,"drag","dragstart","dragend"),f=null;return c.origin=function(a){return arguments.length?(f=a,c):f},d3.rebind(c,e,"on")};d3.behavior.zoom=function(){function c(){this.on("mousedown.zoom",k).on("mousewheel.zoom",l).on("mousemove.zoom",n).on("DOMMouseScroll.zoom",l).on("dblclick.zoom",s).on("touchstart.zoom",q).on("touchmove.zoom",v).on("touchend.zoom",q)}function a(c){return[(c[0]-T[0])/C,(c[1]-T[1])/C]}function e(c){C=Math.max(N[0],Math.min(N[1],
c))}function f(c,a){a=[a[0]*C+T[0],a[1]*C+T[1]];T[0]+=c[0]-a[0];T[1]+=c[1]-a[1]}function h(c){E&&E.domain(R.range().map(function(c){return(c-T[0])/C}).map(R.invert));A&&A.domain(z.range().map(function(c){return(c-T[1])/C}).map(z.invert));d3.event.preventDefault();c({type:"zoom",scale:C,translate:T})}function k(){function c(){qa();s.on("click.zoom",null)}var e=this,l=u.of(e,arguments),w=d3.event.target,n=0,s=d3.select(window).on("mousemove.zoom",function(){n=1;f(d3.mouse(e),F);h(l)}).on("mouseup.zoom",
function(){n&&qa();s.on("mousemove.zoom",null).on("mouseup.zoom",null);n&&d3.event.target===w&&s.on("click.zoom",c,!0)}),F=a(d3.mouse(e));window.focus();qa()}function l(){t||(t=a(d3.mouse(this)));e(Math.pow(2,.002*fe())*C);f(d3.mouse(this),t);h(u.of(this,arguments))}function n(){t=null}function s(){var c=d3.mouse(this),k=a(c);e(d3.event.shiftKey?C/2:2*C);f(c,k);h(u.of(this,arguments))}function q(){var c=d3.touches(this),k=Date.now();B=C;t={};c.forEach(function(c){t[c.identifier]=a(c)});qa();if(1===
c.length){if(500>k-M){var l=c[0],c=a(c[0]);e(2*C);f(l,c);h(u.of(this,arguments))}M=k}}function v(){var c=d3.touches(this),a=c[0],k=t[a.identifier];if(c=c[1]){var p=t[c.identifier],a=[(a[0]+c[0])/2,(a[1]+c[1])/2],k=[(k[0]+p[0])/2,(k[1]+p[1])/2];e(d3.event.scale*B)}f(a,k);M=null;h(u.of(this,arguments))}var T=[0,0],t,C=1,B,N=Id,u=Oa(c,"zoom"),R,E,z,A,M;return c.translate=function(a){return arguments.length?(T=a.map(Number),c):T},c.scale=function(a){return arguments.length?(C=+a,c):C},c.scaleExtent=function(a){return arguments.length?
(N=null==a?Id:a.map(Number),c):N},c.x=function(a){return arguments.length?(E=a,R=a.copy(),c):E},c.y=function(a){return arguments.length?(A=a,z=a.copy(),c):A},d3.rebind(c,u,"on")};var jb,Id=[0,Infinity];d3.layout={};d3.layout.bundle=function(){return function(c){for(var a=[],e=-1,f=c.length;++e<f;)a.push(ge(c[e]));return a}};d3.layout.chord=function(){function c(){var c={},e=[],w=d3.range(l),t=[],C,B,u,N,R;f=[];h=[];C=0;for(N=-1;++N<l;){B=0;for(R=-1;++R<l;)B+=k[N][R];e.push(B);t.push(d3.range(l));
C+=B}s&&w.sort(function(c,a){return s(e[c],e[a])});q&&t.forEach(function(c,a){c.sort(function(c,e){return q(k[a][c],k[a][e])})});C=(2*Math.PI-n*l)/C;B=0;for(N=-1;++N<l;){u=B;for(R=-1;++R<l;){var E=w[N],A=t[E][R],z=k[E][A],M=B,I=B+=z*C;c[E+"-"+A]={index:E,subindex:A,startAngle:M,endAngle:I,value:z}}h[E]={index:E,startAngle:u,endAngle:B,value:(B-u)/C};B+=n}for(N=-1;++N<l;)for(R=N-1;++R<l;)w=c[N+"-"+R],t=c[R+"-"+N],(w.value||t.value)&&f.push(w.value<t.value?{source:t,target:w}:{source:w,target:t});v&&
a()}function a(){f.sort(function(c,a){return v((c.source.value+c.target.value)/2,(a.source.value+a.target.value)/2)})}var e={},f,h,k,l,n=0,s,q,v;return e.matrix=function(c){return arguments.length?(l=(k=c)&&k.length,f=h=null,e):k},e.padding=function(c){return arguments.length?(n=c,f=h=null,e):n},e.sortGroups=function(c){return arguments.length?(s=c,f=h=null,e):s},e.sortSubgroups=function(c){return arguments.length?(q=c,f=null,e):q},e.sortChords=function(c){return arguments.length?(v=c,f&&a(),e):v},
e.chords=function(){return f||c(),f},e.groups=function(){return h||c(),h},e};d3.layout.force=function(){function c(c){return function(a,e,f,h,k){if(a.point!==c){f=a.cx-c.x;k=a.cy-c.y;var p=1/Math.sqrt(f*f+k*k);if((h-e)*p<B)return e=a.charge*p*p,c.px-=f*e,c.py-=k*e,!0;a.point&&isFinite(p)&&(e=a.pointCharge*p*p,c.px-=f*e,c.py-=k*e)}return!a.charge}}function a(c){c.px=d3.event.x;c.py=d3.event.y;f.resume()}var f={},h=d3.dispatch("start","tick","end"),k=[1,1],l,s,q=.9,v=le,t=me,C=-30,T=.1,B=.8,N=[],u=
[],R,E,A;return f.tick=function(){if(.005>(s*=.99))return h.end({type:"end",alpha:s=0}),!0;var a=N.length,e=u.length,f,p,l,w,n,v,G;for(f=0;f<e;++f)if(p=u[f],l=p.source,w=p.target,v=w.x-l.x,G=w.y-l.y,n=v*v+G*G)n=s*E[f]*((n=Math.sqrt(n))-R[f])/n,v*=n,G*=n,w.x-=v*(n=l.weight/(w.weight+l.weight)),w.y-=G*n,l.x+=v*(n=1-n),l.y+=G*n;if(n=s*T)if(v=k[0]/2,G=k[1]/2,f=-1,n)for(;++f<a;)p=N[f],p.x+=(v-p.x)*n,p.y+=(G-p.y)*n;if(C)for(gd(e=d3.geom.quadtree(N),s,A),f=-1;++f<a;)(p=N[f]).fixed||e.visit(c(p));for(f=-1;++f<
a;)p=N[f],p.fixed?(p.x=p.px,p.y=p.py):(p.x-=(p.px-(p.px=p.x))*q,p.y-=(p.py-(p.py=p.y))*q);h.tick({type:"tick",alpha:s})},f.nodes=function(c){return arguments.length?(N=c,f):N},f.links=function(c){return arguments.length?(u=c,f):u},f.size=function(c){return arguments.length?(k=c,f):k},f.linkDistance=function(c){return arguments.length?(v=n(c),f):v},f.distance=f.linkDistance,f.linkStrength=function(c){return arguments.length?(t=n(c),f):t},f.friction=function(c){return arguments.length?(q=c,f):q},f.charge=
function(c){return arguments.length?(C="function"==typeof c?c:+c,f):C},f.gravity=function(c){return arguments.length?(T=c,f):T},f.theta=function(c){return arguments.length?(B=c,f):B},f.alpha=function(c){return arguments.length?(s?0<c?s=c:s=0:0<c&&(h.start({type:"start",alpha:s=c}),d3.timer(f.tick)),f):s},f.start=function(){function c(f,k){var l;if(!s){s=[];for(e=0;e<h;++e)s[e]=[];for(e=0;e<p;++e)l=u[e],s[l.source.index].push(l.target),s[l.target.index].push(l.source)}l=s[a];for(var n=-1,w=l.length,
q;++n<w;)if(!isNaN(q=l[n][f]))return q;return Math.random()*k}var a,e,h=N.length,p=u.length,l=k[0],n=k[1],s,q;for(a=0;a<h;++a)(q=N[a]).index=a,q.weight=0;R=[];E=[];for(a=0;a<p;++a)q=u[a],"number"==typeof q.source&&(q.source=N[q.source]),"number"==typeof q.target&&(q.target=N[q.target]),R[a]=v.call(this,q,a),E[a]=t.call(this,q,a),++q.source.weight,++q.target.weight;for(a=0;a<h;++a)q=N[a],isNaN(q.x)&&(q.x=c("x",l)),isNaN(q.y)&&(q.y=c("y",n)),isNaN(q.px)&&(q.px=q.x),isNaN(q.py)&&(q.py=q.y);A=[];if("function"==
typeof C)for(a=0;a<h;++a)A[a]=+C.call(this,N[a],a);else for(a=0;a<h;++a)A[a]=C;return f.resume()},f.resume=function(){return f.alpha(.1)},f.stop=function(){return f.alpha(0)},f.drag=function(){l||(l=d3.behavior.drag().origin(e).on("dragstart",he).on("drag",a).on("dragend",ie));this.on("mouseover.force",je).on("mouseout.force",ke).call(l)},d3.rebind(f,h,"on")};d3.layout.partition=function(){function c(a,e,f,h){var k=a.children;a.x=e;a.y=a.depth*h;a.dx=f;a.dy=h;if(k&&(l=k.length)){var p=-1,l,n;for(f=
a.value?f/a.value:0;++p<l;)c(n=k[p],e,a=n.value*f,h),e+=a}}function a(c){c=c.children;var e=0;if(c&&(h=c.length))for(var f=-1,h;++f<h;)e=Math.max(e,a(c[f]));return 1+e}function e(k,l){var n=f.call(this,k,l);return c(n[0],0,h[0],h[1]/a(n[0])),n}var f=d3.layout.hierarchy(),h=[1,1];return e.size=function(c){return arguments.length?(h=c,e):h},kb(e,f)};d3.layout.pie=function(){function c(k,l){var n=k.map(function(e,f){return+a.call(c,e,f)}),s=+("function"==typeof f?f.apply(this,arguments):f),q=(("function"==
typeof h?h.apply(this,arguments):h)-f)/d3.sum(n),v=d3.range(k.length);null!=e&&v.sort(e===Jd?function(c,a){return n[a]-n[c]}:function(c,a){return e(k[c],k[a])});var t=[];return v.forEach(function(c){var a;t[c]={data:k[c],value:a=n[c],startAngle:s,endAngle:s+=a*q}}),t}var a=Number,e=Jd,f=0,h=2*Math.PI;return c.value=function(e){return arguments.length?(a=e,c):a},c.sort=function(a){return arguments.length?(e=a,c):e},c.startAngle=function(a){return arguments.length?(f=a,c):f},c.endAngle=function(a){return arguments.length?
(h=a,c):h},c};var Jd={};d3.layout.stack=function(){function c(e,s){var q=e.map(function(e,f){return a.call(c,e,f)}),v=q.map(function(a,e){return a.map(function(a,e){return[l.call(c,a,e),n.call(c,a,e)]})}),t=f.call(c,v,s),q=d3.permute(q,t),v=d3.permute(v,t),t=h.call(c,v,s),C=q.length,B=q[0].length,N,u,R;for(u=0;u<B;++u)for(k.call(c,q[0][u],R=t[u],v[0][u][1]),N=1;N<C;++N)k.call(c,q[N][u],R+=v[N-1][u][1],v[N][u][1]);return e}var a=e,f=ac,h=bc,k=pe,l=ne,n=oe;return c.values=function(e){return arguments.length?
(a=e,c):a},c.order=function(a){return arguments.length?(f="function"==typeof a?a:hf.get(a)||ac,c):f},c.offset=function(a){return arguments.length?(h="function"==typeof a?a:jf.get(a)||bc,c):h},c.x=function(a){return arguments.length?(l=a,c):l},c.y=function(a){return arguments.length?(n=a,c):n},c.out=function(a){return arguments.length?(k=a,c):k},c};var hf=d3.map({"inside-out":function(c){var a=c.length,e,f=c.map(qe),h=c.map(re),k=d3.range(a).sort(function(c,a){return f[c]-f[a]}),l=0,n=0,s=[],q=[];
for(c=0;c<a;++c)e=k[c],l<n?(l+=h[e],s.push(e)):(n+=h[e],q.push(e));return q.reverse().concat(s)},reverse:function(c){return d3.range(c.length).reverse()},"default":ac}),jf=d3.map({silhouette:function(c){var a=c.length,e=c[0].length,f=[],h=0,k,l,n,s=[];for(l=0;l<e;++l){for(n=k=0;k<a;k++)n+=c[k][l][1];n>h&&(h=n);f.push(n)}for(l=0;l<e;++l)s[l]=(h-f[l])/2;return s},wiggle:function(c){var a=c.length,e=c[0],f=e.length,h,k,l,n,s,q,v,t,C,B=[];B[0]=t=C=0;for(k=1;k<f;++k){for(n=h=0;h<a;++h)n+=c[h][k][1];s=
h=0;for(v=e[k][0]-e[k-1][0];h<a;++h){l=0;for(q=(c[h][k][1]-c[h][k-1][1])/(2*v);l<h;++l)q+=(c[l][k][1]-c[l][k-1][1])/v;s+=q*c[h][k][1]}B[k]=t-=n?s/n*v:0;t<C&&(C=t)}for(k=0;k<f;++k)B[k]-=C;return B},expand:function(c){var a=c.length,e=c[0].length,f=1/a,h,k,l,n=[];for(k=0;k<e;++k){for(l=h=0;h<a;h++)l+=c[h][k][1];if(l)for(h=0;h<a;h++)c[h][k][1]/=l;else for(h=0;h<a;h++)c[h][k][1]=f}for(k=0;k<e;++k)n[k]=0;return n},zero:bc});d3.layout.histogram=function(){function c(c,k){var l=[],n=c.map(e,this),s=f.call(this,
n,k),q=h.call(this,s,n,k),v;k=-1;for(var t=n.length,C=q.length-1,B=a?1:1/t,N;++k<C;)v=l[k]=[],v.dx=q[k+1]-(v.x=q[k]),v.y=0;if(0<C)for(k=-1;++k<t;)N=n[k],N>=s[0]&&N<=s[1]&&(v=l[d3.bisect(q,N,1,C)-1],v.y+=B,v.push(c[k]));return l}var a=!0,e=Number,f=ue,h=te;return c.value=function(a){return arguments.length?(e=a,c):e},c.range=function(a){return arguments.length?(f=n(a),c):f},c.bins=function(a){return arguments.length?(h="number"==typeof a?function(c){return hd(c,a)}:n(a),c):h},c.frequency=function(e){return arguments.length?
(a=!!e,c):a},c};d3.layout.hierarchy=function(){function c(a,p,l){var n=h.call(e,a,p),s=cc?a:{data:a};s.depth=p;l.push(s);if(n&&(q=n.length)){a=-1;var q,v=s.children=[],t=0;p+=1;for(var C;++a<q;)C=c(n[a],p,l),C.parent=s,v.push(C),t+=C.value;f&&v.sort(f);k&&(s.value=t)}else k&&(s.value=+k.call(e,a,p)||0);return s}function a(c,f){var h=c.children,l=0;if(h&&(s=h.length))for(var n=-1,s,q=f+1;++n<s;)l+=a(h[n],q);else k&&(l=+k.call(e,cc?c:c.data,f)||0);return k&&(c.value=l),l}function e(a){var f=[];return c(a,
0,f),f}var f=ye,h=we,k=xe;return e.sort=function(c){return arguments.length?(f=c,e):f},e.children=function(c){return arguments.length?(h=c,e):h},e.value=function(c){return arguments.length?(k=c,e):k},e.revalue=function(c){return a(c,0),c},e};var cc=!1;d3.layout.pack=function(){function c(c,h){var k=a.call(this,c,h),l=k[0];l.x=0;l.y=0;La(l,function(c){c.r=Math.sqrt(c.value)});La(l,kd);var n=f[0],s=f[1],q=Math.max(2*l.r/n,2*l.r/s);if(0<e){var v=e*q/2;La(l,function(c){c.r+=v});La(l,kd);La(l,function(c){c.r-=
v});q=Math.max(2*l.r/n,2*l.r/s)}return md(l,n/2,s/2,1/q),k}var a=d3.layout.hierarchy().sort(ze),e=0,f=[1,1];return c.size=function(a){return arguments.length?(f=a,c):f},c.padding=function(a){return arguments.length?(e=+a,c):e},kb(c,a)};d3.layout.cluster=function(){function c(c,h){var k=a.call(this,c,h),l=k[0],n,s=0;La(l,function(c){var a=c.children;a&&a.length?(c.x=De(a),c.y=Ce(a)):(c.x=n?s+=e(c,n):0,c.y=0,n=c)});var q=nd(l),v=od(l),t=q.x-e(q,v)/2,C=v.x+e(v,q)/2;return La(l,function(c){c.x=(c.x-t)/
(C-t)*f[0];c.y=(1-(l.y?c.y/l.y:1))*f[1]}),k}var a=d3.layout.hierarchy().sort(null).value(null),e=pd,f=[1,1];return c.separation=function(a){return arguments.length?(e=a,c):e},c.size=function(a){return arguments.length?(f=a,c):f},kb(c,a)};d3.layout.tree=function(){function c(c,h){function k(c,a){var f=c.children,h=c._tree;if(f&&(l=f.length)){for(var l,p=f[0],n,s=p,q,v=-1;++v<l;){q=f[v];k(q,n);var t=q;if(n){for(var F=t,C=t,G=t.parent.children[0],B=F._tree.mod,N=C._tree.mod,T=n._tree.mod,u=G._tree.mod,
R=void 0;n=fc(n),F=ec(F),n&&F;){G=ec(G);C=fc(C);C._tree.ancestor=t;R=n._tree.prelim+T-F._tree.prelim-B+e(n,F);if(0<R){var fa=n._tree.ancestor.parent==t.parent?n._tree.ancestor:s,Q=t,E=R,fa=fa._tree,Q=Q._tree,A=E/(Q.number-fa.number);fa.change+=A;Q.change-=A;Q.shift+=E;Q.prelim+=E;Q.mod+=E;B+=R;N+=R}T+=n._tree.mod;B+=F._tree.mod;u+=G._tree.mod;N+=C._tree.mod}n&&!fc(C)&&(C._tree.thread=n,C._tree.mod+=T-N);F&&!ec(G)&&(G._tree.thread=F,G._tree.mod+=B-u,s=t)}n=q}l=f=0;v=c.children;for(t=v.length;0<=--t;)s=
v[t]._tree,s.prelim+=f,s.mod+=f,f+=s.shift+(l+=s.change);p=.5*(p._tree.prelim+q._tree.prelim);a?(h.prelim=a._tree.prelim+e(c,a),h.mod=h.prelim-p):h.prelim=p}else a&&(h.prelim=a._tree.prelim+e(c,a))}function l(c,a){c.x=c._tree.prelim+a;var e=c.children;if(e&&(h=e.length)){var f=-1,h;for(a+=c._tree.mod;++f<h;)l(e[f],a)}}var n=a.call(this,c,h),s=n[0];La(s,function(c,a){c._tree={ancestor:c,prelim:0,mod:0,change:0,shift:0,number:a?a._tree.number+1:0}});k(s);l(s,-s._tree.prelim);var q=Ab(s,Fe),v=Ab(s,Ee),
t=Ab(s,Ge),C=q.x-e(q,v)/2,B=v.x+e(v,q)/2,N=t.depth||1;return La(s,function(c){c.x=(c.x-C)/(B-C)*f[0];c.y=c.depth/N*f[1];delete c._tree}),n}var a=d3.layout.hierarchy().sort(null).value(null),e=pd,f=[1,1];return c.separation=function(a){return arguments.length?(e=a,c):e},c.size=function(a){return arguments.length?(f=a,c):f},kb(c,a)};d3.layout.treemap=function(){function c(c,a){for(var e=-1,f=c.length,h,k;++e<f;)k=(h=c[e]).value*(0>a?0:a),h.area=isNaN(k)||0>=k?0:k}function a(e){var h=e.children;if(h&&
h.length){var k=q(e),l=[],n=h.slice(),s=Infinity,w,v=Math.min(k.dx,k.dy);c(n,k.dx*k.dy/e.value);for(l.area=0;0<(e=n.length);){l.push(e=n[e-1]);l.area+=e.area;e=v;for(var t=l.area,F=void 0,G=0,B=Infinity,N=-1,u=l.length;++N<u;)if(F=l[N].area)F<B&&(B=F),F>G&&(G=F);(w=(t*=t,e*=e,t?Math.max(e*G*C/t,t/(e*B*C)):Infinity))<=s?(n.pop(),s=w):(l.area-=l.pop().area,f(l,v,k,!1),v=Math.min(k.dx,k.dy),l.length=l.area=0,s=Infinity)}l.length&&(f(l,v,k,!0),l.length=l.area=0);h.forEach(a)}}function e(a){var h=a.children;
if(h&&h.length){var k=q(a),l=h.slice(),p=[];c(l,k.dx*k.dy/a.value);for(p.area=0;a=l.pop();)p.push(a),p.area+=a.area,null!=a.z&&(f(p,a.z?k.dx:k.dy,k,!l.length),p.length=p.area=0);h.forEach(e)}}function f(c,a,e,h){var k=-1,p=c.length,n=e.x,s=e.y,q=a?l(c.area/a):0,w;if(a==e.dx){if(h||q>e.dy)q=e.dy;for(;++k<p;)w=c[k],w.x=n,w.y=s,w.dy=q,n+=w.dx=Math.min(e.x+e.dx-n,q?l(w.area/q):0);w.z=!0;w.dx+=e.x+e.dx-n;e.y+=q;e.dy-=q}else{if(h||q>e.dx)q=e.dx;for(;++k<p;)w=c[k],w.x=n,w.y=s,w.dx=q,s+=w.dy=Math.min(e.y+
e.dy-s,q?l(w.area/q):0);w.z=!1;w.dy+=e.y+e.dy-s;e.x+=q;e.dx-=q}}function h(f){f=t||k(f);var l=f[0];return l.x=0,l.y=0,l.dx=n[0],l.dy=n[1],t&&k.revalue(l),c([l],l.dx*l.dy/l.value),(t?e:a)(l),v&&(t=f),f}var k=d3.layout.hierarchy(),l=Math.round,n=[1,1],s=null,q=gc,v=!1,t,C=.5*(1+Math.sqrt(5));return h.size=function(c){return arguments.length?(n=c,h):n},h.padding=function(c){function a(e){var f=c.call(h,e,e.depth);return null==f?gc(e):qd(e,"number"==typeof f?[f,f,f,f]:f)}function e(a){return qd(a,c)}
if(!arguments.length)return s;var f;return q=null==(s=c)?gc:"function"===(f=typeof c)?a:"number"===f?(c=[c,c,c,c],e):e,h},h.round=function(c){return arguments.length?(l=c?Math.round:Number,h):l!=Number},h.sticky=function(c){return arguments.length?(v=c,t=null,h):v},h.ratio=function(c){return arguments.length?(C=c,h):C},kb(h,k)};d3.csv=rd(",","text/csv");d3.tsv=rd("\t","text/tab-separated-values");d3.geo={};var aa=Math.PI/180;d3.geo.azimuthal=function(){function c(c){var e=c[0]*aa-k,l=c[1]*aa;c=Math.cos(e);
var e=Math.sin(e),q=Math.cos(l),l=Math.sin(l),w="orthographic"!==a?s*l+n*q*c:null,v,w="stereographic"===a?1/(1+w):"gnomonic"===a?1/w:"equidistant"===a?(v=Math.acos(w),v?v/Math.sin(v):0):"equalarea"===a?Math.sqrt(2/(1+w)):1;return[f*w*q*e+h[0],f*w*(s*q*c-n*l)+h[1]]}var a="orthographic",e,f=200,h=[480,250],k,l,n,s;return c.invert=function(c){var e=(c[0]-h[0])/f;c=(c[1]-h[1])/f;var l=Math.sqrt(e*e+c*c),q="stereographic"===a?2*Math.atan(l):"gnomonic"===a?Math.atan(l):"equidistant"===a?l:"equalarea"===
a?2*Math.asin(.5*l):Math.asin(l),w=Math.sin(q),q=Math.cos(q);return[(k+Math.atan2(e*w,l*n*q+c*s*w))/aa,Math.asin(q*s-(l?c*w*n/l:0))/aa]},c.mode=function(e){return arguments.length?(a=e+"",c):a},c.origin=function(a){return arguments.length?(e=a,k=e[0]*aa,l=e[1]*aa,n=Math.cos(l),s=Math.sin(l),c):e},c.scale=function(a){return arguments.length?(f=+a,c):f},c.translate=function(a){return arguments.length?(h=[+a[0],+a[1]],c):h},c.origin([0,0])};d3.geo.albers=function(){function c(c){var a=n*(aa*c[0]-l);
c=Math.sqrt(s-2*n*Math.sin(aa*c[1]))/n;return[h*c*Math.sin(a)+k[0],h*(c*Math.cos(a)-q)+k[1]]}function a(){var h=aa*f[0],k=aa*f[1],p=aa*e[1],v=Math.sin(h),h=Math.cos(h);return l=aa*e[0],n=.5*(v+Math.sin(k)),s=h*h+2*n*v,q=Math.sqrt(s-2*n*Math.sin(p))/n,c}var e=[-98,38],f=[29.5,45.5],h=1E3,k=[480,250],l,n,s,q;return c.invert=function(c){var a=(c[0]-k[0])/h,e=q+(c[1]-k[1])/h;c=Math.atan2(a,e);a=Math.sqrt(a*a+e*e);return[(l+c/n)/aa,Math.asin((s-a*a*n*n)/(2*n))/aa]},c.origin=function(c){return arguments.length?
(e=[+c[0],+c[1]],a()):e},c.parallels=function(c){return arguments.length?(f=[+c[0],+c[1]],a()):f},c.scale=function(a){return arguments.length?(h=+a,c):h},c.translate=function(a){return arguments.length?(k=[+a[0],+a[1]],c):k},a()};d3.geo.albersUsa=function(){function c(c){var k=c[0],l=c[1];return(50<l?e:-140>k?f:21>l?h:a)(c)}var a=d3.geo.albers(),e=d3.geo.albers().origin([-160,60]).parallels([55,65]),f=d3.geo.albers().origin([-160,20]).parallels([8,18]),h=d3.geo.albers().origin([-60,10]).parallels([8,
18]);return c.scale=function(k){return arguments.length?(a.scale(k),e.scale(.6*k),f.scale(k),h.scale(1.5*k),c.translate(a.translate())):a.scale()},c.translate=function(k){if(!arguments.length)return a.translate();var l=a.scale()/1E3,n=k[0],s=k[1];return a.translate(k),e.translate([n-400*l,s+170*l]),f.translate([n-190*l,s+200*l]),h.translate([n+580*l,s+430*l]),c},c.scale(a.scale())};d3.geo.bonne=function(){function c(c){var n=c[0]*aa-f,s=c[1]*aa-h;k?(c=l+k-s,s=n*Math.cos(s)/c,n=c*Math.sin(s),s=c*Math.cos(s)-
l):(n*=Math.cos(s),s*=-1);return[a*n+e[0],a*s+e[1]]}var a=200,e=[480,250],f,h,k,l;return c.invert=function(c){var h=(c[0]-e[0])/a;c=(c[1]-e[1])/a;if(k){var n=l+c,s=Math.sqrt(h*h+n*n);c=l+k-s;h=f+s*Math.atan2(h,n)/Math.cos(c)}else c*=-1,h/=Math.cos(c);return[h/aa,c/aa]},c.parallel=function(a){return arguments.length?(l=1/Math.tan(k=a*aa),c):k/aa},c.origin=function(a){return arguments.length?(f=a[0]*aa,h=a[1]*aa,c):[f/aa,h/aa]},c.scale=function(e){return arguments.length?(a=+e,c):a},c.translate=function(a){return arguments.length?
(e=[+a[0],+a[1]],c):e},c.origin([0,0]).parallel(45)};d3.geo.equirectangular=function(){function c(c){return[c[0]/360*a+e[0],-c[1]/360*a+e[1]]}var a=500,e=[480,250];return c.invert=function(c){return[(c[0]-e[0])/a*360,(c[1]-e[1])/a*-360]},c.scale=function(e){return arguments.length?(a=+e,c):a},c.translate=function(a){return arguments.length?(e=[+a[0],+a[1]],c):e},c};d3.geo.mercator=function(){function c(c){var f=c[0]/360;c=-(Math.log(Math.tan(Math.PI/4+c[1]*aa/2))/aa)/360;return[a*f+e[0],a*Math.max(-.5,
Math.min(.5,c))+e[1]]}var a=500,e=[480,250];return c.invert=function(c){return[(c[0]-e[0])/a*360,2*Math.atan(Math.exp((c[1]-e[1])/a*-360*aa))/aa-90]},c.scale=function(e){return arguments.length?(a=+e,c):a},c.translate=function(a){return arguments.length?(e=[+a[0],+a[1]],c):e},c};d3.geo.path=function(){function c(c,a){"function"==typeof h&&(k=hc(h.apply(this,arguments)));s(c);var e=n.length?n.join(""):null;return n=[],e}function a(c){return l(c).join(",")}function e(c){for(var a=Math.abs(d3.geom.polygon(c[0].map(l)).area()),
f=0,h=c.length;++f<h;)a-=Math.abs(d3.geom.polygon(c[f].map(l)).area());return a}function f(c){for(var a=d3.geom.polygon(c[0].map(l)),e=a.area(),a=a.centroid(0>e?(e*=-1,1):-1),h=a[0],k=a[1],p=e,n=0,s=c.length;++n<s;)a=d3.geom.polygon(c[n].map(l)),e=a.area(),a=a.centroid(0>e?(e*=-1,1):-1),h-=a[0],k-=a[1],p-=e;return[h,k,6*p]}var h=4.5,k=hc(h),l=d3.geo.albersUsa(),n=[],s=Bb({FeatureCollection:function(c){c=c.features;for(var a=-1,e=c.length;++a<e;)n.push(s(c[a].geometry))},Feature:function(c){s(c.geometry)},
Point:function(c){n.push("M",a(c.coordinates),k)},MultiPoint:function(c){c=c.coordinates;for(var e=-1,f=c.length;++e<f;)n.push("M",a(c[e]),k)},LineString:function(c){c=c.coordinates;var e=-1,f=c.length;for(n.push("M");++e<f;)n.push(a(c[e]),"L");n.pop()},MultiLineString:function(c){c=c.coordinates;for(var e=-1,f=c.length,h,k,l;++e<f;){h=c[e];k=-1;l=h.length;for(n.push("M");++k<l;)n.push(a(h[k]),"L");n.pop()}},Polygon:function(c){c=c.coordinates;for(var e=-1,f=c.length,h,k,l;++e<f;)if(h=c[e],k=-1,0<
(l=h.length-1)){for(n.push("M");++k<l;)n.push(a(h[k]),"L");n[n.length-1]="Z"}},MultiPolygon:function(c){c=c.coordinates;for(var e=-1,f=c.length,h,k,l,s,q,w;++e<f;)for(h=c[e],k=-1,l=h.length;++k<l;)if(s=h[k],q=-1,0<(w=s.length-1)){for(n.push("M");++q<w;)n.push(a(s[q]),"L");n[n.length-1]="Z"}},GeometryCollection:function(c){c=c.geometries;for(var a=-1,e=c.length;++a<e;)n.push(s(c[a]))}}),q=c.area=Bb({FeatureCollection:function(c){var a=0;c=c.features;for(var e=-1,f=c.length;++e<f;)a+=q(c[e]);return a},
Feature:function(c){return q(c.geometry)},Polygon:function(c){return e(c.coordinates)},MultiPolygon:function(c){var a=0;c=c.coordinates;for(var f=-1,h=c.length;++f<h;)a+=e(c[f]);return a},GeometryCollection:function(c){var a=0;c=c.geometries;for(var e=-1,f=c.length;++e<f;)a+=q(c[e]);return a}},0),v=c.centroid=Bb({Feature:function(c){return v(c.geometry)},Polygon:function(c){c=f(c.coordinates);return[c[0]/c[2],c[1]/c[2]]},MultiPolygon:function(c){c=c.coordinates;for(var a,e=0,h=0,k=0,l=-1,p=c.length;++l<
p;)a=f(c[l]),e+=a[0],h+=a[1],k+=a[2];return[e/k,h/k]}});return c.projection=function(a){return l=a,c},c.pointRadius=function(a){return"function"==typeof a?h=a:(h=+a,k=hc(h)),c},c};d3.geo.bounds=function(c){var a=Infinity,e=Infinity,f=-Infinity,h=-Infinity;return Cb(c,function(c,k){c<a&&(a=c);c>f&&(f=c);k<e&&(e=k);k>h&&(h=k)}),[[a,e],[f,h]]};var sd={Feature:function(c,a){Cb(c.geometry,a)},FeatureCollection:function(c,a){for(var e=c.features,f=0,h=e.length;f<h;f++)Cb(e[f].geometry,a)},GeometryCollection:function(c,
a){for(var e=c.geometries,f=0,h=e.length;f<h;f++)Cb(e[f],a)},LineString:td,MultiLineString:function(c,a){for(var e=c.coordinates,f=0,h=e.length;f<h;f++)for(var k=e[f],l=0,n=k.length;l<n;l++)a.apply(null,k[l])},MultiPoint:td,MultiPolygon:function(c,a){for(var e=c.coordinates,f=0,h=e.length;f<h;f++)for(var k=e[f][0],l=0,n=k.length;l<n;l++)a.apply(null,k[l])},Point:function(c,a){a.apply(null,c.coordinates)},Polygon:function(c,a){for(var e=c.coordinates[0],f=0,h=e.length;f<h;f++)a.apply(null,e[f])}};
d3.geo.circle=function(){function c(){}function a(c){return n.distance(c)<l}function f(c){for(var a=-1,e=c.length,h=[],k,p,s,q,w;++a<e;)w=n.distance(s=c[a]),w<l?(p&&h.push(vd(p,s)((q-l)/(q-w))),h.push(s),k=p=null):(p=s,!k&&h.length&&(h.push(vd(h[h.length-1],p)((l-q)/(w-q))),k=p)),q=w;k=c[0];(p=h[0])&&s[0]===k[0]&&s[1]===k[1]&&(s[0]!==p[0]||s[1]!==p[1])&&h.push(p);c=0;p=(a=h.length)?[h[0]]:h;for(q=n.source();++c<a;)for(s=n.source(h[c-1])(h[c]).coordinates,e=0,k=s.length;++e<k;)p.push(s[e]);return n.source(q),
p}var h=[0,0],k=89.99,l=k*aa,n=d3.geo.greatArc().source(h).target(e);c.clip=function(c){return"function"==typeof h&&n.source(h.apply(this,arguments)),s(c)||null};var s=Bb({FeatureCollection:function(c){var a=c.features.map(s).filter(e);return a&&(c=Object.create(c),c.features=a,c)},Feature:function(c){var a=s(c.geometry);return a&&(c=Object.create(c),c.geometry=a,c)},Point:function(c){return a(c.coordinates)&&c},MultiPoint:function(c){var e=c.coordinates.filter(a);return e.length&&{type:c.type,coordinates:e}},
LineString:function(c){var a=f(c.coordinates);return a.length&&(c=Object.create(c),c.coordinates=a,c)},MultiLineString:function(c){var a=c.coordinates.map(f).filter(function(c){return c.length});return a.length&&(c=Object.create(c),c.coordinates=a,c)},Polygon:function(c){var a=c.coordinates.map(f);return a[0].length&&(c=Object.create(c),c.coordinates=a,c)},MultiPolygon:function(c){var a=c.coordinates.map(function(c){return c.map(f)}).filter(function(c){return c[0].length});return a.length&&(c=Object.create(c),
c.coordinates=a,c)},GeometryCollection:function(c){var a=c.geometries.map(s).filter(e);return a.length&&(c=Object.create(c),c.geometries=a,c)}});return c.origin=function(a){return arguments.length?(h=a,"function"!=typeof h&&n.source(h),c):h},c.angle=function(a){return arguments.length?(l=(k=+a)*aa,c):k},d3.rebind(c,n,"precision")};d3.geo.greatArc=function(){function c(){for(var a=c.distance.apply(this,arguments),f=0,a=k/a,p=[e];1>(f+=a);)p.push(l(f));return p.push(h),{type:"LineString",coordinates:p}}
var a=He,e,f=Ie,h,k=6*aa,l=ud();return c.distance=function(){return"function"==typeof a&&l.source(e=a.apply(this,arguments)),"function"==typeof f&&l.target(h=f.apply(this,arguments)),l.distance()},c.source=function(f){return arguments.length?(a=f,"function"!=typeof a&&l.source(e=a),c):a},c.target=function(a){return arguments.length?(f=a,"function"!=typeof f&&l.target(h=f),c):f},c.precision=function(a){return arguments.length?(k=a*aa,c):k/aa},c};d3.geo.greatCircle=d3.geo.circle;d3.geom={};d3.geom.contour=
function(c,a){var e;if(!(e=a))a:for(var f=e=0;;){if(c(e,f)){e=[e,f];break a}0===e?(e=f+1,f=0):(e-=1,f+=1)}var f=[],h=e[0],k=e[1],l=0,n=0,s=NaN,q=NaN,v=0;do v=0,c(h-1,k-1)&&(v+=1),c(h,k-1)&&(v+=2),c(h-1,k)&&(v+=4),c(h,k)&&(v+=8),6===v?(l=-1===q?-1:1,n=0):9===v?(l=0,n=1===s?-1:1):(l=kf[v],n=lf[v]),l!=s&&n!=q&&(f.push([h,k]),s=l,q=n),h+=l,k+=n;while(e[0]!=h||e[1]!=k);return f};var kf=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN],lf=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];d3.geom.hull=function(c){if(3>c.length)return[];
var a=c.length,e=a-1,f=[],h=[],k,l=0,n,s,q,v,t,C,B;for(k=1;k<a;++k)c[k][1]<c[l][1]?l=k:c[k][1]==c[l][1]&&(l=c[k][0]<c[l][0]?k:l);for(k=0;k<a;++k)k!==l&&(s=c[k][1]-c[l][1],n=c[k][0]-c[l][0],f.push({angle:Math.atan2(s,n),index:k}));f.sort(function(c,a){return c.angle-a.angle});B=f[0].angle;C=f[0].index;t=0;for(k=1;k<e;++k)a=f[k].index,B==f[k].angle?(n=c[C][0]-c[l][0],s=c[C][1]-c[l][1],q=c[a][0]-c[l][0],v=c[a][1]-c[l][1],n*n+s*s>=q*q+v*v?f[k].index=-1:(f[t].index=-1,B=f[k].angle,t=k,C=a)):(B=f[k].angle,
t=k,C=a);h.push(l);for(a=k=0;2>k;++a)-1!==f[a].index&&(h.push(f[a].index),k++);for(l=h.length;a<e;++a)if(-1!==f[a].index){for(;!Je(h[l-2],h[l-1],f[a].index,c);)--l;h[l++]=f[a].index}e=[];for(k=0;k<l;++k)e.push(c[h[k]]);return e};d3.geom.polygon=function(c){return c.area=function(){for(var a=0,e=c.length,f=c[e-1][0]*c[0][1],h=c[e-1][1]*c[0][0];++a<e;)f+=c[a-1][0]*c[a][1],h+=c[a-1][1]*c[a][0];return.5*(h-f)},c.centroid=function(a){var e=-1,f=c.length,h=0,k=0,l,n=c[f-1],s;for(arguments.length||(a=-1/
(6*c.area()));++e<f;)l=n,n=c[e],s=l[0]*n[1]-n[0]*l[1],h+=(l[0]+n[0])*s,k+=(l[1]+n[1])*s;return[h*a,k*a]},c.clip=function(a){for(var e,f=-1,h=c.length,k,l,n=c[h-1],s,q,v;++f<h;){e=a.slice();a.length=0;s=c[f];q=e[(l=e.length)-1];for(k=-1;++k<l;)v=e[k],ic(v,n,s)?(ic(q,n,s)||a.push(wd(q,v,n,s)),a.push(v)):ic(q,n,s)&&a.push(wd(q,v,n,s)),q=v;n=s}return a},c};d3.geom.voronoi=function(c){var a=c.map(function(){return[]});return xd(c,function(c){var e,f,h,k,l,n;1===c.a&&0<=c.b?(e=c.ep.r,f=c.ep.l):(e=c.ep.l,
f=c.ep.r);1===c.a?(l=e?e.y:-1E6,h=c.c-c.b*l,n=f?f.y:1E6,k=c.c-c.b*n):(h=e?e.x:-1E6,l=c.c-c.a*h,k=f?f.x:1E6,n=c.c-c.a*k);e=[h,l];k=[k,n];a[c.region.l.index].push(e,k);a[c.region.r.index].push(e,k)}),a.map(function(a,e){var f=c[e][0],h=c[e][1];return a.forEach(function(c){c.angle=Math.atan2(c[0]-f,c[1]-h)}),a.sort(function(c,a){return c.angle-a.angle}).filter(function(c,e){return!e||1E-10<c.angle-a[e-1].angle})})};var jc={l:"r",r:"l"};d3.geom.delaunay=function(c){var a=c.map(function(){return[]}),e=
[];return xd(c,function(e){a[e.region.l.index].push(c[e.region.r.index])}),a.forEach(function(a,f){var h=c[f],k=h[0],l=h[1];a.forEach(function(c){c.angle=Math.atan2(c[0]-k,c[1]-l)});a.sort(function(c,a){return c.angle-a.angle});for(var p=0,n=a.length-1;p<n;p++)e.push([h,a[p],a[p+1]])}),e};d3.geom.quadtree=function(c,a,e,f,h){function k(c,a,e,f,h,p){if(!isNaN(a.x)&&!isNaN(a.y))if(c.leaf){var n=c.point;n?.01>Math.abs(n.x-a.x)+Math.abs(n.y-a.y)?l(c,a,e,f,h,p):(c.point=null,l(c,n,e,f,h,p),l(c,a,e,f,h,
p)):c.point=a}else l(c,a,e,f,h,p)}function l(c,a,e,f,h,p){var n=.5*(e+h),s=.5*(f+p),q=a.x>=n,v=a.y>=s,w=(v<<1)+q;c.leaf=!1;c=c.nodes[w]||(c.nodes[w]={leaf:!0,nodes:[],point:null});q?e=n:h=n;v?f=s:p=s;k(c,a,e,f,h,p)}var n,s=-1,q=c.length;q&&isNaN(c[0].x)&&(c=c.map(Ke));if(5>arguments.length)if(3===arguments.length)h=f=e,e=a;else{a=e=Infinity;for(f=h=-Infinity;++s<q;)n=c[s],n.x<a&&(a=n.x),n.y<e&&(e=n.y),n.x>f&&(f=n.x),n.y>h&&(h=n.y);n=f-a;s=h-e;n>s?h=e+n:f=a+s}var v={leaf:!0,nodes:[],point:null};return v.add=
function(c){k(v,c,a,e,f,h)},v.visit=function(c){lb(c,v,a,e,f,h)},c.forEach(v.add),v};d3.time={};var wa=Date,Lb="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");Ya.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},
getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ma.setUTCDate.apply(this._,arguments)},setDay:function(){Ma.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ma.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ma.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ma.setUTCMilliseconds.apply(this._,
arguments)},setMinutes:function(){Ma.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ma.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ma.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ma.setTime.apply(this._,arguments)}};var Ma=Date.prototype,Kd=Lb.map(yd),Mb="January February March April May June July August September October November December".split(" "),uc=Mb.map(yd);d3.time.format=function(c){function a(f){for(var h=[],k=-1,l=0,p,n;++k<e;)37==c.charCodeAt(k)&&
(h.push(c.substring(l,k),(n=Nb[p=c.charAt(++k)])?n(f):p),l=k+1);return h.push(c.substring(l,k)),h.join("")}var e=c.length;return a.parse=function(a){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0};if(Db(e,c,a,0)!=a.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);a=new wa;return a.setFullYear(e.y,e.m,e.d),a.setHours(e.H,e.M,e.S,e.L),a},a.toString=function(){return c},a};var Fa=d3.format("02d"),Ld=d3.format("03d"),mf=d3.format("04d"),nf=d3.format("2d"),Md=Eb(Lb),Nd=Eb(Kd),Od=Eb(Mb),of=zd(Mb),Pd=Eb(uc),pf=zd(uc),
Nb={a:function(c){return Kd[c.getDay()]},A:function(c){return Lb[c.getDay()]},b:function(c){return uc[c.getMonth()]},B:function(c){return Mb[c.getMonth()]},c:d3.time.format("%a %b %e %H:%M:%S %Y"),d:function(c){return Fa(c.getDate())},e:function(c){return nf(c.getDate())},H:function(c){return Fa(c.getHours())},I:function(c){return Fa(c.getHours()%12||12)},j:function(c){return Ld(1+d3.time.dayOfYear(c))},L:function(c){return Ld(c.getMilliseconds())},m:function(c){return Fa(c.getMonth()+1)},M:function(c){return Fa(c.getMinutes())},
p:function(c){return 12<=c.getHours()?"PM":"AM"},S:function(c){return Fa(c.getSeconds())},U:function(c){return Fa(d3.time.sundayOfYear(c))},w:function(c){return c.getDay()},W:function(c){return Fa(d3.time.mondayOfYear(c))},x:d3.time.format("%m/%d/%y"),X:d3.time.format("%H:%M:%S"),y:function(c){return Fa(c.getFullYear()%100)},Y:function(c){return mf(c.getFullYear()%1E4)},Z:function(c){var a=c.getTimezoneOffset();c=0<a?"-":"+";var e=~~(Math.abs(a)/60),a=Math.abs(a)%60;return c+Fa(e)+Fa(a)},"%":function(c){return"%"}},
Le={a:function(c,a,e){Nd.lastIndex=0;return(c=Nd.exec(a.substring(e)))?e+c[0].length:-1},A:function(c,a,e){Md.lastIndex=0;return(c=Md.exec(a.substring(e)))?e+c[0].length:-1},b:function(c,a,e){Pd.lastIndex=0;return(a=Pd.exec(a.substring(e)))?(c.m=pf.get(a[0].toLowerCase()),e+a[0].length):-1},B:function(c,a,e){Od.lastIndex=0;return(a=Od.exec(a.substring(e)))?(c.m=of.get(a[0].toLowerCase()),e+a[0].length):-1},c:function(c,a,e){return Db(c,Nb.c.toString(),a,e)},d:Ad,e:Ad,H:Bd,I:Bd,L:function(c,a,e){va.lastIndex=
0;return(a=va.exec(a.substring(e,e+3)))?(c.L=+a[0],e+a[0].length):-1},m:function(c,a,e){va.lastIndex=0;return(a=va.exec(a.substring(e,e+2)))?(c.m=a[0]-1,e+a[0].length):-1},M:function(c,a,e){va.lastIndex=0;return(a=va.exec(a.substring(e,e+2)))?(c.M=+a[0],e+a[0].length):-1},p:function(c,a,e){a=qf.get(a.substring(e,e+=2).toLowerCase());return null==a?-1:(c.p=a,e)},S:function(c,a,e){va.lastIndex=0;return(a=va.exec(a.substring(e,e+2)))?(c.S=+a[0],e+a[0].length):-1},x:function(c,a,e){return Db(c,Nb.x.toString(),
a,e)},X:function(c,a,e){return Db(c,Nb.X.toString(),a,e)},y:function(c,a,e){va.lastIndex=0;if(a=va.exec(a.substring(e,e+2))){var f=+a[0];c=(c.y=f+(68<f?1900:2E3),e+a[0].length)}else c=-1;return c},Y:function(c,a,e){va.lastIndex=0;return(a=va.exec(a.substring(e,e+4)))?(c.y=+a[0],e+a[0].length):-1}},va=/^\s*\d+/,qf=d3.map({am:0,pm:1});d3.time.format.utc=function(c){function a(c){try{wa=Ya;var f=new wa;return f._=c,e(f)}finally{wa=Date}}var e=d3.time.format(c);return a.parse=function(c){try{wa=Ya;var a=
e.parse(c);return a&&a._}finally{wa=Date}},a.toString=e.toString,a};var Qd=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?kc:Qd;kc.parse=function(c){c=new Date(c);return isNaN(c)?null:c};kc.toString=Qd.toString;d3.time.second=Za(function(c){return new wa(1E3*Math.floor(c/1E3))},function(c,a){c.setTime(c.getTime()+1E3*Math.floor(a))},function(c){return c.getSeconds()});d3.time.seconds=d3.time.second.range;d3.time.seconds.utc=d3.time.second.utc.range;d3.time.minute=
Za(function(c){return new wa(6E4*Math.floor(c/6E4))},function(c,a){c.setTime(c.getTime()+6E4*Math.floor(a))},function(c){return c.getMinutes()});d3.time.minutes=d3.time.minute.range;d3.time.minutes.utc=d3.time.minute.utc.range;d3.time.hour=Za(function(c){var a=c.getTimezoneOffset()/60;return new wa(36E5*(Math.floor(c/36E5-a)+a))},function(c,a){c.setTime(c.getTime()+36E5*Math.floor(a))},function(c){return c.getHours()});d3.time.hours=d3.time.hour.range;d3.time.hours.utc=d3.time.hour.utc.range;d3.time.day=
Za(function(c){var a=new wa(1970,0);return a.setFullYear(c.getFullYear(),c.getMonth(),c.getDate()),a},function(c,a){c.setDate(c.getDate()+a)},function(c){return c.getDate()-1});d3.time.days=d3.time.day.range;d3.time.days.utc=d3.time.day.utc.range;d3.time.dayOfYear=function(c){var a=d3.time.year(c);return Math.floor((c-a-6E4*(c.getTimezoneOffset()-a.getTimezoneOffset()))/864E5)};Lb.forEach(function(c,a){c=c.toLowerCase();a=7-a;var e=d3.time[c]=Za(function(c){return(c=d3.time.day(c)).setDate(c.getDate()-
(c.getDay()+a)%7),c},function(c,a){c.setDate(c.getDate()+7*Math.floor(a))},function(c){var e=d3.time.year(c).getDay();return Math.floor((d3.time.dayOfYear(c)+(e+a)%7)/7)-(e!==a)});d3.time[c+"s"]=e.range;d3.time[c+"s"].utc=e.utc.range;d3.time[c+"OfYear"]=function(c){var e=d3.time.year(c).getDay();return Math.floor((d3.time.dayOfYear(c)+(e+a)%7)/7)}});d3.time.week=d3.time.sunday;d3.time.weeks=d3.time.sunday.range;d3.time.weeks.utc=d3.time.sunday.utc.range;d3.time.weekOfYear=d3.time.sundayOfYear;d3.time.month=
Za(function(c){return c=d3.time.day(c),c.setDate(1),c},function(c,a){c.setMonth(c.getMonth()+a)},function(c){return c.getMonth()});d3.time.months=d3.time.month.range;d3.time.months.utc=d3.time.month.utc.range;d3.time.year=Za(function(c){return c=d3.time.day(c),c.setMonth(0,1),c},function(c,a){c.setFullYear(c.getFullYear()+a)},function(c){return c.getFullYear()});d3.time.years=d3.time.year.range;d3.time.years.utc=d3.time.year.utc.range;var Gb=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,
864E5,1728E5,6048E5,2592E6,7776E6,31536E6],vc=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],[d3.time.minute,15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]],rf=[[d3.time.format("%Y"),function(c){return!0}],[d3.time.format("%B"),function(c){return c.getMonth()}],[d3.time.format("%b %d"),
function(c){return 1!=c.getDate()}],[d3.time.format("%a %d"),function(c){return c.getDay()&&1!=c.getDate()}],[d3.time.format("%I %p"),function(c){return c.getHours()}],[d3.time.format("%I:%M"),function(c){return c.getMinutes()}],[d3.time.format(":%S"),function(c){return c.getSeconds()}],[d3.time.format(".%L"),function(c){return c.getMilliseconds()}]],Rd=d3.scale.linear(),sf=Cd(rf);vc.year=function(c,a){return Rd.domain(c.map(Me)).ticks(a).map(nc)};d3.time.scale=function(){return lc(d3.scale.linear(),
vc,sf)};var Sd=vc.map(function(c){return[c[0].utc,c[1]]}),tf=[[d3.time.format.utc("%Y"),function(c){return!0}],[d3.time.format.utc("%B"),function(c){return c.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(c){return 1!=c.getUTCDate()}],[d3.time.format.utc("%a %d"),function(c){return c.getUTCDay()&&1!=c.getUTCDate()}],[d3.time.format.utc("%I %p"),function(c){return c.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(c){return c.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(c){return c.getUTCSeconds()}],
[d3.time.format.utc(".%L"),function(c){return c.getUTCMilliseconds()}]],uf=Cd(tf);Sd.year=function(c,a){return Rd.domain(c.map(Ne)).ticks(a).map(oc)};d3.time.scale.utc=function(){return lc(d3.scale.linear(),Sd,uf)}})();(function(){function h(e){var f=e.source;e=e.target;var h;var k=e;if(f===k)h=f;else{h=a(f);for(var k=a(k),n=h.pop(),q=k.pop(),t=null;n===q;)t=n,n=h.pop(),q=k.pop();h=t}for(k=[f];f!==h;)f=f.parent,k.push(f);for(f=k.length;e!==h;)k.splice(f,0,e),e=e.parent;return k}function a(a){for(var e=[],f=a.parent;null!=f;)e.push(a),a=f,f=f.parent;return e.push(a),e}function e(a){a.fixed|=2}function f(a){a!==L&&(a.fixed&=1)}function k(){n();L.fixed&=1;ja=L=null}function n(){L.px+=d3.event.dx;L.py+=d3.event.dy;
ja.resume()}function q(a,e,f){var h=0,k=0;a.charge=0;if(!a.leaf)for(var n=a.nodes,t=n.length,u=-1,B;++u<t;)B=n[u],null!=B&&(q(B,e,f),a.charge+=B.charge,h+=B.charge*B.cx,k+=B.charge*B.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5),e*=f[a.point.index],a.charge+=a.pointCharge=e,h+=e*a.point.x,k+=e*a.point.y);a.cx=h/a.charge;a.cy=k/a.charge}function D(a){return 20}function K(a){return 1}function P(a){return a.x}function J(a){return a.y}function z(a,e,f){a.y0=e;a.y=f}function A(a){for(var e=
1,f=0,h=a[0][1],k,n=a.length;e<n;++e)(k=a[e][1])>h&&(f=e,h=k);return f}function t(a){return a.reduce(u,0)}function u(a,e){return a+e[1]}function W(a,e){return ca(a,Math.ceil(Math.log(e.length)/Math.LN2+1))}function ca(a,e){for(var f=-1,h=+a[0],k=(a[1]-h)/e,n=[];++f<=e;)n[f]=k*f+h;return n}function O(a){return[d3.min(a),d3.max(a)]}function Y(a,e){return a.sort=d3.rebind(a,e.sort),a.children=d3.rebind(a,e.children),a.links=oa,a.value=d3.rebind(a,e.value),a.nodes=function(e){return S=!0,(a.nodes=a)(e)},
a}function ba(a){return a.children}function ha(a){return a.value}function da(a,e){return e.value-a.value}function oa(a){return d3.merge(a.map(function(a){return(a.children||[]).map(function(e){return{source:a,target:e}})}))}function bb(a,e){return a.value-e.value}function qa(a,e){var f=a._pack_next;a._pack_next=e;e._pack_prev=a;e._pack_next=f;f._pack_prev=e}function Sa(a,e){a._pack_next=e;e._pack_prev=a}function Oa(a,e){var f=e.x-a.x,h=e.y-a.y,k=a.r+e.r;return.001<k*k-f*f-h*h}function ab(a){function e(a){f=
Math.min(a.x-a.r,f);h=Math.max(a.x+a.r,h);k=Math.min(a.y-a.r,k);n=Math.max(a.y+a.r,n)}var f=Infinity,h=-Infinity,k=Infinity,n=-Infinity,q=a.length,t,B,u,A,z;a.forEach(Ta);t=a[0];t.x=-t.r;t.y=0;e(t);if(1<q&&(B=a[1],B.x=B.r,B.y=0,e(B),2<q)){u=a[2];Ca(t,B,u);e(u);qa(t,u);t._pack_prev=u;qa(u,B);B=t._pack_next;for(var E=3;E<q;E++){Ca(t,B,u=a[E]);var D=0,J=1,I=1;for(A=B._pack_next;A!==B;A=A._pack_next,J++)if(Oa(A,u)){D=1;break}if(1==D)for(z=t._pack_prev;z!==A._pack_prev;z=z._pack_prev,I++)if(Oa(z,u)){I<
J&&(D=-1,A=z);break}0==D?(qa(t,u),B=u,e(u)):0<D?(Sa(t,A),B=A,E--):(Sa(A,B),t=A,E--)}}t=(f+h)/2;B=(k+n)/2;for(E=u=0;E<q;E++)A=a[E],A.x-=t,A.y-=B,u=Math.max(u,A.r+Math.sqrt(A.x*A.x+A.y*A.y));return a.forEach(Ja),u}function Ta(a){a._pack_next=a._pack_prev=a}function Ja(a){delete a._pack_next;delete a._pack_prev}function Pa(a){var e=a.children;e&&e.length?(e.forEach(Pa),a.r=ab(e)):a.r=Math.sqrt(a.value)}function $a(a,e,f,h){var k=a.children;a.x=e+=h*a.x;a.y=f+=h*a.y;a.r*=h;if(k){a=-1;for(var n=k.length;++a<
n;)$a(k[a],e,f,h)}}function Ca(a,e,f){var h=a.r+f.r,k=e.x-a.x,n=e.y-a.y;if(h&&(k||n)){var q=e.r+f.r;e=Math.sqrt(k*k+n*n);var t=Math.max(-1,Math.min(1,(h*h+e*e-q*q)/(2*h*e))),q=Math.acos(t);e=t*(h/=e);h*=Math.sin(q);f.x=a.x+e*k+h*n;f.y=a.y+e*n-h*k}else f.x=a.x+h,f.y=a.y}function ya(a){return 1+d3.max(a,function(a){return a.y})}function Qa(a){return a.reduce(function(a,e){return a+e.x},0)/a.length}function za(a){var e=a.children;return e&&e.length?za(e[0]):a}function Da(a){var e=a.children,f;return e&&
(f=e.length)?Da(e[f-1]):a}function Ua(a,e){return a.parent==e.parent?1:2}function Ka(a){var e=a.children;return e&&e.length?e[0]:a._tree.thread}function Ga(a){var e=a.children,f;return e&&(f=e.length)?e[f-1]:a._tree.thread}function Ea(a,e){var f=a.children;if(f&&(k=f.length))for(var h,k,n=-1;++n<k;)0<e(h=Ea(f[n],e),a)&&(a=h);return a}function Ha(a,e){return a.x-e.x}function Na(a,e){return e.x-a.x}function Z(a,e){return a.depth-e.depth}function H(a,e){function f(a,h){var k=a.children;if(k&&(t=k.length))for(var l,
n=null,q=-1,t;++q<t;)l=k[q],f(l,n),n=l;e(a,h)}f(a,null)}function ta(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function Aa(a,e){var f=a.x+e[3],h=a.y+e[0],k=a.dx-e[1]-e[3],n=a.dy-e[0]-e[2];return 0>k&&(f+=k/2,k=0),0>n&&(h+=n/2,n=0),{x:f,y:h,dx:k,dy:n}}d3.layout={};d3.layout.bundle=function(){return function(a){for(var e=[],f=-1,k=a.length;++f<k;)e.push(h(a[f]));return e}};d3.layout.chord=function(){function a(){var f={},l=[],C=d3.range(q),z=[],I,D,J,H,K;h=[];k=[];I=0;for(H=-1;++H<q;){D=0;for(K=-1;++K<
q;)D+=n[H][K];l.push(D);z.push(d3.range(q));I+=D}B&&C.sort(function(a,e){return B(l[a],l[e])});u&&z.forEach(function(a,e){a.sort(function(a,f){return u(n[e][a],n[e][f])})});I=(2*Math.PI-t*q)/I;D=0;for(H=-1;++H<q;){J=D;for(K=-1;++K<q;){var L=C[H],O=z[L][K],Ra=n[L][O],P=D,S=D+=Ra*I;f[L+"-"+O]={index:L,subindex:O,startAngle:P,endAngle:S,value:Ra}}k.push({index:L,startAngle:J,endAngle:D,value:(D-J)/I});D+=t}for(H=-1;++H<q;)for(K=H-1;++K<q;)C=f[H+"-"+K],z=f[K+"-"+H],(C.value||z.value)&&h.push(C.value<
z.value?{source:z,target:C}:{source:C,target:z});A&&e()}function e(){h.sort(function(a,e){return A((a.source.value+a.target.value)/2,(e.source.value+e.target.value)/2)})}var f={},h,k,n,q,t=0,B,u,A;return f.matrix=function(a){return arguments.length?(q=(n=a)&&n.length,h=k=null,f):n},f.padding=function(a){return arguments.length?(t=a,h=k=null,f):t},f.sortGroups=function(a){return arguments.length?(B=a,h=k=null,f):B},f.sortSubgroups=function(a){return arguments.length?(u=a,h=null,f):u},f.sortChords=
function(a){return arguments.length?(A=a,h&&e(),f):A},f.chords=function(){return h||a(),h},f.groups=function(){return k||a(),k},f};d3.layout.force=function(){function a(e){return function(a,f,h,k,l){if(a.point!==e){h=a.cx-e.x;l=a.cy-e.y;var n=1/Math.sqrt(h*h+l*l);if((k-f)*n<U)return f=a.charge*n*n,e.px-=h*f,e.py-=l*f,!0;a.point&&isFinite(n)&&(f=a.pointCharge*n*n,e.px-=h*f,e.py-=l*f)}return!a.charge}}function h(){var e=P.length,f=I.length,k,n,s,t,u,C,z;for(k=0;k<f;++k)if(n=I[k],s=n.source,t=n.target,
C=t.x-s.x,z=t.y-s.y,u=C*C+z*z)u=H*S[k]*((u=Math.sqrt(u))-V[k])/u,C*=u,z*=u,t.x-=C*(u=s.weight/(t.weight+s.weight)),t.y-=z*u,s.x+=C*(u=1-u),s.y+=z*u;if(u=H*E)if(C=v[0]/2,z=v[1]/2,k=-1,u)for(;++k<e;)n=P[k],n.x+=(C-n.x)*u,n.y+=(z-n.y)*u;if(O)for(q(f=d3.geom.quadtree(P),H,Y),k=-1;++k<e;)(n=P[k]).fixed||f.visit(a(n));for(k=-1;++k<e;)n=P[k],n.fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*B,n.y-=(n.py-(n.py=n.y))*B);return A.tick({type:"tick",alpha:H}),.005>(H*=.99)}function t(a){e(L=a);ja=u}var u={},
A=d3.dispatch("tick"),v=[1,1],z,H,B=.9,J=D,M=K,O=-30,E=.1,U=.8,P=[],I=[],V,S,Y;return u.on=function(a,e){return A.on(a,e),u},u.nodes=function(a){return arguments.length?(P=a,u):P},u.links=function(a){return arguments.length?(I=a,u):I},u.size=function(a){return arguments.length?(v=a,u):v},u.linkDistance=function(a){return arguments.length?(J=d3.functor(a),u):J},u.distance=u.linkDistance,u.linkStrength=function(a){return arguments.length?(M=d3.functor(a),u):M},u.friction=function(a){return arguments.length?
(B=a,u):B},u.charge=function(a){return arguments.length?(O="function"==typeof a?a:+a,u):O},u.gravity=function(a){return arguments.length?(E=a,u):E},u.theta=function(a){return arguments.length?(U=a,u):U},u.start=function(){function a(l,n){var s;if(!q){q=[];for(f=0;f<h;++f)q[f]=[];for(f=0;f<k;++f)s=I[f],q[s.source.index].push(s.target),q[s.target.index].push(s.source)}s=q[e];for(var v=-1,t=s.length,u;++v<t;)if(!isNaN(u=s[v][l]))return u;return Math.random()*n}var e,f,h=P.length,k=I.length,l=v[0],n=
v[1],q,s;for(e=0;e<h;++e)(s=P[e]).index=e,s.weight=0;V=[];S=[];for(e=0;e<k;++e)s=I[e],"number"==typeof s.source&&(s.source=P[s.source]),"number"==typeof s.target&&(s.target=P[s.target]),V[e]=J.call(this,s,e),S[e]=M.call(this,s,e),++s.source.weight,++s.target.weight;for(e=0;e<h;++e)s=P[e],isNaN(s.x)&&(s.x=a("x",l)),isNaN(s.y)&&(s.y=a("y",n)),isNaN(s.px)&&(s.px=s.x),isNaN(s.py)&&(s.py=s.y);Y=[];if("function"==typeof O)for(e=0;e<h;++e)Y[e]=+O.call(this,P[e],e);else for(e=0;e<h;++e)Y[e]=O;return u.resume()},
u.resume=function(){return H=.1,d3.timer(h),u},u.stop=function(){return H=0,u},u.drag=function(){z||(z=d3.behavior.drag().on("dragstart",t).on("drag",n).on("dragend",k));this.on("mouseover.force",e).on("mouseout.force",f).call(z)},u};var ja,L;d3.layout.partition=function(){function a(e,f,h,k){var n=e.children;e.x=f;e.y=e.depth*k;e.dx=h;e.dy=k;if(n&&(s=n.length)){var q=-1,s,t;for(h=e.value?h/e.value:0;++q<s;)a(t=n[q],f,e=t.value*h,k),f+=e}}function e(a){a=a.children;var f=0;if(a&&(k=a.length))for(var h=
-1,k;++h<k;)f=Math.max(f,e(a[h]));return 1+f}function f(n,q){var t=h.call(this,n,q);return a(t[0],0,k[0],k[1]/e(t[0])),t}var h=d3.layout.hierarchy(),k=[1,1];return f.size=function(a){return arguments.length?(k=a,f):k},Y(f,h)};d3.layout.pie=function(){function a(n,q){var t=n.map(function(f,h){return+e.call(a,f,h)}),u=+("function"==typeof h?h.apply(this,arguments):h),A=(("function"==typeof k?k.apply(this,arguments):k)-h)/d3.sum(t),z=d3.range(n.length);null!=f&&z.sort(f===ka?function(a,e){return t[e]-
t[a]}:function(a,e){return f(n[a],n[e])});var D=z.map(function(a){return{data:n[a],value:d=t[a],startAngle:u,endAngle:u+=d*A}});return n.map(function(a,e){return D[z[e]]})}var e=Number,f=ka,h=0,k=2*Math.PI;return a.value=function(f){return arguments.length?(e=f,a):e},a.sort=function(e){return arguments.length?(f=e,a):f},a.startAngle=function(e){return arguments.length?(h=e,a):h},a.endAngle=function(e){return arguments.length?(k=e,a):k},a};var ka={};d3.layout.stack=function(){function a(t,u){var A=
t.map(function(f,h){return e.call(a,f,h)}),z=A.map(function(e,f){return e.map(function(e,f){return[n.call(a,e,f),q.call(a,e,f)]})}),D=f.call(a,z,u),A=d3.permute(A,D),z=d3.permute(z,D),D=h.call(a,z,u),E=A.length,H=A[0].length,J,I,K;for(I=0;I<H;++I)for(k.call(a,A[0][I],K=D[I],z[0][I][1]),J=1;J<E;++J)k.call(a,A[J][I],K+=z[J-1][I][1],z[J][I][1]);return t}var e=Object,f=ma["default"],h=na.zero,k=z,n=P,q=J;return a.values=function(f){return arguments.length?(e=f,a):e},a.order=function(e){return arguments.length?
(f="function"==typeof e?e:ma[e],a):f},a.offset=function(e){return arguments.length?(h="function"==typeof e?e:na[e],a):h},a.x=function(e){return arguments.length?(n=e,a):n},a.y=function(e){return arguments.length?(q=e,a):q},a.out=function(e){return arguments.length?(k=e,a):k},a};var ma={"inside-out":function(a){var e=a.length,f,h=a.map(A),k=a.map(t),n=d3.range(e).sort(function(a,e){return h[a]-h[e]}),q=0,u=0,B=[],z=[];for(a=0;a<e;++a)f=n[a],q<u?(q+=k[f],B.push(f)):(u+=k[f],z.push(f));return z.reverse().concat(B)},
reverse:function(a){return d3.range(a.length).reverse()},"default":function(a){return d3.range(a.length)}},na={silhouette:function(a){var e=a.length,f=a[0].length,h=[],k=0,n,q,t,u=[];for(q=0;q<f;++q){for(t=n=0;n<e;n++)t+=a[n][q][1];t>k&&(k=t);h.push(t)}for(q=0;q<f;++q)u[q]=(k-h[q])/2;return u},wiggle:function(a){var e=a.length,f=a[0],h=f.length,k,n,q,t,u,A,z,D,E,H=[];H[0]=D=E=0;for(n=1;n<h;++n){for(t=k=0;k<e;++k)t+=a[k][n][1];u=k=0;for(z=f[n][0]-f[n-1][0];k<e;++k){q=0;for(A=(a[k][n][1]-a[k][n-1][1])/
(2*z);q<k;++q)A+=(a[q][n][1]-a[q][n-1][1])/z;u+=A*a[k][n][1]}H[n]=D-=t?u/t*z:0;D<E&&(E=D)}for(n=0;n<h;++n)H[n]-=E;return H},expand:function(a){var e=a.length,f=a[0].length,h=1/e,k,n,q,t=[];for(n=0;n<f;++n){for(q=k=0;k<e;k++)q+=a[k][n][1];if(q)for(k=0;k<e;k++)a[k][n][1]/=q;else for(k=0;k<e;k++)a[k][n][1]=h}for(n=0;n<f;++n)t[n]=0;return t},zero:function(a){var e=-1;a=a[0].length;for(var f=[];++e<a;)f[e]=0;return f}};d3.layout.histogram=function(){function a(l,n){var q=[],t=l.map(f,this),u=h.call(this,
t,n),A=k.call(this,u,t,n),z;n=-1;for(var D=t.length,H=A.length-1,J=e?1:1/D,I;++n<H;)z=q[n]=[],z.dx=A[n+1]-(z.x=A[n]),z.y=0;for(n=-1;++n<D;)I=t[n],I>=u[0]&&I<=u[1]&&(z=q[d3.bisect(A,I,1,H)-1],z.y+=J,z.push(l[n]));return q}var e=!0,f=Number,h=O,k=W;return a.value=function(e){return arguments.length?(f=e,a):f},a.range=function(e){return arguments.length?(h=d3.functor(e),a):h},a.bins=function(e){return arguments.length?(k="number"==typeof e?function(a){return ca(a,e)}:d3.functor(e),a):k},a.frequency=
function(f){return arguments.length?(e=!!f,a):e},a};d3.layout.hierarchy=function(){function a(e,q,s){var t=k.call(f,e,q),u=S?e:{data:e};u.depth=q;s.push(u);if(t&&(A=t.length)){e=-1;var A,z=u.children=[],D=0;for(q+=1;++e<A;)d=a(t[e],q,s),d.parent=u,z.push(d),D+=d.value;h&&z.sort(h);n&&(u.value=D)}else n&&(u.value=+n.call(f,e,q)||0);return u}function e(a,h){var k=a.children,l=0;if(k&&(t=k.length))for(var q=-1,t,u=h+1;++q<t;)l+=e(k[q],u);else n&&(l=+n.call(f,S?a:a.data,h)||0);return n&&(a.value=l),l}
function f(e){var h=[];return a(e,0,h),h}var h=da,k=ba,n=ha;return f.sort=function(a){return arguments.length?(h=a,f):h},f.children=function(a){return arguments.length?(k=a,f):k},f.value=function(a){return arguments.length?(n=a,f):n},f.revalue=function(a){return e(a,0),a},f};var S=!1;d3.layout.pack=function(){function a(h,k){var l=e.call(this,h,k),n=l[0];n.x=0;n.y=0;Pa(n);var q=f[0],t=f[1],u=1/Math.max(2*n.r/q,2*n.r/t);return $a(n,q/2,t/2,u),l}var e=d3.layout.hierarchy().sort(bb),f=[1,1];return a.size=
function(e){return arguments.length?(f=e,a):f},Y(a,e)};d3.layout.cluster=function(){function a(k,l){var n=e.call(this,k,l),q=n[0],t,u=0;H(q,function(a){var e=a.children;e&&e.length?(a.x=Qa(e),a.y=ya(e)):(a.x=t?u+=f(a,t):0,a.y=0,t=a)});var A=za(q),z=Da(q),D=A.x-f(A,z)/2,J=z.x+f(z,A)/2;return H(q,function(a){a.x=(a.x-D)/(J-D)*h[0];a.y=(1-a.y/q.y)*h[1]}),n}var e=d3.layout.hierarchy().sort(null).value(null),f=Ua,h=[1,1];return a.separation=function(e){return arguments.length?(f=e,a):f},a.size=function(e){return arguments.length?
(h=e,a):h},Y(a,e)};d3.layout.tree=function(){function a(k,l){function n(a,e){var h=a.children,k=a._tree;if(h&&(l=h.length)){for(var l,q=h[0],s,t=q,u,v=-1;++v<l;){u=h[v];n(u,s);var A=u;if(s){for(var z=A,B=A,D=A.parent.children[0],E=z._tree.mod,I=B._tree.mod,H=s._tree.mod,J=D._tree.mod,K=void 0;s=Ga(s),z=Ka(z),s&&z;){D=Ka(D);B=Ga(B);B._tree.ancestor=A;K=s._tree.prelim+H-z._tree.prelim-E+f(s,z);if(0<K){var L=s._tree.ancestor.parent==A.parent?s._tree.ancestor:t,M=A,U=K,L=L._tree,M=M._tree,N=U/(M.number-
L.number);L.change+=N;M.change-=N;M.shift+=U;M.prelim+=U;M.mod+=U;E+=K;I+=K}H+=s._tree.mod;E+=z._tree.mod;J+=D._tree.mod;I+=B._tree.mod}s&&!Ga(B)&&(B._tree.thread=s,B._tree.mod+=H-I);z&&!Ka(D)&&(D._tree.thread=z,D._tree.mod+=E-J,t=A)}s=u}l=h=0;v=a.children;for(A=v.length;0<=--A;)t=v[A]._tree,t.prelim+=h,t.mod+=h,h+=t.shift+(l+=t.change);q=.5*(q._tree.prelim+u._tree.prelim);e?(k.prelim=e._tree.prelim+f(a,e),k.mod=k.prelim-q):k.prelim=q}else e&&(k.prelim=e._tree.prelim+f(a,e))}function q(a,e){a.x=a._tree.prelim+
e;var f=a.children;if(f&&(k=f.length)){var h=-1,k;for(e+=a._tree.mod;++h<k;)q(f[h],e)}}var t=e.call(this,k,l),u=t[0];H(u,function(a,e){a._tree={ancestor:a,prelim:0,mod:0,change:0,shift:0,number:e?e._tree.number+1:0}});n(u);q(u,-u._tree.prelim);var A=Ea(u,Na),z=Ea(u,Ha),D=Ea(u,Z),J=A.x-f(A,z)/2,K=z.x+f(z,A)/2,I=D.depth||1;return H(u,function(a){a.x=(a.x-J)/(K-J)*h[0];a.y=a.depth/I*h[1];delete a._tree}),t}var e=d3.layout.hierarchy().sort(null).value(null),f=Ua,h=[1,1];return a.separation=function(e){return arguments.length?
(f=e,a):f},a.size=function(e){return arguments.length?(h=e,a):h},Y(a,e)};d3.layout.treemap=function(){function a(e,f){for(var h=-1,k=e.length,l,n;++h<k;)n=(l=e[h]).value*(0>f?0:f),l.area=isNaN(n)||0>=n?0:n}function e(f){var k=f.children;if(k&&k.length){var n=A(f),q=[],t=k.slice(),u=Infinity,v,z=Math.min(n.dx,n.dy);a(t,n.dx*n.dy/f.value);for(q.area=0;0<(f=t.length);){q.push(f=t[f-1]);q.area+=f.area;f=z;for(var B=q.area,D=void 0,C=0,H=Infinity,J=-1,K=q.length;++J<K;)if(D=q[J].area)D<H&&(H=D),D>C&&(C=
D);(v=(B*=B,f*=f,B?Math.max(f*C*E/B,B/(f*H*E)):Infinity))<=u?(t.pop(),u=v):(q.area-=q.pop().area,h(q,z,n,!1),z=Math.min(n.dx,n.dy),q.length=q.area=0,u=Infinity)}q.length&&(h(q,z,n,!0),q.length=q.area=0);k.forEach(e)}}function f(e){var k=e.children;if(k&&k.length){var n=A(e),q=k.slice(),s=[];a(q,n.dx*n.dy/e.value);for(s.area=0;e=q.pop();)s.push(e),s.area+=e.area,null!=e.z&&(h(s,e.z?n.dx:n.dy,n,!q.length),s.length=s.area=0);k.forEach(f)}}function h(a,e,f,k){var n=-1,l=a.length,s=f.x,t=f.y,u=e?q(a.area/
e):0,v;if(e==f.dx){if(k||u>f.dy)u=u?f.dy:0;for(;++n<l;)v=a[n],v.x=s,v.y=t,v.dy=u,s+=v.dx=u?q(v.area/u):0;v.z=!0;v.dx+=f.x+f.dx-s;f.y+=u;f.dy-=u}else{if(k||u>f.dx)u=u?f.dx:0;for(;++n<l;)v=a[n],v.x=s,v.y=t,v.dx=u,t+=v.dy=u?q(v.area/u):0;v.z=!1;v.dy+=f.y+f.dy-t;f.x+=u;f.dx-=u}}function k(h){h=D||n(h);var q=h[0];return q.x=0,q.y=0,q.dx=t[0],q.dy=t[1],D&&n.revalue(q),a([q],q.dx*q.dy/q.value),(D?f:e)(q),z&&(D=h),h}var n=d3.layout.hierarchy(),q=Math.round,t=[1,1],u=null,A=ta,z=!1,D,E=.5*(1+Math.sqrt(5));
return k.size=function(a){return arguments.length?(t=a,k):t},k.padding=function(a){function e(f){var h=a.call(k,f,f.depth);return null==h?ta(f):Aa(f,"number"==typeof h?[h,h,h,h]:h)}function f(e){return Aa(e,a)}if(!arguments.length)return u;var h;return A=null==(u=a)?ta:"function"===(h=typeof a)?e:"number"===h?(a=[a,a,a,a],f):f,k},k.round=function(a){return arguments.length?(q=a?Math.round:Number,k):q!=Number},k.sticky=function(a){return arguments.length?(z=a,D=null,k):z},k.ratio=function(a){return arguments.length?
(E=a,k):E},Y(k,n)}})();var Rickshaw={namespace:function(h,a){for(var e=h.split("."),f=Rickshaw,k=1,n=e.length;k<n;k++)currentPart=e[k],f[currentPart]=f[currentPart]||{},f=f[currentPart];return f},keys:function(h){var a=[],e;for(e in h)a.push(e);return a},extend:function(h,a){for(var e in a)h[e]=a[e];return h}};if("undefined"!=typeof module&&module.exports){var d3=require("d3");module.exports=Rickshaw}
(function(h){function a(a,e){for(var f in e)e.hasOwnProperty(f)&&(a[f]=e[f]);return a}function e(a){if(f(a)!==u)throw new TypeError;var e=[],h;for(h in a)a.hasOwnProperty(h)&&e.push(h);return e}function f(a){switch(a){case null:return P;case void 0:return J}switch(typeof a){case "boolean":return z;case "number":return A;case "string":return t}return u}function k(a){a=a.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");
return 1!=a.length||a[0]?a:[]}function n(a,e){return function(){var f=q([D(a,this)],arguments);return e.apply(this,f)}}function q(a,e){for(var f=a.length,h=e.length;h--;)a[f+h]=e[h];return a}function D(a,e){if(2>arguments.length&&"undefined"==typeof arguments[0])return this;var f=a,h=W.call(arguments,2);return function(){var a,k=h;a=arguments;a=(k=W.call(k,0),q(k,a));return f.apply(e,a)}}var K=Object.prototype.toString,P="Null",J="Undefined",z="Boolean",A="Number",t="String",u="Object",W=Array.prototype.slice,
ca=function(){},O=function(){function f(){}var h=function(){for(var a in{toString:1})if("toString"===a)return!1;return!0}();return{create:function(){function e(){this.initialize.apply(this,arguments)}var h=null,k=[].slice.apply(arguments);"[object Function]"===K.call(k[0])&&(h=k.shift());a(e,O.Methods);e.superclass=h;e.subclasses=[];if(h){f.prototype=h.prototype;e.prototype=new f;try{h.subclasses.push(e)}catch(n){}}for(var h=0,q=k.length;h<q;h++)e.addMethods(k[h]);return e.prototype.initialize||(e.prototype.initialize=
ca),e.prototype.constructor=e,e},Methods:{addMethods:function(a){var f=this.superclass&&this.superclass.prototype,q=e(a);h&&(a.toString!=Object.prototype.toString&&q.push("toString"),a.valueOf!=Object.prototype.valueOf&&q.push("valueOf"));for(var t=0,u=q.length;t<u;t++){var z=q[t],A=a[z];if(f&&"[object Function]"===K.call(A)&&"$super"==k(A)[0]){var J=A,A=n(function(a){return function(){return f[a].apply(this,arguments)}}(z),J);A.valueOf=D(J.valueOf,J);A.toString=D(J.toString,J)}this.prototype[z]=
A}return this}}}}();h.exports?h.exports.Class=O:h.Class=O})(Rickshaw);Rickshaw.namespace("Rickshaw.Compat.ClassList");
Rickshaw.Compat.ClassList=function(){"undefined"==typeof document||"classList"in document.createElement("a")||function(h){h=(h.HTMLElement||h.Element).prototype;var a=Object,e=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},f=Array.prototype.indexOf||function(a){for(var e=0,f=this.length;e<f;e++)if(e in this&&this[e]===a)return e;return-1},k=function(a,e){this.name=a;this.code=DOMException[a];this.message=e},n=function(a,e){if(""===e)throw new k("SYNTAX_ERR","An invalid or illegal string was specified");
if(/\s/.test(e))throw new k("INVALID_CHARACTER_ERR","String contains an invalid character");return f.call(a,e)},q=function(a){for(var f=e.call(a.className),f=f?f.split(/\s+/):[],h=0,k=f.length;h<k;h++)this.push(f[h]);this._updateClassName=function(){a.className=this.toString()}},D=q.prototype=[],K=function(){return new q(this)};k.prototype=Error.prototype;D.item=function(a){return this[a]||null};D.contains=function(a){return a+="",-1!==n(this,a)};D.add=function(a){a+="";-1===n(this,a)&&(this.push(a),
this._updateClassName())};D.remove=function(a){a=n(this,a+"");-1!==a&&(this.splice(a,1),this._updateClassName())};D.toggle=function(a){a+="";-1===n(this,a)?this.add(a):this.remove(a)};D.toString=function(){return this.join(" ")};if(a.defineProperty){D={get:K,enumerable:!0,configurable:!0};try{a.defineProperty(h,"classList",D)}catch(P){-2146823252===P.number&&(D.enumerable=!1,a.defineProperty(h,"classList",D))}}else a.prototype.__defineGetter__&&h.__defineGetter__("classList",K)}(window)};
("undefined"!=typeof RICKSHAW_NO_COMPAT&&!RICKSHAW_NO_COMPAT||"undefined"==typeof RICKSHAW_NO_COMPAT)&&new Rickshaw.Compat.ClassList;Rickshaw.namespace("Rickshaw.Graph");
Rickshaw.Graph=function(h){this.element=h.element;this.series=h.series;this.defaults={interpolation:"cardinal",offset:"zero",min:void 0,max:void 0};Rickshaw.keys(this.defaults).forEach(function(a){this[a]=h[a]||this.defaults[a]},this);this.window={};this.updateCallbacks=[];var a=this;this.initialize=function(e){this.validateSeries(e.series);this.series.active=function(){return a.series.filter(function(a){return!a.disabled})};this.setSize({width:e.width,height:e.height});this.element.classList.add("rickshaw_graph");
this.vis=d3.select(this.element).append("svg:svg").attr("width",this.width).attr("height",this.height);[Rickshaw.Graph.Renderer.Stack,Rickshaw.Graph.Renderer.Line,Rickshaw.Graph.Renderer.Bar,Rickshaw.Graph.Renderer.Area,Rickshaw.Graph.Renderer.ScatterPlot].forEach(function(e){e&&a.registerRenderer(new e({graph:a}))});this.setRenderer(e.renderer||"stack",e);this.discoverRange()};this.validateSeries=function(a){if(!(a instanceof Array||a instanceof Rickshaw.Series))throw"series is not an array: "+Object.prototype.toString.apply(a);
var f;a.forEach(function(a){if(!(a instanceof Object))throw"series element is not an object: "+a;if(!a.data)throw"series has no data: "+JSON.stringify(a);if(!(a.data instanceof Array))throw"series data is not an array: "+JSON.stringify(a.data);if((f=f||a.data.length)&&a.data.length!=f)throw"series cannot have differing numbers of points: "+f+" vs "+a.data.length+"; see Rickshaw.Series.zeroFill()";var e=typeof a.data[0].x;a=typeof a.data[0].y;if("number"!=e||"number"!=a)throw"x and y properties of points should be numbers instead of "+
e+" and "+a;})};this.dataDomain=function(){var a=this.series[0].data;return[a[0].x,a.slice(-1).shift().x]};this.discoverRange=function(){var a=this.renderer.domain();this.x=d3.scale.linear().domain(a.x).range([0,this.width]);this.y=d3.scale.linear().domain(a.y).range([this.height,0]);this.y.magnitude=d3.scale.linear().domain([a.y[0]-a.y[0],a.y[1]-a.y[0]]).range([0,this.height])};this.update=this.render=function(){this.stackData();this.discoverRange();this.renderer.render();this.updateCallbacks.forEach(function(a){a()})};
this.stackData=function(){var e=this.series.active().map(function(a){return a.data}).map(function(a){return a.filter(function(a){return this._slice(a)},this)},this);this.stackData.hooks.data.forEach(function(f){e=f.f.apply(a,[e])});var f=d3.layout.stack();f.offset(a.offset);var h=f(e);this.stackData.hooks.after.forEach(function(f){h=f.f.apply(a,[e])});var n=0;return this.series.forEach(function(a){a.disabled||(a.stack=h[n++])}),this.stackedData=h,h};this.stackData.hooks={data:[],after:[]};this._slice=
function(a){if(this.window.xMin||this.window.xMax){var f=!0;return this.window.xMin&&a.x<this.window.xMin&&(f=!1),this.window.xMax&&a.x>this.window.xMax&&(f=!1),f}return!0};this.onUpdate=function(a){this.updateCallbacks.push(a)};this.registerRenderer=function(a){this._renderers=this._renderers||{};this._renderers[a.name]=a};this.configure=function(a){(a.width||a.height)&&this.setSize(a);Rickshaw.keys(this.defaults).forEach(function(f){this[f]=f in a?a[f]:f in this?this[f]:this.defaults[f]},this);
this.setRenderer(a.renderer||this.renderer.name,a)};this.setRenderer=function(a,f){if(!this._renderers[a])throw"couldn't find renderer "+a;this.renderer=this._renderers[a];"object"==typeof f&&this.renderer.configure(f)};this.setSize=function(a){a=a||{};if(void 0!==typeof window)var f=window.getComputedStyle(this.element,null),h=parseInt(f.getPropertyValue("width")),f=parseInt(f.getPropertyValue("height"));this.width=a.width||h||400;this.height=a.height||f||250;this.vis&&this.vis.attr("width",this.width).attr("height",
this.height)};this.initialize(h)};Rickshaw.namespace("Rickshaw.Fixtures.Color");
Rickshaw.Fixtures.Color=function(){this.schemes={};this.schemes.spectrum14="#ecb796 #dc8f70 #b2a470 #92875a #716c49 #d2ed82 #bbe468 #a1d05d #e7cbe6 #d8aad6 #a888c2 #9dc2d3 #649eb9 #387aa3".split(" ").reverse();this.schemes.spectrum2000="#57306f #514c76 #646583 #738394 #6b9c7d #84b665 #a7ca50 #bfe746 #e2f528 #fff726 #ecdd00 #d4b11d #de8800 #de4800 #c91515 #9a0000 #7b0429 #580839 #31082b".split(" ");this.schemes.spectrum2001="#2f243f #3c2c55 #4a3768 #565270 #6b6b7c #72957f #86ad6e #a1bc5e #b8d954 #d3e04e #ccad2a #cc8412 #c1521d #ad3821 #8a1010 #681717 #531e1e #3d1818 #320a1b".split(" ");
this.schemes.classic9="#423d4f #4a6860 #848f39 #a2b73c #ddcb53 #c5a32f #7d5836 #963b20 #7c2626 #491d37 #2f254a".split(" ").reverse();this.schemes.httpStatus={503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"};this.schemes.colorwheel="#b5b6a9 #858772 #785f43 #96557e #4682b4 #65b9ac #73c03a #cb513a".split(" ").reverse();
this.schemes.cool="#5e9d2f #73c03a #4682b4 #7bc3b8 #a9884e #c1b266 #a47493 #c09fb5".split(" ");this.schemes.munin="#00cc00 #0066b3 #ff8000 #ffcc00 #330099 #990099 #ccff00 #ff0000 #808080 #008f00 #00487d #b35a00 #b38f00 #6b006b #8fb300 #b30000 #bebebe #80ff80 #80c9ff #ffc080 #ffe680 #aa80ff #ee00cc #ff8080 #666600 #ffbfff #00ffcc #cc6699 #999900".split(" ")};Rickshaw.namespace("Rickshaw.Fixtures.RandomData");
Rickshaw.Fixtures.RandomData=function(h){h=h||1;var a=200,e=Math.floor((new Date).getTime()/1E3);this.addData=function(f){var k=100*Math.random()+15+a,n=f[0].length,q=1;f.forEach(function(a){var f=20*Math.random(),P=k/25+q++ +15*(Math.cos(n*q*11/960)+2)+7*(Math.cos(n/7)+2)+1*(Math.cos(n/17)+2);a.push({x:n*h+e,y:P+f})});a=.85*k}};Rickshaw.namespace("Rickshaw.Fixtures.Time");
Rickshaw.Fixtures.Time=function(){(new Date).getTimezoneOffset();var h=this;this.months="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");this.units=[{name:"decade",seconds:315576E3,formatter:function(a){return 10*parseInt(a.getUTCFullYear()/10)}},{name:"year",seconds:31557600,formatter:function(a){return a.getUTCFullYear()}},{name:"month",seconds:2635200,formatter:function(a){return h.months[a.getUTCMonth()]}},{name:"week",seconds:604800,formatter:function(a){return h.formatDate(a)}},
{name:"day",seconds:86400,formatter:function(a){return a.getUTCDate()}},{name:"6 hour",seconds:21600,formatter:function(a){return h.formatTime(a)}},{name:"hour",seconds:3600,formatter:function(a){return h.formatTime(a)}},{name:"15 minute",seconds:900,formatter:function(a){return h.formatTime(a)}},{name:"minute",seconds:60,formatter:function(a){return a.getUTCMinutes()}},{name:"15 second",seconds:15,formatter:function(a){return a.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(a){return a.getUTCSeconds()+
"s"}}];this.unit=function(a){return this.units.filter(function(e){return a==e.name}).shift()};this.formatDate=function(a){return a.toUTCString().match(/, (\w+ \w+ \w+)/)[1]};this.formatTime=function(a){return a.toUTCString().match(/(\d+:\d+):/)[1]};this.ceil=function(a,e){if("month"==e.name){var f=new Date(1E3*(a+e.seconds-1)),h=new Date(0);return h.setUTCFullYear(f.getUTCFullYear()),h.setUTCMonth(f.getUTCMonth()),h.setUTCDate(1),h.setUTCHours(0),h.setUTCMinutes(0),h.setUTCSeconds(0),h.setUTCMilliseconds(0),
h.getTime()/1E3}return"year"==e.name?(f=new Date(1E3*(a+e.seconds-1)),h=new Date(0),h.setUTCFullYear(f.getUTCFullYear()),h.setUTCMonth(0),h.setUTCDate(1),h.setUTCHours(0),h.setUTCMinutes(0),h.setUTCSeconds(0),h.setUTCMilliseconds(0),h.getTime()/1E3):Math.ceil(a/e.seconds)*e.seconds}};Rickshaw.namespace("Rickshaw.Fixtures.Number");Rickshaw.Fixtures.Number.formatKMBT=function(h){return 1E12<=h?h/1E12+"T":1E9<=h?h/1E9+"B":1E6<=h?h/1E6+"M":1E3<=h?h/1E3+"K":1>h&&0<h?h.toFixed(2):0==h?"":h};
Rickshaw.Fixtures.Number.formatBase1024KMGTP=function(h){return 0x4000000000000<=h?h/0x4000000000000+"P":1099511627776<=h?h/1099511627776+"T":1073741824<=h?h/1073741824+"G":1048576<=h?h/1048576+"M":1024<=h?h/1024+"K":1>h&&0<h?h.toFixed(2):0==h?"":h};Rickshaw.namespace("Rickshaw.Color.Palette");
Rickshaw.Color.Palette=function(h){var a=new Rickshaw.Fixtures.Color;h=h||{};this.schemes={};this.scheme=a.schemes[h.scheme]||h.scheme||a.schemes.colorwheel;this.generatorIndex=this.runningIndex=0;if(h.interpolatedStopCount){var a=this.scheme.length-1,e,f,k=[];for(e=0;e<a;e++){k.push(this.scheme[e]);var n=d3.interpolateHsl(this.scheme[e],this.scheme[e+1]);for(f=1;f<h.interpolatedStopCount;f++)k.push(n(1/h.interpolatedStopCount*f))}k.push(this.scheme[this.scheme.length-1]);this.scheme=k}this.rotateCount=
this.scheme.length;this.color=function(a){return this.scheme[a]||this.scheme[this.runningIndex++]||this.interpolateColor()||"#808080"};this.interpolateColor=function(){if(Array.isArray(this.scheme)){var a;return this.generatorIndex==2*this.rotateCount-1?(a=d3.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[0])(.5),this.generatorIndex=0,this.rotateCount*=2):(a=d3.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[this.generatorIndex+1])(.5),this.generatorIndex++),this.scheme.push(a),
a}}};Rickshaw.namespace("Rickshaw.Graph.Ajax");
Rickshaw.Graph.Ajax=Rickshaw.Class.create({initialize:function(h){this.dataURL=h.dataURL;this.onData=h.onData||function(a){return a};this.onComplete=h.onComplete||function(){};this.onError=h.onError||function(){};this.args=h;this.request()},request:function(){$.ajax({url:this.dataURL,dataType:"json",success:this.success.bind(this),error:this.error.bind(this)})},error:function(){console.log("error loading dataURL: "+this.dataURL);this.onError(this)},success:function(h,a){h=this.onData(h);this.args.series=
this._splice({data:h,series:this.args.series});this.graph=new Rickshaw.Graph(this.args);this.graph.render();this.onComplete(this)},_splice:function(h){var a=h.data,e=h.series;return h.series?(e.forEach(function(e){var h=e.key||e.name;if(!h)throw"series needs a key or a name";a.forEach(function(a){var q=a.key||a.name;if(!q)throw"data needs a key or a name";h==q&&["color","name","data"].forEach(function(h){e[h]=e[h]||a[h]})})}),e):a}});Rickshaw.namespace("Rickshaw.Graph.Annotate");
Rickshaw.Graph.Annotate=function(h){this.graph=h.graph;this.elements={timeline:h.element};var a=this;this.data={};this.elements.timeline.classList.add("rickshaw_annotation_timeline");this.add=function(e,f,h){a.data[e]=a.data[e]||{boxes:[]};a.data[e].boxes.push({content:f,end:h})};this.update=function(){Rickshaw.keys(a.data).forEach(function(e){var f=a.data[e],h=a.graph.x(e);if(0>h||h>a.graph.x.range()[1])f.element&&(f.line.classList.add("offscreen"),f.element.style.display="none"),f.boxes.forEach(function(a){a.rangeElement&&
a.rangeElement.classList.add("offscreen")});else{if(!f.element){var n=f.element=document.createElement("div");n.classList.add("annotation");this.elements.timeline.appendChild(n);n.addEventListener("click",function(a){n.classList.toggle("active");f.line.classList.toggle("active");f.boxes.forEach(function(a){a.rangeElement&&a.rangeElement.classList.toggle("active")})},!1)}f.element.style.left=h+"px";f.element.style.display="block";f.boxes.forEach(function(e){var n=e.element;n||(n=e.element=document.createElement("div"),
n.classList.add("content"),n.innerHTML=e.content,f.element.appendChild(n),f.line=document.createElement("div"),f.line.classList.add("annotation_line"),a.graph.element.appendChild(f.line),e.end&&(e.rangeElement=document.createElement("div"),e.rangeElement.classList.add("annotation_range"),a.graph.element.appendChild(e.rangeElement)));if(e.end){var n=h,K=Math.min(a.graph.x(e.end),a.graph.x.range()[1]);n>K&&(K=h,n=Math.max(a.graph.x(e.end),a.graph.x.range()[0]));e.rangeElement.style.left=n+"px";e.rangeElement.style.width=
K-n+"px";e.rangeElement.classList.remove("offscreen")}f.line.classList.remove("offscreen");f.line.style.left=h+"px"})}},this)};this.graph.onUpdate(function(){a.update()})};Rickshaw.namespace("Rickshaw.Graph.Axis.Time");
Rickshaw.Graph.Axis.Time=function(h){var a=this;this.graph=h.graph;this.elements=[];this.ticksTreatment=h.ticksTreatment||"plain";this.fixedTimeUnit=h.timeUnit;var e=new Rickshaw.Fixtures.Time;this.appropriateTimeUnit=function(){var a,h=e.units,n=this.graph.x.domain(),q=n[1]-n[0];return h.forEach(function(e){2<=Math.floor(q/e.seconds)&&(a=a||e)}),a||e.units[e.units.length-1]};this.tickOffsets=function(){for(var a=this.graph.x.domain(),h=this.fixedTimeUnit||this.appropriateTimeUnit(),n=Math.ceil((a[1]-
a[0])/h.seconds),a=a[0],q=[],D=0;D<n;D++)tickValue=e.ceil(a,h),a=tickValue+h.seconds/2,q.push({value:tickValue,unit:h});return q};this.render=function(){this.elements.forEach(function(a){a.parentNode.removeChild(a)});this.elements=[];this.tickOffsets().forEach(function(e){if(!(a.graph.x(e.value)>a.graph.x.range()[1])){var h=document.createElement("div");h.style.left=a.graph.x(e.value)+"px";h.classList.add("x_tick");h.classList.add(a.ticksTreatment);var n=document.createElement("div");n.classList.add("title");
n.innerHTML=e.unit.formatter(new Date(1E3*e.value));h.appendChild(n);a.graph.element.appendChild(h);a.elements.push(h)}})};this.graph.onUpdate(function(){a.render()})};Rickshaw.namespace("Rickshaw.Graph.Axis.Y");
Rickshaw.Graph.Axis.Y=function(h){var a=this;this.initialize=function(e){this.graph=e.graph;this.orientation=e.orientation||"right";var f=e.pixelsPerTick||75;this.ticks=e.ticks||Math.floor(this.graph.height/f);this.tickSize=e.tickSize||4;this.ticksTreatment=e.ticksTreatment||"plain";e.element?(this.element=e.element,this.vis=d3.select(e.element).append("svg:svg").attr("class","rickshaw_graph y_axis"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:e.width,height:e.height})):
this.vis=this.graph.vis;this.graph.onUpdate(function(){a.render()})};this.setSize=function(a){a=a||{};if(this.element){if("undefined"!=typeof window){var f=window.getComputedStyle(this.element.parentNode,null),h=parseInt(f.getPropertyValue("width"));if(!a.auto)var n=parseInt(f.getPropertyValue("height"))}this.width=a.width||h||.1*this.graph.width;this.height=a.height||n||this.graph.height;this.vis.attr("width",this.width).attr("height",1.1*this.height);this.element.style.top=-.1*this.height+"px"}};
this.render=function(){this.graph.height!==this._renderHeight&&this.setSize({auto:!0});var a=d3.svg.axis().scale(this.graph.y).orient(this.orientation);a.tickFormat(h.tickFormat||function(a){return a});if("left"==this.orientation)var f="translate("+this.width+", "+.1*this.height+")";this.element&&this.vis.selectAll("*").remove();this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",f).call(a.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));f=
("right"==this.orientation?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(a.ticks(this.ticks).tickSubdivide(0).tickSize(f));this._renderHeight=this.graph.height};this.initialize(h)};Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Highlight");
Rickshaw.Graph.Behavior.Series.Highlight=function(h){this.graph=h.graph;this.legend=h.legend;var a=this,e={};this.addHighlightEvents=function(f){f.element.addEventListener("mouseover",function(h){a.legend.lines.forEach(function(a){f!==a&&(e[a.series.name]=e[a.series.name]||a.series.color,a.series.color=d3.interpolateRgb(a.series.color,d3.rgb("#d8d8d8"))(.8).toString())});a.graph.update()},!1);f.element.addEventListener("mouseout",function(f){a.legend.lines.forEach(function(a){e[a.series.name]&&(a.series.color=
e[a.series.name])});a.graph.update()},!1)};this.legend&&this.legend.lines.forEach(function(e){a.addHighlightEvents(e)})};Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Order");
Rickshaw.Graph.Behavior.Series.Order=function(h){this.graph=h.graph;this.legend=h.legend;var a=this;$(function(){$(a.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(e,f){var h=[];$(a.legend.list).find("li").each(function(a,e){e.series&&h.push(e.series)});for(var n=a.graph.series.length-1;0<=n;n--)a.graph.series[n]=h.shift();a.graph.update()}});$(a.legend.list).disableSelection()});this.graph.onUpdate(function(){var e=window.getComputedStyle(a.legend.element).height;
a.legend.element.style.height=e})};Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Toggle");
Rickshaw.Graph.Behavior.Series.Toggle=function(h){this.graph=h.graph;this.legend=h.legend;var a=this;this.addAnchor=function(e){var f=document.createElement("a");f.innerHTML="&#10004;";f.classList.add("action");e.element.insertBefore(f,e.element.firstChild);f.onclick=function(a){e.series.disabled?(e.series.enable(),e.element.classList.remove("disabled")):(e.series.disable(),e.element.classList.add("disabled"))};e.element.getElementsByTagName("span")[0].onclick=function(f){f=e.series.disabled;if(!f)for(var h=
0;h<a.legend.lines.length;h++){var q=a.legend.lines[h];if(e.series!==q.series&&!q.series.disabled){f=!0;break}}f?(e.series.enable(),e.element.classList.remove("disabled"),a.legend.lines.forEach(function(a){e.series!==a.series&&(a.series.disable(),a.element.classList.add("disabled"))})):a.legend.lines.forEach(function(a){a.series.enable();a.element.classList.remove("disabled")})}};this.legend&&($(this.legend.list).sortable({start:function(a,f){f.item.bind("no.onclick",function(a){a.preventDefault()})},
stop:function(a,f){setTimeout(function(){f.item.unbind("no.onclick")},250)}}),this.legend.lines.forEach(function(e){a.addAnchor(e)}));this._addBehavior=function(){this.graph.series.forEach(function(e){e.disable=function(){if(1>=a.graph.series.length)throw"only one series left";e.disabled=!0;a.graph.update()};e.enable=function(){e.disabled=!1;a.graph.update()}})};this._addBehavior();this.updateBehaviour=function(){this._addBehavior()}};Rickshaw.namespace("Rickshaw.Graph.HoverDetail");
Rickshaw.Graph.HoverDetail=Rickshaw.Class.create({initialize:function(h){var a=this.graph=h.graph;this.xFormatter=h.xFormatter||function(a){return(new Date(1E3*a)).toUTCString()};this.yFormatter=h.yFormatter||function(a){return a.toFixed(2)};var e=this.element=document.createElement("div");e.className="detail";this.visible=!0;a.element.appendChild(e);this.lastEvent=null;this._addListeners();this.onShow=h.onShow;this.onHide=h.onHide;this.onRender=h.onRender;this.formatter=h.formatter||this.formatter},
formatter:function(h,a,e,f,k,n){return h.name+":&nbsp;"+k},update:function(h){if(h=h||this.lastEvent)if(this.lastEvent=h,h.target.nodeName.match(/^(path|svg|rect)$/)){var a=this.graph,e=h.offsetX||h.layerX;h=h.offsetY||h.layerY;for(var f=a.x.invert(e),k=a.stackedData,n=k.slice(-1).shift(),n=d3.scale.linear().domain([n[0].x,n.slice(-1).shift().x]).range([0,n.length]),n=Math.floor(n(f)),q=Math.min(n||0,k[0].length-1);n<k[0].length-1&&k[0][n]&&k[0][n+1];){if(k[0][n].x<=f&&k[0][n+1].x>f){q=n;break}k[0][n+
1]<=f?n++:n--}var f=k[0][q].x,k=this.xFormatter(f),D=a.x(f),K=0,P=a.series.active().map(function(a){return{order:K++,series:a,name:a.name,value:a.stack[q]}}),J,z=a.y.magnitude.invert(a.element.offsetHeight-h);P.sort(function(a,e){return a.value.y0+a.value.y-(e.value.y0+e.value.y)}).forEach(function(e){e.formattedYValue=this.yFormatter.constructor==Array?this.yFormatter[P.indexOf(e)](e.value.y):this.yFormatter(e.value.y);e.graphX=D;e.graphY=a.y(e.value.y0+e.value.y);z>e.value.y0&&z<e.value.y0+e.value.y&&
!J&&(J=e,e.active=!0)},this);this.element.innerHTML="";this.element.style.left=a.x(f)+"px";this.visible&&this.render({detail:P,domainX:f,formattedXValue:k,mouseX:e,mouseY:h})}},hide:function(){this.visible=!1;this.element.classList.add("inactive");"function"==typeof this.onHide&&this.onHide()},show:function(){this.visible=!0;this.element.classList.remove("inactive");"function"==typeof this.onShow&&this.onShow()},render:function(h){var a=h.detail,e=h.domainX,f=h.formattedXValue,k=document.createElement("div");
k.className="x_label";k.innerHTML=f;this.element.appendChild(k);a.forEach(function(a){var h=document.createElement("div");h.className="item";h.innerHTML=this.formatter(a.series,e,a.value.y,f,a.formattedYValue,a);h.style.top=this.graph.y(a.value.y0+a.value.y)+"px";this.element.appendChild(h);var k=document.createElement("div");k.className="dot";k.style.top=h.style.top;k.style.borderColor=a.series.color;this.element.appendChild(k);a.active&&(h.className="item active",k.className="dot active")},this);
this.show();"function"==typeof this.onRender&&this.onRender(h)},_addListeners:function(){this.graph.element.addEventListener("mousemove",function(h){this.visible=!0;this.update(h)}.bind(this),!1);this.graph.onUpdate(function(){this.update()}.bind(this));this.graph.element.addEventListener("mouseout",function(h){!h.relatedTarget||h.relatedTarget.compareDocumentPosition(this.graph.element)&Node.DOCUMENT_POSITION_CONTAINS||this.hide()}.bind(this),!1)}});Rickshaw.namespace("Rickshaw.Graph.JSONP");
Rickshaw.Graph.JSONP=Rickshaw.Class.create(Rickshaw.Graph.Ajax,{request:function(){$.ajax({url:this.dataURL,dataType:"jsonp",success:this.success.bind(this),error:this.error.bind(this)})}});Rickshaw.namespace("Rickshaw.Graph.Legend");
Rickshaw.Graph.Legend=function(h){var a=this.element=h.element;h=this.graph=h.graph;var e=this;a.classList.add("rickshaw_legend");var f=this.list=document.createElement("ul");a.appendChild(f);a=h.series.map(function(a){return a}).reverse();this.lines=[];this.addLine=function(a){var h=document.createElement("li");h.className="line";var q=document.createElement("div");q.className="swatch";q.style.backgroundColor=a.color;h.appendChild(q);q=document.createElement("span");q.className="label";q.innerHTML=
a.name;h.appendChild(q);f.appendChild(h);h.series=a;a.noLegend&&(h.style.display="none");a={element:h,series:a};e.shelving&&(e.shelving.addAnchor(a),e.shelving.updateBehaviour());e.highlighter&&e.highlighter.addHighlightEvents(a);e.lines.push(a)};a.forEach(function(a){e.addLine(a)});h.onUpdate(function(){})};Rickshaw.namespace("Rickshaw.Graph.RangeSlider");
Rickshaw.Graph.RangeSlider=function(h){var a=this.element=h.element,e=this.graph=h.graph;$(function(){$(a).slider({range:!0,min:e.dataDomain()[0],max:e.dataDomain()[1],values:[e.dataDomain()[0],e.dataDomain()[1]],slide:function(a,h){e.window.xMin=h.values[0];e.window.xMax=h.values[1];e.update();e.dataDomain()[0]==h.values[0]&&(e.window.xMin=void 0);e.dataDomain()[1]==h.values[1]&&(e.window.xMax=void 0)}})});a[0].style.width=e.width+"px";e.onUpdate(function(){var f=$(a).slider("option","values");$(a).slider("option",
"min",e.dataDomain()[0]);$(a).slider("option","max",e.dataDomain()[1]);void 0==e.window.xMin&&(f[0]=e.dataDomain()[0]);void 0==e.window.xMax&&(f[1]=e.dataDomain()[1]);$(a).slider("option","values",f)})};Rickshaw.namespace("Rickshaw.Graph.Renderer");
Rickshaw.Graph.Renderer=Rickshaw.Class.create({initialize:function(h){this.graph=h.graph;this.tension=h.tension||this.tension;this.graph.unstacker=this.graph.unstacker||new Rickshaw.Graph.Unstacker({graph:this.graph});this.configure(h)},seriesPathFactory:function(){},seriesStrokeFactory:function(){},defaults:function(){return{tension:.8,strokeWidth:2,unstack:!0,padding:{top:.01,right:0,bottom:.01,left:0},stroke:!1,fill:!1}},domain:function(){var h=[],a=this.graph.stackedData||this.graph.stackData();
(this.unstack?a:[a.slice(-1).shift()]).forEach(function(a){a.forEach(function(a){h.push(a.y+a.y0)})});var e=a[0][0].x,a=a[0][a[0].length-1].x,e=e-(a-e)*this.padding.left,a=a+(a-e)*this.padding.right,f="auto"===this.graph.min?d3.min(h):this.graph.min||0,k=this.graph.max||d3.max(h);if("auto"===this.graph.min||0>f)f-=(k-f)*this.padding.bottom;return void 0===this.graph.max&&(k+=(k-f)*this.padding.top),{x:[e,a],y:[f,k]}},render:function(){var h=this.graph;h.vis.selectAll("*").remove();var a=h.vis.selectAll("path").data(this.graph.stackedData).enter().append("svg:path").attr("d",
this.seriesPathFactory()),e=0;h.series.forEach(function(f){f.disabled||(f.path=a[0][e++],this._styleSeries(f))},this)},_styleSeries:function(h){var a=this.stroke?h.color:"none";h.path.setAttribute("fill",this.fill?h.color:"none");h.path.setAttribute("stroke",a);h.path.setAttribute("stroke-width",this.strokeWidth);h.path.setAttribute("class",h.className)},configure:function(h){h=h||{};Rickshaw.keys(this.defaults()).forEach(function(a){h.hasOwnProperty(a)?"object"==typeof this.defaults()[a]?Rickshaw.keys(this.defaults()[a]).forEach(function(e){this[a][e]=
void 0!==h[a][e]?h[a][e]:void 0!==this[a][e]?this[a][e]:this.defaults()[a][e]},this):this[a]=void 0!==h[a]?h[a]:void 0!==this[a]?this[a]:void 0!==this.graph[a]?this.graph[a]:this.defaults()[a]:this[a]=this[a]||this.graph[a]||this.defaults()[a]},this)},setStrokeWidth:function(h){void 0!==h&&(this.strokeWidth=h)},setTension:function(h){void 0!==h&&(this.tension=h)}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Line");
Rickshaw.Graph.Renderer.Line=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"line",defaults:function($super){return Rickshaw.extend($super(),{unstack:!0,fill:!1,stroke:!0})},seriesPathFactory:function(){var h=this.graph;return d3.svg.line().x(function(a){return h.x(a.x)}).y(function(a){return h.y(a.y)}).interpolate(this.graph.interpolation).tension(this.tension)}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Stack");
Rickshaw.Graph.Renderer.Stack=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"stack",defaults:function($super){return Rickshaw.extend($super(),{fill:!0,stroke:!1,unstack:!1})},seriesPathFactory:function(){var h=this.graph;return d3.svg.area().x(function(a){return h.x(a.x)}).y0(function(a){return h.y(a.y0)}).y1(function(a){return h.y(a.y+a.y0)}).interpolate(this.graph.interpolation).tension(this.tension)}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Bar");
Rickshaw.Graph.Renderer.Bar=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"bar",defaults:function($super){var a=Rickshaw.extend($super(),{gapSize:.05,unstack:!1});return delete a.tension,a},initialize:function($super,a){a=a||{};this.gapSize=a.gapSize||this.gapSize;$super(a)},domain:function($super){var a=$super(),e=this._frequentInterval();return a.x[1]+=parseInt(e.magnitude),a},barWidth:function(){var h=(this.graph.stackedData||this.graph.stackData()).slice(-1).shift(),a=this._frequentInterval();
return this.graph.x(h[0].x+a.magnitude*(1-this.gapSize))},render:function(){var h=this.graph;h.vis.selectAll("*").remove();var a=this.barWidth(),e=0,f=h.series.filter(function(a){return!a.disabled}).length,k=this.unstack?a/f:a,n=function(a){return"matrix("+[1,0,0,0>a.y?-1:1,0,0>a.y?2*h.y.magnitude(Math.abs(a.y)):0].join()+")"};h.series.forEach(function(a){if(!a.disabled){var f=h.vis.selectAll("path").data(a.stack).enter().append("svg:rect").attr("x",function(a){return h.x(a.x)+e}).attr("y",function(a){return h.y(a.y0+
Math.abs(a.y))*(0>a.y?-1:1)}).attr("width",k).attr("height",function(a){return h.y.magnitude(Math.abs(a.y))}).attr("transform",n);Array.prototype.forEach.call(f[0],function(e){e.setAttribute("fill",a.color)});this.unstack&&(e+=k)}},this)},_frequentInterval:function(){for(var h=(this.graph.stackedData||this.graph.stackData()).slice(-1).shift(),a={},e=0;e<h.length-1;e++){var f=h[e+1].x-h[e].x;a[f]=a[f]||0;a[f]++}var k={count:0};return Rickshaw.keys(a).forEach(function(e){k.count<a[e]&&(k={count:a[e],
magnitude:e})}),this._frequentInterval=function(){return k},k}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Area");
Rickshaw.Graph.Renderer.Area=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"area",defaults:function($super){return Rickshaw.extend($super(),{unstack:!1,fill:!1,stroke:!1})},seriesPathFactory:function(){var h=this.graph;return d3.svg.area().x(function(a){return h.x(a.x)}).y0(function(a){return h.y(a.y0)}).y1(function(a){return h.y(a.y+a.y0)}).interpolate(h.interpolation).tension(this.tension)},seriesStrokeFactory:function(){var h=this.graph;return d3.svg.line().x(function(a){return h.x(a.x)}).y(function(a){return h.y(a.y+
a.y0)}).interpolate(h.interpolation).tension(this.tension)},render:function(){var h=this.graph;h.vis.selectAll("*").remove();var a=h.vis.selectAll("path").data(this.graph.stackedData).enter().insert("svg:g","g");a.append("svg:path").attr("d",this.seriesPathFactory()).attr("class","area");this.stroke&&a.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line");var e=0;h.series.forEach(function(f){f.disabled||(f.path=a[0][e++],this._styleSeries(f))},this)},_styleSeries:function(h){h.path&&
(d3.select(h.path).select(".area").attr("fill",h.color),this.stroke&&d3.select(h.path).select(".line").attr("fill","none").attr("stroke",h.stroke||d3.interpolateRgb(h.color,"black")(.125)).attr("stroke-width",this.strokeWidth),h.className&&h.path.setAttribute("class",h.className))}});Rickshaw.namespace("Rickshaw.Graph.Renderer.ScatterPlot");
Rickshaw.Graph.Renderer.ScatterPlot=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"scatterplot",defaults:function($super){return Rickshaw.extend($super(),{unstack:!0,fill:!0,stroke:!1,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:4})},initialize:function($super,a){$super(a)},render:function(){var h=this.graph;h.vis.selectAll("*").remove();h.series.forEach(function(a){if(!a.disabled){var e=h.vis.selectAll("path").data(a.stack).enter().append("svg:circle").attr("cx",function(a){return h.x(a.x)}).attr("cy",
function(a){return h.y(a.y)}).attr("r",function(a){return"r"in a?a.r:h.renderer.dotSize});Array.prototype.forEach.call(e[0],function(e){e.setAttribute("fill",a.color)})}},this)}});Rickshaw.namespace("Rickshaw.Graph.Smoother");
Rickshaw.Graph.Smoother=function(h){this.graph=h.graph;this.element=h.element;var a=this;this.aggregationScale=1;this.element&&$(function(){$(a.element).slider({min:1,max:100,slide:function(e,f){a.setScale(f.value);a.graph.update()}})});a.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:function(e){var f=[];return e.forEach(function(e){for(var h=[];e.length;){var q=0,D=0,K=e.splice(0,a.aggregationScale);K.forEach(function(a){q+=a.x/K.length;D+=a.y/K.length});h.push({x:q,y:D})}f.push(h)}),
f}});this.setScale=function(a){if(1>a)throw"scale out of range: "+a;this.aggregationScale=a;this.graph.update()}};Rickshaw.namespace("Rickshaw.Graph.Unstacker");Rickshaw.Graph.Unstacker=function(h){this.graph=h.graph;var a=this;this.graph.stackData.hooks.after.push({name:"unstacker",f:function(e){return a.graph.renderer.unstack?(e.forEach(function(a){a.forEach(function(a){a.y0=0})}),e):e}})};Rickshaw.namespace("Rickshaw.Series");
Rickshaw.Series=Rickshaw.Class.create(Array,{initialize:function(h,a,e){e=e||{};this.palette=new Rickshaw.Color.Palette(a);this.timeBase="undefined"==typeof e.timeBase?Math.floor((new Date).getTime()/1E3):e.timeBase;this.setTimeInterval("undefined"==typeof e.timeInterval?1E3:e.timeInterval);h&&"object"==typeof h&&h instanceof Array&&h.forEach(function(a){this.addItem(a)},this)},addItem:function(h){if("undefined"==typeof h.name)throw"addItem() needs a name";h.color=h.color||this.palette.color(h.name);
h.data=h.data||[];0==h.data.length&&this.length&&0<this.getIndex()?this[0].data.forEach(function(a){h.data.push({x:a.x,y:0})}):0==h.data.length&&h.data.push({x:this.timeBase-(this.timeInterval||0),y:0});this.push(h);this.legend&&this.legend.addLine(this.itemByName(h.name))},addData:function(h){var a=this.getIndex();Rickshaw.keys(h).forEach(function(a){this.itemByName(a)||this.addItem({name:a})},this);this.forEach(function(e){e.data.push({x:(a*this.timeInterval||1)+this.timeBase,y:h[e.name]||0})},
this)},getIndex:function(){return this[0]&&this[0].data&&this[0].data.length?this[0].data.length:0},itemByName:function(h){for(var a=0;a<this.length;a++)if(this[a].name==h)return this[a]},setTimeInterval:function(h){this.timeInterval=h/1E3},setTimeBase:function(h){this.timeBase=h},dump:function(){var h={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[]};return this.forEach(function(a){var e={color:a.color,name:a.name,data:[]};a.data.forEach(function(a){e.data.push({x:a.x,y:a.y})});h.items.push(e)}),
h},load:function(h){h.timeInterval&&(this.timeInterval=h.timeInterval);h.timeBase&&(this.timeBase=h.timeBase);h.items&&h.items.forEach(function(a){this.push(a);this.legend&&this.legend.addLine(this.itemByName(a.name))},this)}});
Rickshaw.Series.zeroFill=function(h){var a,e=0;for(h=h.map(function(a){return a.data});e<Math.max.apply(null,h.map(function(a){return a.length}));)a=Math.min.apply(null,h.filter(function(a){return a[e]}).map(function(a){return a[e].x})),h.forEach(function(f){f[e]&&f[e].x==a||f.splice(e,0,{x:a,y:0})}),e++};Rickshaw.namespace("Rickshaw.Series.FixedDuration");
Rickshaw.Series.FixedDuration=Rickshaw.Class.create(Rickshaw.Series,{initialize:function(h,a,e){e=e||{};if("undefined"==typeof e.timeInterval)throw Error("FixedDuration series requires timeInterval");if("undefined"==typeof e.maxDataPoints)throw Error("FixedDuration series requires maxDataPoints");this.palette=new Rickshaw.Color.Palette(a);this.timeBase="undefined"==typeof e.timeBase?Math.floor((new Date).getTime()/1E3):e.timeBase;this.setTimeInterval(e.timeInterval);this[0]&&this[0].data&&this[0].data.length?
(this.currentSize=this[0].data.length,this.currentIndex=this[0].data.length):(this.currentSize=0,this.currentIndex=0);this.maxDataPoints=e.maxDataPoints;h&&"object"==typeof h&&h instanceof Array&&(h.forEach(function(a){this.addItem(a)},this),this.currentSize+=1,this.currentIndex+=1);this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval;if("undefined"!=typeof this.maxDataPoints&&this.currentSize<this.maxDataPoints)for(var f=this.maxDataPoints-this.currentSize-1;0<f;f--)this.currentSize+=
1,this.currentIndex+=1,this.forEach(function(a){a.data.unshift({x:((f-1)*this.timeInterval||1)+this.timeBase,y:0,i:f})},this)},addData:function($super,a){$super(a);this.currentSize+=1;this.currentIndex+=1;if(void 0!==this.maxDataPoints)for(;this.currentSize>this.maxDataPoints;)this.dropData()},dropData:function(){this.forEach(function(h){h.data.splice(0,1)});this.currentSize-=1},getIndex:function(){return this.currentIndex}});
